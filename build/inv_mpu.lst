ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"inv_mpu.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.get_accel_prod_shift,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	get_accel_prod_shift:
  26              	.LVL0:
  27              	.LFB594:
  28              		.file 1 "Drivers/MPU6050/inv_mpu.c"
   1:Drivers/MPU6050/inv_mpu.c **** /*
   2:Drivers/MPU6050/inv_mpu.c ****  $License:
   3:Drivers/MPU6050/inv_mpu.c ****     Copyright (C) 2011-2012 InvenSense Corporation, All Rights Reserved.
   4:Drivers/MPU6050/inv_mpu.c ****     See included License.txt for License information.
   5:Drivers/MPU6050/inv_mpu.c ****  $
   6:Drivers/MPU6050/inv_mpu.c ****  */
   7:Drivers/MPU6050/inv_mpu.c **** /**
   8:Drivers/MPU6050/inv_mpu.c ****  *  @addtogroup  DRIVERS Sensor Driver Layer
   9:Drivers/MPU6050/inv_mpu.c ****  *  @brief       Hardware drivers to communicate with sensors via I2C.
  10:Drivers/MPU6050/inv_mpu.c ****  *
  11:Drivers/MPU6050/inv_mpu.c ****  *  @{
  12:Drivers/MPU6050/inv_mpu.c ****  *      @file       inv_mpu.c
  13:Drivers/MPU6050/inv_mpu.c ****  *      @brief      An I2C-based driver for Invensense gyroscopes.
  14:Drivers/MPU6050/inv_mpu.c ****  *      @details    This driver currently works for the following devices:
  15:Drivers/MPU6050/inv_mpu.c ****  *                  MPU6050
  16:Drivers/MPU6050/inv_mpu.c ****  *                  MPU6500
  17:Drivers/MPU6050/inv_mpu.c ****  *                  MPU9150 (or MPU6050 w/ AK8975 on the auxiliary bus)
  18:Drivers/MPU6050/inv_mpu.c ****  *                  MPU9250 (or MPU6500 w/ AK8963 on the auxiliary bus)
  19:Drivers/MPU6050/inv_mpu.c ****  */
  20:Drivers/MPU6050/inv_mpu.c **** #include <stdio.h>
  21:Drivers/MPU6050/inv_mpu.c **** #include <stdint.h>
  22:Drivers/MPU6050/inv_mpu.c **** #include <stdlib.h>
  23:Drivers/MPU6050/inv_mpu.c **** #include <string.h>
  24:Drivers/MPU6050/inv_mpu.c **** #include <math.h>
  25:Drivers/MPU6050/inv_mpu.c **** #include "main.h"
  26:Drivers/MPU6050/inv_mpu.c **** #include "inv_mpu.h"
  27:Drivers/MPU6050/inv_mpu.c **** #include "STM32_I2C.h"
  28:Drivers/MPU6050/inv_mpu.c **** /* The following functions must be defined for this platform:
  29:Drivers/MPU6050/inv_mpu.c ****  * i2c_write(unsigned char slave_addr, unsigned char reg_addr,
  30:Drivers/MPU6050/inv_mpu.c ****  *      unsigned char length, unsigned char const *data)
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 2


  31:Drivers/MPU6050/inv_mpu.c ****  * i2c_read(unsigned char slave_addr, unsigned char reg_addr,
  32:Drivers/MPU6050/inv_mpu.c ****  *      unsigned char length, unsigned char *data)
  33:Drivers/MPU6050/inv_mpu.c ****  * delay_ms(unsigned long num_ms)
  34:Drivers/MPU6050/inv_mpu.c ****  * get_ms(unsigned long *count)
  35:Drivers/MPU6050/inv_mpu.c ****  * reg_int_cb(void (*cb)(void), unsigned char port, unsigned char pin)
  36:Drivers/MPU6050/inv_mpu.c ****  * labs(long x)
  37:Drivers/MPU6050/inv_mpu.c ****  * fabsf(float x)
  38:Drivers/MPU6050/inv_mpu.c ****  * min(int a, int b)
  39:Drivers/MPU6050/inv_mpu.c ****  */
  40:Drivers/MPU6050/inv_mpu.c **** #define MPU6050
  41:Drivers/MPU6050/inv_mpu.c **** #define MOTION_DRIVER_TARGET_MSP430
  42:Drivers/MPU6050/inv_mpu.c **** 
  43:Drivers/MPU6050/inv_mpu.c **** #if defined MOTION_DRIVER_TARGET_MSP430
  44:Drivers/MPU6050/inv_mpu.c **** 
  45:Drivers/MPU6050/inv_mpu.c **** void get_ms(unsigned long *time)
  46:Drivers/MPU6050/inv_mpu.c **** {
  47:Drivers/MPU6050/inv_mpu.c ****   time[0] = HAL_GetTick();
  48:Drivers/MPU6050/inv_mpu.c **** }
  49:Drivers/MPU6050/inv_mpu.c **** void delay_us(uint32_t n)
  50:Drivers/MPU6050/inv_mpu.c **** {
  51:Drivers/MPU6050/inv_mpu.c **** 	uint8_t j;
  52:Drivers/MPU6050/inv_mpu.c **** 	while(n--)
  53:Drivers/MPU6050/inv_mpu.c **** 	for(j=0;j<10;j++);
  54:Drivers/MPU6050/inv_mpu.c **** }
  55:Drivers/MPU6050/inv_mpu.c **** void delay_ms(uint32_t n)
  56:Drivers/MPU6050/inv_mpu.c **** {
  57:Drivers/MPU6050/inv_mpu.c ****   HAL_Delay(n);
  58:Drivers/MPU6050/inv_mpu.c **** }
  59:Drivers/MPU6050/inv_mpu.c **** 
  60:Drivers/MPU6050/inv_mpu.c **** #define i2c_write   i2cwrite
  61:Drivers/MPU6050/inv_mpu.c **** #define i2c_read    i2cread
  62:Drivers/MPU6050/inv_mpu.c **** #define delay_ms    delay_ms
  63:Drivers/MPU6050/inv_mpu.c **** #define get_ms      get_ms
  64:Drivers/MPU6050/inv_mpu.c **** #define log_e    printf
  65:Drivers/MPU6050/inv_mpu.c **** #define log_i    printf
  66:Drivers/MPU6050/inv_mpu.c **** /* labs is already defined by TI's toolchain. */
  67:Drivers/MPU6050/inv_mpu.c **** /* fabs is for doubles. fabsf is for floats. */
  68:Drivers/MPU6050/inv_mpu.c **** #define fabs        fabsf
  69:Drivers/MPU6050/inv_mpu.c **** #define min(a,b) ((a<b)?a:b)
  70:Drivers/MPU6050/inv_mpu.c **** 
  71:Drivers/MPU6050/inv_mpu.c **** #elif defined EMPL_TARGET_MSP430
  72:Drivers/MPU6050/inv_mpu.c **** #include "msp430.h"
  73:Drivers/MPU6050/inv_mpu.c **** #include "msp430_i2c.h"
  74:Drivers/MPU6050/inv_mpu.c **** #include "msp430_clock.h"
  75:Drivers/MPU6050/inv_mpu.c **** #include "msp430_interrupt.h"
  76:Drivers/MPU6050/inv_mpu.c **** #include "log.h"
  77:Drivers/MPU6050/inv_mpu.c **** #define i2c_write   msp430_i2c_write
  78:Drivers/MPU6050/inv_mpu.c **** #define i2c_read    msp430_i2c_read
  79:Drivers/MPU6050/inv_mpu.c **** #define delay_ms    msp430_delay_ms
  80:Drivers/MPU6050/inv_mpu.c **** #define get_ms      msp430_get_clock_ms
  81:Drivers/MPU6050/inv_mpu.c **** static inline int reg_int_cb(struct int_param_s *int_param)
  82:Drivers/MPU6050/inv_mpu.c **** {
  83:Drivers/MPU6050/inv_mpu.c ****     return msp430_reg_int_cb(int_param->cb, int_param->pin, int_param->lp_exit,
  84:Drivers/MPU6050/inv_mpu.c ****         int_param->active_low);
  85:Drivers/MPU6050/inv_mpu.c **** }
  86:Drivers/MPU6050/inv_mpu.c **** #define log_i       MPL_LOGI
  87:Drivers/MPU6050/inv_mpu.c **** #define log_e       MPL_LOGE
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 3


  88:Drivers/MPU6050/inv_mpu.c **** /* labs is already defined by TI's toolchain. */
  89:Drivers/MPU6050/inv_mpu.c **** /* fabs is for doubles. fabsf is for floats. */
  90:Drivers/MPU6050/inv_mpu.c **** #define fabs        fabsf
  91:Drivers/MPU6050/inv_mpu.c **** #define min(a,b) ((a<b)?a:b)
  92:Drivers/MPU6050/inv_mpu.c **** #elif defined EMPL_TARGET_UC3L0
  93:Drivers/MPU6050/inv_mpu.c **** /* Instead of using the standard TWI driver from the ASF library, we're using
  94:Drivers/MPU6050/inv_mpu.c ****  * a TWI driver that follows the slave address + register address convention.
  95:Drivers/MPU6050/inv_mpu.c ****  */
  96:Drivers/MPU6050/inv_mpu.c **** #include "twi.h"
  97:Drivers/MPU6050/inv_mpu.c **** #include "delay.h"
  98:Drivers/MPU6050/inv_mpu.c **** #include "sysclk.h"
  99:Drivers/MPU6050/inv_mpu.c **** #include "log.h"
 100:Drivers/MPU6050/inv_mpu.c **** #include "sensors_xplained.h"
 101:Drivers/MPU6050/inv_mpu.c **** #include "uc3l0_clock.h"
 102:Drivers/MPU6050/inv_mpu.c **** #define i2c_write(a, b, c, d)   twi_write(a, b, d, c)
 103:Drivers/MPU6050/inv_mpu.c **** #define i2c_read(a, b, c, d)    twi_read(a, b, d, c)
 104:Drivers/MPU6050/inv_mpu.c **** /* delay_ms is a function already defined in ASF. */
 105:Drivers/MPU6050/inv_mpu.c **** #define get_ms  uc3l0_get_clock_ms
 106:Drivers/MPU6050/inv_mpu.c **** static inline int reg_int_cb(struct int_param_s *int_param)
 107:Drivers/MPU6050/inv_mpu.c **** {
 108:Drivers/MPU6050/inv_mpu.c ****     sensor_board_irq_connect(int_param->pin, int_param->cb, int_param->arg);
 109:Drivers/MPU6050/inv_mpu.c ****     return 0;
 110:Drivers/MPU6050/inv_mpu.c **** }
 111:Drivers/MPU6050/inv_mpu.c **** #define log_i       MPL_LOGI
 112:Drivers/MPU6050/inv_mpu.c **** #define log_e       MPL_LOGE
 113:Drivers/MPU6050/inv_mpu.c **** /* UC3 is a 32-bit processor, so abs and labs are equivalent. */
 114:Drivers/MPU6050/inv_mpu.c **** #define labs        abs
 115:Drivers/MPU6050/inv_mpu.c **** #define fabs(x)     (((x)>0)?(x):-(x))
 116:Drivers/MPU6050/inv_mpu.c **** #else
 117:Drivers/MPU6050/inv_mpu.c **** //#error  Gyro driver is missing the system layer implementations.
 118:Drivers/MPU6050/inv_mpu.c **** #endif
 119:Drivers/MPU6050/inv_mpu.c **** 
 120:Drivers/MPU6050/inv_mpu.c **** #if !defined MPU6050 && !defined MPU9150 && !defined MPU6500 && !defined MPU9250
 121:Drivers/MPU6050/inv_mpu.c **** //#error  Which gyro are you using? Define MPUxxxx in your compiler options.
 122:Drivers/MPU6050/inv_mpu.c **** #endif
 123:Drivers/MPU6050/inv_mpu.c **** 
 124:Drivers/MPU6050/inv_mpu.c **** /* Time for some messy macro work. =]
 125:Drivers/MPU6050/inv_mpu.c ****  * #define MPU9150
 126:Drivers/MPU6050/inv_mpu.c ****  * is equivalent to..
 127:Drivers/MPU6050/inv_mpu.c ****  * #define MPU6050
 128:Drivers/MPU6050/inv_mpu.c ****  * #define AK8975_SECONDARY
 129:Drivers/MPU6050/inv_mpu.c ****  *
 130:Drivers/MPU6050/inv_mpu.c ****  * #define MPU9250
 131:Drivers/MPU6050/inv_mpu.c ****  * is equivalent to..
 132:Drivers/MPU6050/inv_mpu.c ****  * #define MPU6500
 133:Drivers/MPU6050/inv_mpu.c ****  * #define AK8963_SECONDARY
 134:Drivers/MPU6050/inv_mpu.c ****  */
 135:Drivers/MPU6050/inv_mpu.c **** #if defined MPU9150
 136:Drivers/MPU6050/inv_mpu.c **** #ifndef MPU6050
 137:Drivers/MPU6050/inv_mpu.c **** #define MPU6050
 138:Drivers/MPU6050/inv_mpu.c **** #endif                          /* #ifndef MPU6050 */
 139:Drivers/MPU6050/inv_mpu.c **** #if defined AK8963_SECONDARY
 140:Drivers/MPU6050/inv_mpu.c **** #error "MPU9150 and AK8963_SECONDARY cannot both be defined."
 141:Drivers/MPU6050/inv_mpu.c **** #elif !defined AK8975_SECONDARY /* #if defined AK8963_SECONDARY */
 142:Drivers/MPU6050/inv_mpu.c **** #define AK8975_SECONDARY
 143:Drivers/MPU6050/inv_mpu.c **** #endif                          /* #if defined AK8963_SECONDARY */
 144:Drivers/MPU6050/inv_mpu.c **** #elif defined MPU9250           /* #if defined MPU9150 */
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 4


 145:Drivers/MPU6050/inv_mpu.c **** #ifndef MPU6500
 146:Drivers/MPU6050/inv_mpu.c **** #define MPU6500
 147:Drivers/MPU6050/inv_mpu.c **** #endif                          /* #ifndef MPU6500 */
 148:Drivers/MPU6050/inv_mpu.c **** #if defined AK8975_SECONDARY
 149:Drivers/MPU6050/inv_mpu.c **** #error "MPU9250 and AK8975_SECONDARY cannot both be defined."
 150:Drivers/MPU6050/inv_mpu.c **** #elif !defined AK8963_SECONDARY /* #if defined AK8975_SECONDARY */
 151:Drivers/MPU6050/inv_mpu.c **** #define AK8963_SECONDARY
 152:Drivers/MPU6050/inv_mpu.c **** #endif                          /* #if defined AK8975_SECONDARY */
 153:Drivers/MPU6050/inv_mpu.c **** #endif                          /* #if defined MPU9150 */
 154:Drivers/MPU6050/inv_mpu.c **** 
 155:Drivers/MPU6050/inv_mpu.c **** #if defined AK8975_SECONDARY || defined AK8963_SECONDARY
 156:Drivers/MPU6050/inv_mpu.c **** #define AK89xx_SECONDARY
 157:Drivers/MPU6050/inv_mpu.c **** #else
 158:Drivers/MPU6050/inv_mpu.c **** /* #warning "No compass = less profit for Invensense. Lame." */
 159:Drivers/MPU6050/inv_mpu.c **** #endif
 160:Drivers/MPU6050/inv_mpu.c **** 
 161:Drivers/MPU6050/inv_mpu.c **** static int set_int_enable(unsigned char enable);
 162:Drivers/MPU6050/inv_mpu.c **** 
 163:Drivers/MPU6050/inv_mpu.c **** /* Hardware registers needed by driver. */
 164:Drivers/MPU6050/inv_mpu.c **** struct gyro_reg_s {
 165:Drivers/MPU6050/inv_mpu.c ****     unsigned char who_am_i;
 166:Drivers/MPU6050/inv_mpu.c ****     unsigned char rate_div;
 167:Drivers/MPU6050/inv_mpu.c ****     unsigned char lpf;
 168:Drivers/MPU6050/inv_mpu.c ****     unsigned char prod_id;
 169:Drivers/MPU6050/inv_mpu.c ****     unsigned char user_ctrl;
 170:Drivers/MPU6050/inv_mpu.c ****     unsigned char fifo_en;
 171:Drivers/MPU6050/inv_mpu.c ****     unsigned char gyro_cfg;
 172:Drivers/MPU6050/inv_mpu.c ****     unsigned char accel_cfg;
 173:Drivers/MPU6050/inv_mpu.c **** 
 174:Drivers/MPU6050/inv_mpu.c ****     //unsigned char accel_cfg2;
 175:Drivers/MPU6050/inv_mpu.c **** 
 176:Drivers/MPU6050/inv_mpu.c ****     //unsigned char lp_accel_odr;
 177:Drivers/MPU6050/inv_mpu.c **** 
 178:Drivers/MPU6050/inv_mpu.c ****     unsigned char motion_thr;
 179:Drivers/MPU6050/inv_mpu.c ****     unsigned char motion_dur;
 180:Drivers/MPU6050/inv_mpu.c ****     unsigned char fifo_count_h;
 181:Drivers/MPU6050/inv_mpu.c ****     unsigned char fifo_r_w;
 182:Drivers/MPU6050/inv_mpu.c ****     unsigned char raw_gyro;
 183:Drivers/MPU6050/inv_mpu.c ****     unsigned char raw_accel;
 184:Drivers/MPU6050/inv_mpu.c ****     unsigned char temp;
 185:Drivers/MPU6050/inv_mpu.c ****     unsigned char int_enable;
 186:Drivers/MPU6050/inv_mpu.c ****     unsigned char dmp_int_status;
 187:Drivers/MPU6050/inv_mpu.c ****     unsigned char int_status;
 188:Drivers/MPU6050/inv_mpu.c **** 
 189:Drivers/MPU6050/inv_mpu.c ****     //unsigned char accel_intel;
 190:Drivers/MPU6050/inv_mpu.c **** 
 191:Drivers/MPU6050/inv_mpu.c ****     unsigned char pwr_mgmt_1;
 192:Drivers/MPU6050/inv_mpu.c ****     unsigned char pwr_mgmt_2;
 193:Drivers/MPU6050/inv_mpu.c ****     unsigned char int_pin_cfg;
 194:Drivers/MPU6050/inv_mpu.c ****     unsigned char mem_r_w;
 195:Drivers/MPU6050/inv_mpu.c ****     unsigned char accel_offs;
 196:Drivers/MPU6050/inv_mpu.c ****     unsigned char i2c_mst;
 197:Drivers/MPU6050/inv_mpu.c ****     unsigned char bank_sel;
 198:Drivers/MPU6050/inv_mpu.c ****     unsigned char mem_start_addr;
 199:Drivers/MPU6050/inv_mpu.c ****     unsigned char prgm_start_h;
 200:Drivers/MPU6050/inv_mpu.c **** #if defined AK89xx_SECONDARY
 201:Drivers/MPU6050/inv_mpu.c ****     unsigned char s0_addr;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 5


 202:Drivers/MPU6050/inv_mpu.c ****     unsigned char s0_reg;
 203:Drivers/MPU6050/inv_mpu.c ****     unsigned char s0_ctrl;
 204:Drivers/MPU6050/inv_mpu.c ****     unsigned char s1_addr;
 205:Drivers/MPU6050/inv_mpu.c ****     unsigned char s1_reg;
 206:Drivers/MPU6050/inv_mpu.c ****     unsigned char s1_ctrl;
 207:Drivers/MPU6050/inv_mpu.c ****     unsigned char s4_ctrl;
 208:Drivers/MPU6050/inv_mpu.c ****     unsigned char s0_do;
 209:Drivers/MPU6050/inv_mpu.c ****     unsigned char s1_do;
 210:Drivers/MPU6050/inv_mpu.c ****     unsigned char i2c_delay_ctrl;
 211:Drivers/MPU6050/inv_mpu.c ****     unsigned char raw_compass;
 212:Drivers/MPU6050/inv_mpu.c ****     /* The I2C_MST_VDDIO bit is in this register. */
 213:Drivers/MPU6050/inv_mpu.c ****     unsigned char yg_offs_tc;
 214:Drivers/MPU6050/inv_mpu.c **** #endif
 215:Drivers/MPU6050/inv_mpu.c **** };
 216:Drivers/MPU6050/inv_mpu.c **** 
 217:Drivers/MPU6050/inv_mpu.c **** /* Information specific to a particular device. */
 218:Drivers/MPU6050/inv_mpu.c **** struct hw_s {
 219:Drivers/MPU6050/inv_mpu.c ****     unsigned char addr;
 220:Drivers/MPU6050/inv_mpu.c ****     unsigned short max_fifo;
 221:Drivers/MPU6050/inv_mpu.c ****     unsigned char num_reg;
 222:Drivers/MPU6050/inv_mpu.c ****     unsigned short temp_sens;
 223:Drivers/MPU6050/inv_mpu.c ****     short temp_offset;
 224:Drivers/MPU6050/inv_mpu.c ****     unsigned short bank_size;
 225:Drivers/MPU6050/inv_mpu.c **** #if defined AK89xx_SECONDARY
 226:Drivers/MPU6050/inv_mpu.c ****     unsigned short compass_fsr;
 227:Drivers/MPU6050/inv_mpu.c **** #endif
 228:Drivers/MPU6050/inv_mpu.c **** };
 229:Drivers/MPU6050/inv_mpu.c **** 
 230:Drivers/MPU6050/inv_mpu.c **** /* When entering motion interrupt mode, the driver keeps track of the
 231:Drivers/MPU6050/inv_mpu.c ****  * previous state so that it can be restored at a later time.
 232:Drivers/MPU6050/inv_mpu.c ****  * TODO: This is tacky. Fix it.
 233:Drivers/MPU6050/inv_mpu.c ****  */
 234:Drivers/MPU6050/inv_mpu.c **** struct motion_int_cache_s {
 235:Drivers/MPU6050/inv_mpu.c ****     unsigned short gyro_fsr;
 236:Drivers/MPU6050/inv_mpu.c ****     unsigned char accel_fsr;
 237:Drivers/MPU6050/inv_mpu.c ****     unsigned short lpf;
 238:Drivers/MPU6050/inv_mpu.c ****     unsigned short sample_rate;
 239:Drivers/MPU6050/inv_mpu.c ****     unsigned char sensors_on;
 240:Drivers/MPU6050/inv_mpu.c ****     unsigned char fifo_sensors;
 241:Drivers/MPU6050/inv_mpu.c ****     unsigned char dmp_on;
 242:Drivers/MPU6050/inv_mpu.c **** };
 243:Drivers/MPU6050/inv_mpu.c **** 
 244:Drivers/MPU6050/inv_mpu.c **** /* Cached chip configuration data.
 245:Drivers/MPU6050/inv_mpu.c ****  * TODO: A lot of these can be handled with a bitmask.
 246:Drivers/MPU6050/inv_mpu.c ****  */
 247:Drivers/MPU6050/inv_mpu.c **** struct chip_cfg_s {
 248:Drivers/MPU6050/inv_mpu.c ****     /* Matches gyro_cfg >> 3 & 0x03 */
 249:Drivers/MPU6050/inv_mpu.c ****     unsigned char gyro_fsr;
 250:Drivers/MPU6050/inv_mpu.c ****     /* Matches accel_cfg >> 3 & 0x03 */
 251:Drivers/MPU6050/inv_mpu.c ****     unsigned char accel_fsr;
 252:Drivers/MPU6050/inv_mpu.c ****     /* Enabled sensors. Uses same masks as fifo_en, NOT pwr_mgmt_2. */
 253:Drivers/MPU6050/inv_mpu.c ****     unsigned char sensors;
 254:Drivers/MPU6050/inv_mpu.c ****     /* Matches config register. */
 255:Drivers/MPU6050/inv_mpu.c ****     unsigned char lpf;
 256:Drivers/MPU6050/inv_mpu.c ****     unsigned char clk_src;
 257:Drivers/MPU6050/inv_mpu.c ****     /* Sample rate, NOT rate divider. */
 258:Drivers/MPU6050/inv_mpu.c ****     unsigned short sample_rate;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 6


 259:Drivers/MPU6050/inv_mpu.c ****     /* Matches fifo_en register. */
 260:Drivers/MPU6050/inv_mpu.c ****     unsigned char fifo_enable;
 261:Drivers/MPU6050/inv_mpu.c ****     /* Matches int enable register. */
 262:Drivers/MPU6050/inv_mpu.c ****     unsigned char int_enable;
 263:Drivers/MPU6050/inv_mpu.c ****     /* 1 if devices on auxiliary I2C bus appear on the primary. */
 264:Drivers/MPU6050/inv_mpu.c ****     unsigned char bypass_mode;
 265:Drivers/MPU6050/inv_mpu.c ****     /* 1 if half-sensitivity.
 266:Drivers/MPU6050/inv_mpu.c ****      * NOTE: This doesn't belong here, but everything else in hw_s is const,
 267:Drivers/MPU6050/inv_mpu.c ****      * and this allows us to save some precious RAM.
 268:Drivers/MPU6050/inv_mpu.c ****      */
 269:Drivers/MPU6050/inv_mpu.c ****     unsigned char accel_half;
 270:Drivers/MPU6050/inv_mpu.c ****     /* 1 if device in low-power accel-only mode. */
 271:Drivers/MPU6050/inv_mpu.c ****     unsigned char lp_accel_mode;
 272:Drivers/MPU6050/inv_mpu.c ****     /* 1 if interrupts are only triggered on motion events. */
 273:Drivers/MPU6050/inv_mpu.c ****     unsigned char int_motion_only;
 274:Drivers/MPU6050/inv_mpu.c ****     struct motion_int_cache_s cache;
 275:Drivers/MPU6050/inv_mpu.c ****     /* 1 for active low interrupts. */
 276:Drivers/MPU6050/inv_mpu.c ****     unsigned char active_low_int;
 277:Drivers/MPU6050/inv_mpu.c ****     /* 1 for latched interrupts. */
 278:Drivers/MPU6050/inv_mpu.c ****     unsigned char latched_int;
 279:Drivers/MPU6050/inv_mpu.c ****     /* 1 if DMP is enabled. */
 280:Drivers/MPU6050/inv_mpu.c ****     unsigned char dmp_on;
 281:Drivers/MPU6050/inv_mpu.c ****     /* Ensures that DMP will only be loaded once. */
 282:Drivers/MPU6050/inv_mpu.c ****     unsigned char dmp_loaded;
 283:Drivers/MPU6050/inv_mpu.c ****     /* Sampling rate used when DMP is enabled. */
 284:Drivers/MPU6050/inv_mpu.c ****     unsigned short dmp_sample_rate;
 285:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 286:Drivers/MPU6050/inv_mpu.c ****     /* Compass sample rate. */
 287:Drivers/MPU6050/inv_mpu.c ****     unsigned short compass_sample_rate;
 288:Drivers/MPU6050/inv_mpu.c ****     unsigned char compass_addr;
 289:Drivers/MPU6050/inv_mpu.c ****     short mag_sens_adj[3];
 290:Drivers/MPU6050/inv_mpu.c **** #endif
 291:Drivers/MPU6050/inv_mpu.c **** };
 292:Drivers/MPU6050/inv_mpu.c **** 
 293:Drivers/MPU6050/inv_mpu.c **** /* Information for self-test. */
 294:Drivers/MPU6050/inv_mpu.c **** struct test_s {
 295:Drivers/MPU6050/inv_mpu.c ****     unsigned long gyro_sens;
 296:Drivers/MPU6050/inv_mpu.c ****     unsigned long accel_sens;
 297:Drivers/MPU6050/inv_mpu.c ****     unsigned char reg_rate_div;
 298:Drivers/MPU6050/inv_mpu.c ****     unsigned char reg_lpf;
 299:Drivers/MPU6050/inv_mpu.c ****     unsigned char reg_gyro_fsr;
 300:Drivers/MPU6050/inv_mpu.c ****     unsigned char reg_accel_fsr;
 301:Drivers/MPU6050/inv_mpu.c ****     unsigned short wait_ms;
 302:Drivers/MPU6050/inv_mpu.c ****     unsigned char packet_thresh;
 303:Drivers/MPU6050/inv_mpu.c ****     float min_dps;
 304:Drivers/MPU6050/inv_mpu.c ****     float max_dps;
 305:Drivers/MPU6050/inv_mpu.c ****     float max_gyro_var;
 306:Drivers/MPU6050/inv_mpu.c ****     float min_g;
 307:Drivers/MPU6050/inv_mpu.c ****     float max_g;
 308:Drivers/MPU6050/inv_mpu.c ****     float max_accel_var;
 309:Drivers/MPU6050/inv_mpu.c **** };
 310:Drivers/MPU6050/inv_mpu.c **** 
 311:Drivers/MPU6050/inv_mpu.c **** /* Gyro driver state variables. */
 312:Drivers/MPU6050/inv_mpu.c **** struct gyro_state_s {
 313:Drivers/MPU6050/inv_mpu.c ****     const struct gyro_reg_s *reg;
 314:Drivers/MPU6050/inv_mpu.c ****     const struct hw_s *hw;
 315:Drivers/MPU6050/inv_mpu.c ****     struct chip_cfg_s chip_cfg;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 7


 316:Drivers/MPU6050/inv_mpu.c ****     const struct test_s *test;
 317:Drivers/MPU6050/inv_mpu.c **** };
 318:Drivers/MPU6050/inv_mpu.c **** 
 319:Drivers/MPU6050/inv_mpu.c **** /* Filter configurations. */
 320:Drivers/MPU6050/inv_mpu.c **** enum lpf_e {
 321:Drivers/MPU6050/inv_mpu.c ****     INV_FILTER_256HZ_NOLPF2 = 0,
 322:Drivers/MPU6050/inv_mpu.c ****     INV_FILTER_188HZ,
 323:Drivers/MPU6050/inv_mpu.c ****     INV_FILTER_98HZ,
 324:Drivers/MPU6050/inv_mpu.c ****     INV_FILTER_42HZ,
 325:Drivers/MPU6050/inv_mpu.c ****     INV_FILTER_20HZ,
 326:Drivers/MPU6050/inv_mpu.c ****     INV_FILTER_10HZ,
 327:Drivers/MPU6050/inv_mpu.c ****     INV_FILTER_5HZ,
 328:Drivers/MPU6050/inv_mpu.c ****     INV_FILTER_2100HZ_NOLPF,
 329:Drivers/MPU6050/inv_mpu.c ****     NUM_FILTER
 330:Drivers/MPU6050/inv_mpu.c **** };
 331:Drivers/MPU6050/inv_mpu.c **** 
 332:Drivers/MPU6050/inv_mpu.c **** /* Full scale ranges. */
 333:Drivers/MPU6050/inv_mpu.c **** enum gyro_fsr_e {
 334:Drivers/MPU6050/inv_mpu.c ****     INV_FSR_250DPS = 0,
 335:Drivers/MPU6050/inv_mpu.c ****     INV_FSR_500DPS,
 336:Drivers/MPU6050/inv_mpu.c ****     INV_FSR_1000DPS,
 337:Drivers/MPU6050/inv_mpu.c ****     INV_FSR_2000DPS,
 338:Drivers/MPU6050/inv_mpu.c ****     NUM_GYRO_FSR
 339:Drivers/MPU6050/inv_mpu.c **** };
 340:Drivers/MPU6050/inv_mpu.c **** 
 341:Drivers/MPU6050/inv_mpu.c **** /* Full scale ranges. */
 342:Drivers/MPU6050/inv_mpu.c **** enum accel_fsr_e {
 343:Drivers/MPU6050/inv_mpu.c ****     INV_FSR_2G = 0,
 344:Drivers/MPU6050/inv_mpu.c ****     INV_FSR_4G,
 345:Drivers/MPU6050/inv_mpu.c ****     INV_FSR_8G,
 346:Drivers/MPU6050/inv_mpu.c ****     INV_FSR_16G,
 347:Drivers/MPU6050/inv_mpu.c ****     NUM_ACCEL_FSR
 348:Drivers/MPU6050/inv_mpu.c **** };
 349:Drivers/MPU6050/inv_mpu.c **** 
 350:Drivers/MPU6050/inv_mpu.c **** /* Clock sources. */
 351:Drivers/MPU6050/inv_mpu.c **** enum clock_sel_e {
 352:Drivers/MPU6050/inv_mpu.c ****     INV_CLK_INTERNAL = 0,
 353:Drivers/MPU6050/inv_mpu.c ****     INV_CLK_PLL,
 354:Drivers/MPU6050/inv_mpu.c ****     NUM_CLK
 355:Drivers/MPU6050/inv_mpu.c **** };
 356:Drivers/MPU6050/inv_mpu.c **** 
 357:Drivers/MPU6050/inv_mpu.c **** /* Low-power accel wakeup rates. */
 358:Drivers/MPU6050/inv_mpu.c **** enum lp_accel_rate_e {
 359:Drivers/MPU6050/inv_mpu.c **** #if defined MPU6050
 360:Drivers/MPU6050/inv_mpu.c ****     INV_LPA_1_25HZ,
 361:Drivers/MPU6050/inv_mpu.c ****     INV_LPA_5HZ,
 362:Drivers/MPU6050/inv_mpu.c ****     INV_LPA_20HZ,
 363:Drivers/MPU6050/inv_mpu.c ****     INV_LPA_40HZ
 364:Drivers/MPU6050/inv_mpu.c **** #elif defined MPU6500
 365:Drivers/MPU6050/inv_mpu.c ****     INV_LPA_0_3125HZ,
 366:Drivers/MPU6050/inv_mpu.c ****     INV_LPA_0_625HZ,
 367:Drivers/MPU6050/inv_mpu.c ****     INV_LPA_1_25HZ,
 368:Drivers/MPU6050/inv_mpu.c ****     INV_LPA_2_5HZ,
 369:Drivers/MPU6050/inv_mpu.c ****     INV_LPA_5HZ,
 370:Drivers/MPU6050/inv_mpu.c ****     INV_LPA_10HZ,
 371:Drivers/MPU6050/inv_mpu.c ****     INV_LPA_20HZ,
 372:Drivers/MPU6050/inv_mpu.c ****     INV_LPA_40HZ,
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 8


 373:Drivers/MPU6050/inv_mpu.c ****     INV_LPA_80HZ,
 374:Drivers/MPU6050/inv_mpu.c ****     INV_LPA_160HZ,
 375:Drivers/MPU6050/inv_mpu.c ****     INV_LPA_320HZ,
 376:Drivers/MPU6050/inv_mpu.c ****     INV_LPA_640HZ
 377:Drivers/MPU6050/inv_mpu.c **** #endif
 378:Drivers/MPU6050/inv_mpu.c **** };
 379:Drivers/MPU6050/inv_mpu.c **** 
 380:Drivers/MPU6050/inv_mpu.c **** #define BIT_I2C_MST_VDDIO   (0x80)
 381:Drivers/MPU6050/inv_mpu.c **** #define BIT_FIFO_EN         (0x40)
 382:Drivers/MPU6050/inv_mpu.c **** #define BIT_DMP_EN          (0x80)
 383:Drivers/MPU6050/inv_mpu.c **** #define BIT_FIFO_RST        (0x04)
 384:Drivers/MPU6050/inv_mpu.c **** #define BIT_DMP_RST         (0x08)
 385:Drivers/MPU6050/inv_mpu.c **** #define BIT_FIFO_OVERFLOW   (0x10)
 386:Drivers/MPU6050/inv_mpu.c **** #define BIT_DATA_RDY_EN     (0x01)
 387:Drivers/MPU6050/inv_mpu.c **** #define BIT_DMP_INT_EN      (0x02)
 388:Drivers/MPU6050/inv_mpu.c **** #define BIT_MOT_INT_EN      (0x40)
 389:Drivers/MPU6050/inv_mpu.c **** #define BITS_FSR            (0x18)
 390:Drivers/MPU6050/inv_mpu.c **** #define BITS_LPF            (0x07)
 391:Drivers/MPU6050/inv_mpu.c **** #define BITS_HPF            (0x07)
 392:Drivers/MPU6050/inv_mpu.c **** #define BITS_CLK            (0x07)
 393:Drivers/MPU6050/inv_mpu.c **** #define BIT_FIFO_SIZE_1024  (0x40)
 394:Drivers/MPU6050/inv_mpu.c **** #define BIT_FIFO_SIZE_2048  (0x80)
 395:Drivers/MPU6050/inv_mpu.c **** #define BIT_FIFO_SIZE_4096  (0xC0)
 396:Drivers/MPU6050/inv_mpu.c **** #define BIT_RESET           (0x80)
 397:Drivers/MPU6050/inv_mpu.c **** #define BIT_SLEEP           (0x40)
 398:Drivers/MPU6050/inv_mpu.c **** #define BIT_S0_DELAY_EN     (0x01)
 399:Drivers/MPU6050/inv_mpu.c **** #define BIT_S2_DELAY_EN     (0x04)
 400:Drivers/MPU6050/inv_mpu.c **** #define BITS_SLAVE_LENGTH   (0x0F)
 401:Drivers/MPU6050/inv_mpu.c **** #define BIT_SLAVE_BYTE_SW   (0x40)
 402:Drivers/MPU6050/inv_mpu.c **** #define BIT_SLAVE_GROUP     (0x10)
 403:Drivers/MPU6050/inv_mpu.c **** #define BIT_SLAVE_EN        (0x80)
 404:Drivers/MPU6050/inv_mpu.c **** #define BIT_I2C_READ        (0x80)
 405:Drivers/MPU6050/inv_mpu.c **** #define BITS_I2C_MASTER_DLY (0x1F)
 406:Drivers/MPU6050/inv_mpu.c **** #define BIT_AUX_IF_EN       (0x20)
 407:Drivers/MPU6050/inv_mpu.c **** #define BIT_ACTL            (0x80)
 408:Drivers/MPU6050/inv_mpu.c **** #define BIT_LATCH_EN        (0x20)
 409:Drivers/MPU6050/inv_mpu.c **** #define BIT_ANY_RD_CLR      (0x10)
 410:Drivers/MPU6050/inv_mpu.c **** #define BIT_BYPASS_EN       (0x02)
 411:Drivers/MPU6050/inv_mpu.c **** #define BITS_WOM_EN         (0xC0)
 412:Drivers/MPU6050/inv_mpu.c **** #define BIT_LPA_CYCLE       (0x20)
 413:Drivers/MPU6050/inv_mpu.c **** #define BIT_STBY_XA         (0x20)
 414:Drivers/MPU6050/inv_mpu.c **** #define BIT_STBY_YA         (0x10)
 415:Drivers/MPU6050/inv_mpu.c **** #define BIT_STBY_ZA         (0x08)
 416:Drivers/MPU6050/inv_mpu.c **** #define BIT_STBY_XG         (0x04)
 417:Drivers/MPU6050/inv_mpu.c **** #define BIT_STBY_YG         (0x02)
 418:Drivers/MPU6050/inv_mpu.c **** #define BIT_STBY_ZG         (0x01)
 419:Drivers/MPU6050/inv_mpu.c **** #define BIT_STBY_XYZA       (BIT_STBY_XA | BIT_STBY_YA | BIT_STBY_ZA)
 420:Drivers/MPU6050/inv_mpu.c **** #define BIT_STBY_XYZG       (BIT_STBY_XG | BIT_STBY_YG | BIT_STBY_ZG)
 421:Drivers/MPU6050/inv_mpu.c **** 
 422:Drivers/MPU6050/inv_mpu.c **** #if defined AK8975_SECONDARY
 423:Drivers/MPU6050/inv_mpu.c **** #define SUPPORTS_AK89xx_HIGH_SENS   (0x00)
 424:Drivers/MPU6050/inv_mpu.c **** #define AK89xx_FSR                  (9830)
 425:Drivers/MPU6050/inv_mpu.c **** #elif defined AK8963_SECONDARY
 426:Drivers/MPU6050/inv_mpu.c **** #define SUPPORTS_AK89xx_HIGH_SENS   (0x10)
 427:Drivers/MPU6050/inv_mpu.c **** #define AK89xx_FSR                  (4915)
 428:Drivers/MPU6050/inv_mpu.c **** #endif
 429:Drivers/MPU6050/inv_mpu.c **** 
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 9


 430:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 431:Drivers/MPU6050/inv_mpu.c **** #define AKM_REG_WHOAMI      (0x00)
 432:Drivers/MPU6050/inv_mpu.c **** 
 433:Drivers/MPU6050/inv_mpu.c **** #define AKM_REG_ST1         (0x02)
 434:Drivers/MPU6050/inv_mpu.c **** #define AKM_REG_HXL         (0x03)
 435:Drivers/MPU6050/inv_mpu.c **** #define AKM_REG_ST2         (0x09)
 436:Drivers/MPU6050/inv_mpu.c **** 
 437:Drivers/MPU6050/inv_mpu.c **** #define AKM_REG_CNTL        (0x0A)
 438:Drivers/MPU6050/inv_mpu.c **** #define AKM_REG_ASTC        (0x0C)
 439:Drivers/MPU6050/inv_mpu.c **** #define AKM_REG_ASAX        (0x10)
 440:Drivers/MPU6050/inv_mpu.c **** #define AKM_REG_ASAY        (0x11)
 441:Drivers/MPU6050/inv_mpu.c **** #define AKM_REG_ASAZ        (0x12)
 442:Drivers/MPU6050/inv_mpu.c **** 
 443:Drivers/MPU6050/inv_mpu.c **** #define AKM_DATA_READY      (0x01)
 444:Drivers/MPU6050/inv_mpu.c **** #define AKM_DATA_OVERRUN    (0x02)
 445:Drivers/MPU6050/inv_mpu.c **** #define AKM_OVERFLOW        (0x80)
 446:Drivers/MPU6050/inv_mpu.c **** #define AKM_DATA_ERROR      (0x40)
 447:Drivers/MPU6050/inv_mpu.c **** 
 448:Drivers/MPU6050/inv_mpu.c **** #define AKM_BIT_SELF_TEST   (0x40)
 449:Drivers/MPU6050/inv_mpu.c **** 
 450:Drivers/MPU6050/inv_mpu.c **** #define AKM_POWER_DOWN          (0x00 | SUPPORTS_AK89xx_HIGH_SENS)
 451:Drivers/MPU6050/inv_mpu.c **** #define AKM_SINGLE_MEASUREMENT  (0x01 | SUPPORTS_AK89xx_HIGH_SENS)
 452:Drivers/MPU6050/inv_mpu.c **** #define AKM_FUSE_ROM_ACCESS     (0x0F | SUPPORTS_AK89xx_HIGH_SENS)
 453:Drivers/MPU6050/inv_mpu.c **** #define AKM_MODE_SELF_TEST      (0x08 | SUPPORTS_AK89xx_HIGH_SENS)
 454:Drivers/MPU6050/inv_mpu.c **** 
 455:Drivers/MPU6050/inv_mpu.c **** #define AKM_WHOAMI      (0x48)
 456:Drivers/MPU6050/inv_mpu.c **** #endif
 457:Drivers/MPU6050/inv_mpu.c **** 
 458:Drivers/MPU6050/inv_mpu.c **** #if defined MPU6050
 459:Drivers/MPU6050/inv_mpu.c **** /*
 460:Drivers/MPU6050/inv_mpu.c **** const struct gyro_reg_s reg = {
 461:Drivers/MPU6050/inv_mpu.c ****    .who_am_i       = 0x75,
 462:Drivers/MPU6050/inv_mpu.c ****     .rate_div       = 0x19,
 463:Drivers/MPU6050/inv_mpu.c ****     .lpf            = 0x1A,
 464:Drivers/MPU6050/inv_mpu.c ****     .prod_id        = 0x0C,
 465:Drivers/MPU6050/inv_mpu.c ****     .user_ctrl      = 0x6A,
 466:Drivers/MPU6050/inv_mpu.c ****     .fifo_en        = 0x23,
 467:Drivers/MPU6050/inv_mpu.c ****     .gyro_cfg       = 0x1B,
 468:Drivers/MPU6050/inv_mpu.c ****     .accel_cfg      = 0x1C,
 469:Drivers/MPU6050/inv_mpu.c ****     .motion_thr     = 0x1F,
 470:Drivers/MPU6050/inv_mpu.c ****     .motion_dur     = 0x20,
 471:Drivers/MPU6050/inv_mpu.c ****     .fifo_count_h   = 0x72,
 472:Drivers/MPU6050/inv_mpu.c ****     .fifo_r_w       = 0x74,
 473:Drivers/MPU6050/inv_mpu.c ****     .raw_gyro       = 0x43,
 474:Drivers/MPU6050/inv_mpu.c ****     .raw_accel      = 0x3B,
 475:Drivers/MPU6050/inv_mpu.c ****     .temp           = 0x41,
 476:Drivers/MPU6050/inv_mpu.c ****     .int_enable     = 0x38,
 477:Drivers/MPU6050/inv_mpu.c ****     .dmp_int_status = 0x39,
 478:Drivers/MPU6050/inv_mpu.c ****     .int_status     = 0x3A,
 479:Drivers/MPU6050/inv_mpu.c ****     .pwr_mgmt_1     = 0x6B,
 480:Drivers/MPU6050/inv_mpu.c ****     .pwr_mgmt_2     = 0x6C,
 481:Drivers/MPU6050/inv_mpu.c ****     .int_pin_cfg    = 0x37,
 482:Drivers/MPU6050/inv_mpu.c ****     .mem_r_w        = 0x6F,
 483:Drivers/MPU6050/inv_mpu.c ****     .accel_offs     = 0x06,
 484:Drivers/MPU6050/inv_mpu.c ****     .i2c_mst        = 0x24,
 485:Drivers/MPU6050/inv_mpu.c ****     .bank_sel       = 0x6D,
 486:Drivers/MPU6050/inv_mpu.c ****     .mem_start_addr = 0x6E,
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 10


 487:Drivers/MPU6050/inv_mpu.c ****     .prgm_start_h   = 0x70
 488:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 489:Drivers/MPU6050/inv_mpu.c ****     ,.raw_compass   = 0x49,
 490:Drivers/MPU6050/inv_mpu.c ****     .yg_offs_tc     = 0x01,
 491:Drivers/MPU6050/inv_mpu.c ****     .s0_addr        = 0x25,
 492:Drivers/MPU6050/inv_mpu.c ****     .s0_reg         = 0x26,
 493:Drivers/MPU6050/inv_mpu.c ****     .s0_ctrl        = 0x27,
 494:Drivers/MPU6050/inv_mpu.c ****     .s1_addr        = 0x28,
 495:Drivers/MPU6050/inv_mpu.c ****     .s1_reg         = 0x29,
 496:Drivers/MPU6050/inv_mpu.c ****     .s1_ctrl        = 0x2A,
 497:Drivers/MPU6050/inv_mpu.c ****     .s4_ctrl        = 0x34,
 498:Drivers/MPU6050/inv_mpu.c ****     .s0_do          = 0x63,
 499:Drivers/MPU6050/inv_mpu.c ****     .s1_do          = 0x64,
 500:Drivers/MPU6050/inv_mpu.c ****     .i2c_delay_ctrl = 0x67
 501:Drivers/MPU6050/inv_mpu.c **** #endif
 502:Drivers/MPU6050/inv_mpu.c **** };
 503:Drivers/MPU6050/inv_mpu.c **** const struct hw_s hw = {
 504:Drivers/MPU6050/inv_mpu.c ****     .addr           = 0x68,
 505:Drivers/MPU6050/inv_mpu.c ****     .max_fifo       = 1024,
 506:Drivers/MPU6050/inv_mpu.c ****     .num_reg        = 118,
 507:Drivers/MPU6050/inv_mpu.c ****     .temp_sens      = 340,
 508:Drivers/MPU6050/inv_mpu.c ****     .temp_offset    = -521,
 509:Drivers/MPU6050/inv_mpu.c ****     .bank_size      = 256
 510:Drivers/MPU6050/inv_mpu.c **** #if defined AK89xx_SECONDARY
 511:Drivers/MPU6050/inv_mpu.c ****     ,.compass_fsr    = AK89xx_FSR
 512:Drivers/MPU6050/inv_mpu.c **** #endif
 513:Drivers/MPU6050/inv_mpu.c **** };
 514:Drivers/MPU6050/inv_mpu.c **** */
 515:Drivers/MPU6050/inv_mpu.c **** const struct hw_s hw={
 516:Drivers/MPU6050/inv_mpu.c ****   0x68,	 //addr
 517:Drivers/MPU6050/inv_mpu.c ****   1024,	 //max_fifo
 518:Drivers/MPU6050/inv_mpu.c ****   118,	 //num_reg
 519:Drivers/MPU6050/inv_mpu.c ****   340,	 //temp_sens
 520:Drivers/MPU6050/inv_mpu.c ****   -521,	 //temp_offset
 521:Drivers/MPU6050/inv_mpu.c ****   256	 //bank_size
 522:Drivers/MPU6050/inv_mpu.c **** };
 523:Drivers/MPU6050/inv_mpu.c **** const struct gyro_reg_s reg = {
 524:Drivers/MPU6050/inv_mpu.c **** 0x75,  //who_am_i
 525:Drivers/MPU6050/inv_mpu.c **** 0x19,  //rate_div
 526:Drivers/MPU6050/inv_mpu.c **** 0x1A,  //lpf
 527:Drivers/MPU6050/inv_mpu.c **** 0x0C,  //prod_id
 528:Drivers/MPU6050/inv_mpu.c **** 0x6A,  //user_ctrl
 529:Drivers/MPU6050/inv_mpu.c **** 0x23,  //fifo_en
 530:Drivers/MPU6050/inv_mpu.c **** 0x1B,  //gyro_cfg
 531:Drivers/MPU6050/inv_mpu.c **** 0x1C,  //accel_cfg
 532:Drivers/MPU6050/inv_mpu.c **** 0x1F,  // motion_thr
 533:Drivers/MPU6050/inv_mpu.c **** 0x20,  // motion_dur
 534:Drivers/MPU6050/inv_mpu.c **** 0x72,  // fifo_count_h
 535:Drivers/MPU6050/inv_mpu.c **** 0x74,  // fifo_r_w
 536:Drivers/MPU6050/inv_mpu.c **** 0x43,  // raw_gyro
 537:Drivers/MPU6050/inv_mpu.c **** 0x3B,  // raw_accel
 538:Drivers/MPU6050/inv_mpu.c **** 0x41,  // temp
 539:Drivers/MPU6050/inv_mpu.c **** 0x38,  // int_enable
 540:Drivers/MPU6050/inv_mpu.c **** 0x39,  //  dmp_int_status
 541:Drivers/MPU6050/inv_mpu.c **** 0x3A,  //  int_status
 542:Drivers/MPU6050/inv_mpu.c **** 0x6B,  // pwr_mgmt_1
 543:Drivers/MPU6050/inv_mpu.c **** 0x6C,  // pwr_mgmt_2
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 11


 544:Drivers/MPU6050/inv_mpu.c **** 0x37,  // int_pin_cfg
 545:Drivers/MPU6050/inv_mpu.c **** 0x6F,  // mem_r_w
 546:Drivers/MPU6050/inv_mpu.c **** 0x06,  // accel_offs
 547:Drivers/MPU6050/inv_mpu.c **** 0x24,  // i2c_mst
 548:Drivers/MPU6050/inv_mpu.c **** 0x6D,  // bank_sel
 549:Drivers/MPU6050/inv_mpu.c **** 0x6E,  // mem_start_addr
 550:Drivers/MPU6050/inv_mpu.c **** 0x70   // prgm_start_h
 551:Drivers/MPU6050/inv_mpu.c **** };
 552:Drivers/MPU6050/inv_mpu.c **** 
 553:Drivers/MPU6050/inv_mpu.c **** //const struct test_s test = {
 554:Drivers/MPU6050/inv_mpu.c **** //    .gyro_sens      = 32768/250,
 555:Drivers/MPU6050/inv_mpu.c **** //    .accel_sens     = 32768/16,	  
 556:Drivers/MPU6050/inv_mpu.c **** //    .reg_rate_div   = 0,    /* 1kHz. */
 557:Drivers/MPU6050/inv_mpu.c **** //    .reg_lpf        = 1,    /* 188Hz. */
 558:Drivers/MPU6050/inv_mpu.c **** //    .reg_gyro_fsr   = 0,    /* 250dps. */
 559:Drivers/MPU6050/inv_mpu.c **** //    .reg_accel_fsr  = 0x18, /* 16g. */
 560:Drivers/MPU6050/inv_mpu.c **** //    .wait_ms        = 50,
 561:Drivers/MPU6050/inv_mpu.c **** //    .packet_thresh  = 5,    /* 5% */
 562:Drivers/MPU6050/inv_mpu.c **** //    .min_dps        = 10.f,
 563:Drivers/MPU6050/inv_mpu.c **** //    .max_dps        = 105.f,
 564:Drivers/MPU6050/inv_mpu.c **** //    .max_gyro_var   = 0.14f,
 565:Drivers/MPU6050/inv_mpu.c **** //    .min_g          = 0.3f,
 566:Drivers/MPU6050/inv_mpu.c **** //    .max_g          = 0.95f,
 567:Drivers/MPU6050/inv_mpu.c **** //    .max_accel_var  = 0.14f
 568:Drivers/MPU6050/inv_mpu.c **** //};
 569:Drivers/MPU6050/inv_mpu.c **** const struct test_s test={
 570:Drivers/MPU6050/inv_mpu.c **** 32768/250,		 //gyro_sens
 571:Drivers/MPU6050/inv_mpu.c **** 32768/16,		 //	accel_sens
 572:Drivers/MPU6050/inv_mpu.c **** 0,				 //	reg_rate_div
 573:Drivers/MPU6050/inv_mpu.c **** 1,				//	reg_lpf
 574:Drivers/MPU6050/inv_mpu.c **** 0,				 //	reg_gyro_fsr
 575:Drivers/MPU6050/inv_mpu.c **** 0x18,			//	reg_accel_fsr
 576:Drivers/MPU6050/inv_mpu.c **** 50,				//	wait_ms
 577:Drivers/MPU6050/inv_mpu.c **** 5,				//	packet_thresh
 578:Drivers/MPU6050/inv_mpu.c **** 10.0f,			 //	min_dps
 579:Drivers/MPU6050/inv_mpu.c **** 105.0f,			 //	max_dps
 580:Drivers/MPU6050/inv_mpu.c **** 0.14f,			//	max_gyro_var
 581:Drivers/MPU6050/inv_mpu.c **** 0.3f,		   //	min_g
 582:Drivers/MPU6050/inv_mpu.c **** 0.95f,		   //	max_g
 583:Drivers/MPU6050/inv_mpu.c **** 0.14f		   //	max_accel_var
 584:Drivers/MPU6050/inv_mpu.c **** };
 585:Drivers/MPU6050/inv_mpu.c **** /*
 586:Drivers/MPU6050/inv_mpu.c **** static struct gyro_state_s st = {
 587:Drivers/MPU6050/inv_mpu.c ****     .reg = &reg,
 588:Drivers/MPU6050/inv_mpu.c ****     .hw = &hw,
 589:Drivers/MPU6050/inv_mpu.c ****     .test = &test
 590:Drivers/MPU6050/inv_mpu.c **** };	*/
 591:Drivers/MPU6050/inv_mpu.c **** static struct gyro_state_s st={
 592:Drivers/MPU6050/inv_mpu.c ****   &reg,
 593:Drivers/MPU6050/inv_mpu.c ****   &hw,
 594:Drivers/MPU6050/inv_mpu.c ****   {0},
 595:Drivers/MPU6050/inv_mpu.c ****   &test
 596:Drivers/MPU6050/inv_mpu.c **** };
 597:Drivers/MPU6050/inv_mpu.c **** //st.chip_cfg.dmp_on = 1;
 598:Drivers/MPU6050/inv_mpu.c **** //st.dhip_cfg.fifo_enabel = 1;
 599:Drivers/MPU6050/inv_mpu.c **** /*
 600:Drivers/MPU6050/inv_mpu.c **** #elif defined MPU6500
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 12


 601:Drivers/MPU6050/inv_mpu.c **** const struct gyro_reg_s reg = {
 602:Drivers/MPU6050/inv_mpu.c ****     .who_am_i       = 0x75,
 603:Drivers/MPU6050/inv_mpu.c ****     .rate_div       = 0x19,
 604:Drivers/MPU6050/inv_mpu.c ****     .lpf            = 0x1A,
 605:Drivers/MPU6050/inv_mpu.c ****     .prod_id        = 0x0C,
 606:Drivers/MPU6050/inv_mpu.c ****     .user_ctrl      = 0x6A,
 607:Drivers/MPU6050/inv_mpu.c ****     .fifo_en        = 0x23,
 608:Drivers/MPU6050/inv_mpu.c ****     .gyro_cfg       = 0x1B,
 609:Drivers/MPU6050/inv_mpu.c ****     .accel_cfg      = 0x1C,
 610:Drivers/MPU6050/inv_mpu.c ****     .accel_cfg2     = 0x1D,
 611:Drivers/MPU6050/inv_mpu.c ****     .lp_accel_odr   = 0x1E,
 612:Drivers/MPU6050/inv_mpu.c ****     .motion_thr     = 0x1F,
 613:Drivers/MPU6050/inv_mpu.c ****     .motion_dur     = 0x20,
 614:Drivers/MPU6050/inv_mpu.c ****     .fifo_count_h   = 0x72,
 615:Drivers/MPU6050/inv_mpu.c ****     .fifo_r_w       = 0x74,
 616:Drivers/MPU6050/inv_mpu.c ****     .raw_gyro       = 0x43,
 617:Drivers/MPU6050/inv_mpu.c ****     .raw_accel      = 0x3B,
 618:Drivers/MPU6050/inv_mpu.c ****     .temp           = 0x41,
 619:Drivers/MPU6050/inv_mpu.c ****     .int_enable     = 0x38,
 620:Drivers/MPU6050/inv_mpu.c ****     .dmp_int_status = 0x39,
 621:Drivers/MPU6050/inv_mpu.c ****     .int_status     = 0x3A,
 622:Drivers/MPU6050/inv_mpu.c ****     .accel_intel    = 0x69,
 623:Drivers/MPU6050/inv_mpu.c ****     .pwr_mgmt_1     = 0x6B,
 624:Drivers/MPU6050/inv_mpu.c ****     .pwr_mgmt_2     = 0x6C,
 625:Drivers/MPU6050/inv_mpu.c ****     .int_pin_cfg    = 0x37,
 626:Drivers/MPU6050/inv_mpu.c ****     .mem_r_w        = 0x6F,
 627:Drivers/MPU6050/inv_mpu.c ****     .accel_offs     = 0x77,
 628:Drivers/MPU6050/inv_mpu.c ****     .i2c_mst        = 0x24,
 629:Drivers/MPU6050/inv_mpu.c ****     .bank_sel       = 0x6D,
 630:Drivers/MPU6050/inv_mpu.c ****     .mem_start_addr = 0x6E,
 631:Drivers/MPU6050/inv_mpu.c ****     .prgm_start_h   = 0x70
 632:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 633:Drivers/MPU6050/inv_mpu.c ****     ,.raw_compass   = 0x49,
 634:Drivers/MPU6050/inv_mpu.c ****     .s0_addr        = 0x25,
 635:Drivers/MPU6050/inv_mpu.c ****     .s0_reg         = 0x26,
 636:Drivers/MPU6050/inv_mpu.c ****     .s0_ctrl        = 0x27,
 637:Drivers/MPU6050/inv_mpu.c ****     .s1_addr        = 0x28,
 638:Drivers/MPU6050/inv_mpu.c ****     .s1_reg         = 0x29,
 639:Drivers/MPU6050/inv_mpu.c ****     .s1_ctrl        = 0x2A,
 640:Drivers/MPU6050/inv_mpu.c ****     .s4_ctrl        = 0x34,
 641:Drivers/MPU6050/inv_mpu.c ****     .s0_do          = 0x63,
 642:Drivers/MPU6050/inv_mpu.c ****     .s1_do          = 0x64,
 643:Drivers/MPU6050/inv_mpu.c ****     .i2c_delay_ctrl = 0x67
 644:Drivers/MPU6050/inv_mpu.c **** #endif
 645:Drivers/MPU6050/inv_mpu.c **** };
 646:Drivers/MPU6050/inv_mpu.c **** const struct hw_s hw = {
 647:Drivers/MPU6050/inv_mpu.c ****     .addr           = 0x68,
 648:Drivers/MPU6050/inv_mpu.c ****     .max_fifo       = 1024,
 649:Drivers/MPU6050/inv_mpu.c ****     .num_reg        = 128,
 650:Drivers/MPU6050/inv_mpu.c ****     .temp_sens      = 321,
 651:Drivers/MPU6050/inv_mpu.c ****     .temp_offset    = 0,
 652:Drivers/MPU6050/inv_mpu.c ****     .bank_size      = 256
 653:Drivers/MPU6050/inv_mpu.c **** #if defined AK89xx_SECONDARY
 654:Drivers/MPU6050/inv_mpu.c ****     ,.compass_fsr    = AK89xx_FSR
 655:Drivers/MPU6050/inv_mpu.c **** #endif
 656:Drivers/MPU6050/inv_mpu.c **** };
 657:Drivers/MPU6050/inv_mpu.c **** */
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 13


 658:Drivers/MPU6050/inv_mpu.c **** //const struct test_s test = {
 659:Drivers/MPU6050/inv_mpu.c **** //    .gyro_sens      = 32768/250,
 660:Drivers/MPU6050/inv_mpu.c **** //    .accel_sens     = 32768/16,
 661:Drivers/MPU6050/inv_mpu.c **** //    .reg_rate_div   = 0,    /* 1kHz. */
 662:Drivers/MPU6050/inv_mpu.c **** //    .reg_lpf        = 1,    /* 188Hz. */
 663:Drivers/MPU6050/inv_mpu.c **** //    .reg_gyro_fsr   = 0,    /* 250dps. */
 664:Drivers/MPU6050/inv_mpu.c **** //    .reg_accel_fsr  = 0x18, /* 16g. */
 665:Drivers/MPU6050/inv_mpu.c **** //    .wait_ms        = 50,
 666:Drivers/MPU6050/inv_mpu.c **** //    .packet_thresh  = 5,    /* 5% */
 667:Drivers/MPU6050/inv_mpu.c **** //    .min_dps        = 10.f,
 668:Drivers/MPU6050/inv_mpu.c **** //    .max_dps        = 105.f,
 669:Drivers/MPU6050/inv_mpu.c **** //    .max_gyro_var   = 0.14f,
 670:Drivers/MPU6050/inv_mpu.c **** //    .min_g          = 0.3f,
 671:Drivers/MPU6050/inv_mpu.c **** //    .max_g          = 0.95f,
 672:Drivers/MPU6050/inv_mpu.c **** //    .max_accel_var  = 0.14f
 673:Drivers/MPU6050/inv_mpu.c **** //};
 674:Drivers/MPU6050/inv_mpu.c **** //
 675:Drivers/MPU6050/inv_mpu.c **** //static struct gyro_state_s st = {
 676:Drivers/MPU6050/inv_mpu.c **** //    .reg = &reg,
 677:Drivers/MPU6050/inv_mpu.c **** //    .hw = &hw,
 678:Drivers/MPU6050/inv_mpu.c **** //    .test = &test
 679:Drivers/MPU6050/inv_mpu.c **** //};
 680:Drivers/MPU6050/inv_mpu.c **** #endif
 681:Drivers/MPU6050/inv_mpu.c **** 
 682:Drivers/MPU6050/inv_mpu.c **** #define MAX_PACKET_LENGTH (12)
 683:Drivers/MPU6050/inv_mpu.c **** 
 684:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 685:Drivers/MPU6050/inv_mpu.c **** static int setup_compass(void);
 686:Drivers/MPU6050/inv_mpu.c **** #define MAX_COMPASS_SAMPLE_RATE (100)
 687:Drivers/MPU6050/inv_mpu.c **** #endif
 688:Drivers/MPU6050/inv_mpu.c **** 
 689:Drivers/MPU6050/inv_mpu.c **** /**
 690:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Enable/disable data ready interrupt.
 691:Drivers/MPU6050/inv_mpu.c ****  *  If the DMP is on, the DMP interrupt is enabled. Otherwise, the data ready
 692:Drivers/MPU6050/inv_mpu.c ****  *  interrupt is used.
 693:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  enable      1 to enable interrupt.
 694:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
 695:Drivers/MPU6050/inv_mpu.c ****  */
 696:Drivers/MPU6050/inv_mpu.c **** static int set_int_enable(unsigned char enable)
 697:Drivers/MPU6050/inv_mpu.c **** {
 698:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp;
 699:Drivers/MPU6050/inv_mpu.c **** 
 700:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.dmp_on) {
 701:Drivers/MPU6050/inv_mpu.c ****         if (enable)
 702:Drivers/MPU6050/inv_mpu.c ****             tmp = BIT_DMP_INT_EN;
 703:Drivers/MPU6050/inv_mpu.c ****         else
 704:Drivers/MPU6050/inv_mpu.c ****             tmp = 0x00;
 705:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
 706:Drivers/MPU6050/inv_mpu.c ****             return -1;
 707:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.int_enable = tmp;
 708:Drivers/MPU6050/inv_mpu.c ****     } else {
 709:Drivers/MPU6050/inv_mpu.c ****         if (!st.chip_cfg.sensors)
 710:Drivers/MPU6050/inv_mpu.c ****             return -1;
 711:Drivers/MPU6050/inv_mpu.c ****         if (enable && st.chip_cfg.int_enable)
 712:Drivers/MPU6050/inv_mpu.c ****             return 0;
 713:Drivers/MPU6050/inv_mpu.c ****         if (enable)
 714:Drivers/MPU6050/inv_mpu.c ****             tmp = BIT_DATA_RDY_EN;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 14


 715:Drivers/MPU6050/inv_mpu.c ****         else
 716:Drivers/MPU6050/inv_mpu.c ****             tmp = 0x00;
 717:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
 718:Drivers/MPU6050/inv_mpu.c ****             return -1;
 719:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.int_enable = tmp;
 720:Drivers/MPU6050/inv_mpu.c ****     }
 721:Drivers/MPU6050/inv_mpu.c ****     return 0;
 722:Drivers/MPU6050/inv_mpu.c **** }
 723:Drivers/MPU6050/inv_mpu.c **** 
 724:Drivers/MPU6050/inv_mpu.c **** /**
 725:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Register dump for testing.
 726:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
 727:Drivers/MPU6050/inv_mpu.c ****  */
 728:Drivers/MPU6050/inv_mpu.c **** int mpu_reg_dump(void)
 729:Drivers/MPU6050/inv_mpu.c **** {
 730:Drivers/MPU6050/inv_mpu.c ****     unsigned char ii;
 731:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
 732:Drivers/MPU6050/inv_mpu.c **** 
 733:Drivers/MPU6050/inv_mpu.c ****     for (ii = 0; ii < st.hw->num_reg; ii++) {
 734:Drivers/MPU6050/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 735:Drivers/MPU6050/inv_mpu.c ****             continue;
 736:Drivers/MPU6050/inv_mpu.c ****         if (i2c_read(st.hw->addr, ii, 1, &data))
 737:Drivers/MPU6050/inv_mpu.c ****             return -1;
 738:Drivers/MPU6050/inv_mpu.c ****         //log_i("%#5x: %#5x\r\n", ii, data);
 739:Drivers/MPU6050/inv_mpu.c ****     }
 740:Drivers/MPU6050/inv_mpu.c ****     return 0;
 741:Drivers/MPU6050/inv_mpu.c **** }
 742:Drivers/MPU6050/inv_mpu.c **** 
 743:Drivers/MPU6050/inv_mpu.c **** /**
 744:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Read from a single register.
 745:Drivers/MPU6050/inv_mpu.c ****  *  NOTE: The memory and FIFO read/write registers cannot be accessed.
 746:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  reg     Register address.
 747:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] data    Register data.
 748:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
 749:Drivers/MPU6050/inv_mpu.c ****  */
 750:Drivers/MPU6050/inv_mpu.c **** int mpu_read_reg(unsigned char reg, unsigned char *data)
 751:Drivers/MPU6050/inv_mpu.c **** {
 752:Drivers/MPU6050/inv_mpu.c ****     if (reg == st.reg->fifo_r_w || reg == st.reg->mem_r_w)
 753:Drivers/MPU6050/inv_mpu.c ****         return -1;
 754:Drivers/MPU6050/inv_mpu.c ****     if (reg >= st.hw->num_reg)
 755:Drivers/MPU6050/inv_mpu.c ****         return -1;
 756:Drivers/MPU6050/inv_mpu.c ****     return i2c_read(st.hw->addr, reg, 1, data);
 757:Drivers/MPU6050/inv_mpu.c **** }
 758:Drivers/MPU6050/inv_mpu.c **** 
 759:Drivers/MPU6050/inv_mpu.c **** /**
 760:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Initialize hardware.
 761:Drivers/MPU6050/inv_mpu.c ****  *  Initial configuration:\n
 762:Drivers/MPU6050/inv_mpu.c ****  *  Gyro FSR: +/- 2000DPS\n
 763:Drivers/MPU6050/inv_mpu.c ****  *  Accel FSR +/- 2G\n
 764:Drivers/MPU6050/inv_mpu.c ****  *  DLPF: 42Hz\n
 765:Drivers/MPU6050/inv_mpu.c ****  *  FIFO rate: 50Hz\n
 766:Drivers/MPU6050/inv_mpu.c ****  *  Clock source: Gyro PLL\n
 767:Drivers/MPU6050/inv_mpu.c ****  *  FIFO: Disabled.\n
 768:Drivers/MPU6050/inv_mpu.c ****  *  Data ready interrupt: Disabled, active low, unlatched.
 769:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  int_param   Platform-specific parameters to interrupt API.
 770:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
 771:Drivers/MPU6050/inv_mpu.c ****  */
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 15


 772:Drivers/MPU6050/inv_mpu.c **** int mpu_init(void)
 773:Drivers/MPU6050/inv_mpu.c **** {
 774:Drivers/MPU6050/inv_mpu.c ****     unsigned char data[6], rev;
 775:Drivers/MPU6050/inv_mpu.c **** 
 776:Drivers/MPU6050/inv_mpu.c ****     /* Reset device. */
 777:Drivers/MPU6050/inv_mpu.c ****     data[0] = 0x80;//BIT_RESET;
 778:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, &(data[0])))
 779:Drivers/MPU6050/inv_mpu.c ****     {
 780:Drivers/MPU6050/inv_mpu.c **** 			printf("781\n");
 781:Drivers/MPU6050/inv_mpu.c **** 			return -1;
 782:Drivers/MPU6050/inv_mpu.c **** 		}
 783:Drivers/MPU6050/inv_mpu.c ****     delay_ms(200);
 784:Drivers/MPU6050/inv_mpu.c **** 
 785:Drivers/MPU6050/inv_mpu.c ****     /* Wake up chip. */
 786:Drivers/MPU6050/inv_mpu.c ****     data[0] = 0x00;
 787:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, &(data[0])))
 788:Drivers/MPU6050/inv_mpu.c ****     {
 789:Drivers/MPU6050/inv_mpu.c **** 			printf("790\n");
 790:Drivers/MPU6050/inv_mpu.c **** 			return -1;
 791:Drivers/MPU6050/inv_mpu.c **** 		}
 792:Drivers/MPU6050/inv_mpu.c **** 
 793:Drivers/MPU6050/inv_mpu.c ****     delay_ms(200);
 794:Drivers/MPU6050/inv_mpu.c ****     
 795:Drivers/MPU6050/inv_mpu.c **** #if defined MPU6050
 796:Drivers/MPU6050/inv_mpu.c ****     /* Check product revision. */
 797:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->accel_offs, 6, data))
 798:Drivers/MPU6050/inv_mpu.c ****         return -1;
 799:Drivers/MPU6050/inv_mpu.c ****     rev = ((data[5] & 0x01) << 2) | ((data[3] & 0x01) << 1) |
 800:Drivers/MPU6050/inv_mpu.c ****         (data[1] & 0x01);
 801:Drivers/MPU6050/inv_mpu.c **** 
 802:Drivers/MPU6050/inv_mpu.c ****     if (rev) {
 803:Drivers/MPU6050/inv_mpu.c ****         /* Congrats, these parts are better. */
 804:Drivers/MPU6050/inv_mpu.c ****         if (rev == 1)
 805:Drivers/MPU6050/inv_mpu.c ****             st.chip_cfg.accel_half = 1;
 806:Drivers/MPU6050/inv_mpu.c ****         else if (rev == 2)
 807:Drivers/MPU6050/inv_mpu.c ****             st.chip_cfg.accel_half = 0;
 808:Drivers/MPU6050/inv_mpu.c ****         else {
 809:Drivers/MPU6050/inv_mpu.c ****             log_e("Unsupported software product rev %d.\n", rev);
 810:Drivers/MPU6050/inv_mpu.c ****             return -1;
 811:Drivers/MPU6050/inv_mpu.c ****         }
 812:Drivers/MPU6050/inv_mpu.c ****     } else {
 813:Drivers/MPU6050/inv_mpu.c ****         if (i2c_read(st.hw->addr, st.reg->prod_id, 1, &(data[0])))
 814:Drivers/MPU6050/inv_mpu.c **** 				{
 815:Drivers/MPU6050/inv_mpu.c **** 					printf("814\n");
 816:Drivers/MPU6050/inv_mpu.c **** 					return -1;
 817:Drivers/MPU6050/inv_mpu.c **** 				}
 818:Drivers/MPU6050/inv_mpu.c ****         rev = data[0] & 0x0F;
 819:Drivers/MPU6050/inv_mpu.c ****         if (!rev) {
 820:Drivers/MPU6050/inv_mpu.c ****             log_e("Product ID read as 0 indicates device is either incompatible or an MPU3050.\n");
 821:Drivers/MPU6050/inv_mpu.c ****             return -1;
 822:Drivers/MPU6050/inv_mpu.c ****         } else if (rev == 4) {
 823:Drivers/MPU6050/inv_mpu.c ****             log_i("Half sensitivity part found.\n");
 824:Drivers/MPU6050/inv_mpu.c ****             st.chip_cfg.accel_half = 1;
 825:Drivers/MPU6050/inv_mpu.c ****         } else
 826:Drivers/MPU6050/inv_mpu.c ****             st.chip_cfg.accel_half = 0;
 827:Drivers/MPU6050/inv_mpu.c ****     }
 828:Drivers/MPU6050/inv_mpu.c **** #elif defined MPU6500
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 16


 829:Drivers/MPU6050/inv_mpu.c **** #define MPU6500_MEM_REV_ADDR    (0x17)
 830:Drivers/MPU6050/inv_mpu.c ****     if (mpu_read_mem(MPU6500_MEM_REV_ADDR, 1, &rev))
 831:Drivers/MPU6050/inv_mpu.c ****         return -1;
 832:Drivers/MPU6050/inv_mpu.c ****     if (rev == 0x1)
 833:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.accel_half = 0;
 834:Drivers/MPU6050/inv_mpu.c ****     else {
 835:Drivers/MPU6050/inv_mpu.c ****         log_e("Unsupported software product rev %d.\n", rev);
 836:Drivers/MPU6050/inv_mpu.c ****         return -1;
 837:Drivers/MPU6050/inv_mpu.c ****     }
 838:Drivers/MPU6050/inv_mpu.c **** 
 839:Drivers/MPU6050/inv_mpu.c ****     /* MPU6500 shares 4kB of memory between the DMP and the FIFO. Since the
 840:Drivers/MPU6050/inv_mpu.c ****      * first 3kB are needed by the DMP, we'll use the last 1kB for the FIFO.
 841:Drivers/MPU6050/inv_mpu.c ****      */
 842:Drivers/MPU6050/inv_mpu.c ****     data[0] = BIT_FIFO_SIZE_1024 | 0x8;
 843:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_cfg2, 1, data))
 844:Drivers/MPU6050/inv_mpu.c ****         return -1;
 845:Drivers/MPU6050/inv_mpu.c **** #endif
 846:Drivers/MPU6050/inv_mpu.c **** 
 847:Drivers/MPU6050/inv_mpu.c ****     /* Set to invalid values to ensure no I2C writes are skipped. */
 848:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.sensors = 0xFF;
 849:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.gyro_fsr = 0xFF;
 850:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.accel_fsr = 0xFF;
 851:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lpf = 0xFF;
 852:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.sample_rate = 0xFFFF;
 853:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.fifo_enable = 0xFF;
 854:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.bypass_mode = 0xFF;
 855:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 856:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.compass_sample_rate = 0xFFFF;
 857:Drivers/MPU6050/inv_mpu.c **** #endif
 858:Drivers/MPU6050/inv_mpu.c ****     /* mpu_set_sensors always preserves this setting. */
 859:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.clk_src = INV_CLK_PLL;
 860:Drivers/MPU6050/inv_mpu.c ****     /* Handled in next call to mpu_set_bypass. */
 861:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.active_low_int = 1;
 862:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.latched_int = 0;
 863:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.int_motion_only = 0;
 864:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 0;
 865:Drivers/MPU6050/inv_mpu.c ****     memset(&st.chip_cfg.cache, 0, sizeof(st.chip_cfg.cache));
 866:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.dmp_on = 0;
 867:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.dmp_loaded = 0;
 868:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.dmp_sample_rate = 0;
 869:Drivers/MPU6050/inv_mpu.c **** 
 870:Drivers/MPU6050/inv_mpu.c ****     if (mpu_set_gyro_fsr(2000))
 871:Drivers/MPU6050/inv_mpu.c ****     {
 872:Drivers/MPU6050/inv_mpu.c **** 			printf("871\n");
 873:Drivers/MPU6050/inv_mpu.c **** 			return -1;
 874:Drivers/MPU6050/inv_mpu.c **** 		}
 875:Drivers/MPU6050/inv_mpu.c ****     if (mpu_set_accel_fsr(2))
 876:Drivers/MPU6050/inv_mpu.c ****     {
 877:Drivers/MPU6050/inv_mpu.c **** 			printf("876\n");
 878:Drivers/MPU6050/inv_mpu.c **** 			return -1;
 879:Drivers/MPU6050/inv_mpu.c **** 		}
 880:Drivers/MPU6050/inv_mpu.c ****     if (mpu_set_lpf(42))
 881:Drivers/MPU6050/inv_mpu.c ****     {
 882:Drivers/MPU6050/inv_mpu.c **** 			printf("881\n");
 883:Drivers/MPU6050/inv_mpu.c **** 			return -1;
 884:Drivers/MPU6050/inv_mpu.c **** 		}
 885:Drivers/MPU6050/inv_mpu.c ****     if (mpu_set_sample_rate(50))
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 17


 886:Drivers/MPU6050/inv_mpu.c ****     {
 887:Drivers/MPU6050/inv_mpu.c **** 			printf("886\n");
 888:Drivers/MPU6050/inv_mpu.c **** 			return -1;
 889:Drivers/MPU6050/inv_mpu.c **** 		}
 890:Drivers/MPU6050/inv_mpu.c ****     if (mpu_configure_fifo(0))
 891:Drivers/MPU6050/inv_mpu.c ****     {
 892:Drivers/MPU6050/inv_mpu.c **** 			printf("891\n");
 893:Drivers/MPU6050/inv_mpu.c **** 			return -1;
 894:Drivers/MPU6050/inv_mpu.c **** 		}
 895:Drivers/MPU6050/inv_mpu.c **** 
 896:Drivers/MPU6050/inv_mpu.c ****     /*if (int_param)
 897:Drivers/MPU6050/inv_mpu.c ****         reg_int_cb(int_param);*/
 898:Drivers/MPU6050/inv_mpu.c **** 
 899:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 900:Drivers/MPU6050/inv_mpu.c ****     setup_compass();
 901:Drivers/MPU6050/inv_mpu.c ****     if (mpu_set_compass_sample_rate(10))
 902:Drivers/MPU6050/inv_mpu.c ****         return -1;
 903:Drivers/MPU6050/inv_mpu.c **** #else
 904:Drivers/MPU6050/inv_mpu.c ****     /* Already disabled by setup_compass. */
 905:Drivers/MPU6050/inv_mpu.c ****     if (mpu_set_bypass(0))
 906:Drivers/MPU6050/inv_mpu.c ****     {
 907:Drivers/MPU6050/inv_mpu.c **** 			printf("906\n");
 908:Drivers/MPU6050/inv_mpu.c **** 			return -1;
 909:Drivers/MPU6050/inv_mpu.c **** 		}
 910:Drivers/MPU6050/inv_mpu.c **** #endif
 911:Drivers/MPU6050/inv_mpu.c **** 
 912:Drivers/MPU6050/inv_mpu.c ****     mpu_set_sensors(0);
 913:Drivers/MPU6050/inv_mpu.c ****     return 0;
 914:Drivers/MPU6050/inv_mpu.c **** }
 915:Drivers/MPU6050/inv_mpu.c **** 
 916:Drivers/MPU6050/inv_mpu.c **** /**
 917:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Enter low-power accel-only mode.
 918:Drivers/MPU6050/inv_mpu.c ****  *  In low-power accel mode, the chip goes to sleep and only wakes up to sample
 919:Drivers/MPU6050/inv_mpu.c ****  *  the accelerometer at one of the following frequencies:
 920:Drivers/MPU6050/inv_mpu.c ****  *  \n MPU6050: 1.25Hz, 5Hz, 20Hz, 40Hz
 921:Drivers/MPU6050/inv_mpu.c ****  *  \n MPU6500: 1.25Hz, 2.5Hz, 5Hz, 10Hz, 20Hz, 40Hz, 80Hz, 160Hz, 320Hz, 640Hz
 922:Drivers/MPU6050/inv_mpu.c ****  *  \n If the requested rate is not one listed above, the device will be set to
 923:Drivers/MPU6050/inv_mpu.c ****  *  the next highest rate. Requesting a rate above the maximum supported
 924:Drivers/MPU6050/inv_mpu.c ****  *  frequency will result in an error.
 925:Drivers/MPU6050/inv_mpu.c ****  *  \n To select a fractional wake-up frequency, round down the value passed to
 926:Drivers/MPU6050/inv_mpu.c ****  *  @e rate.
 927:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  rate        Minimum sampling rate, or zero to disable LP
 928:Drivers/MPU6050/inv_mpu.c ****  *                          accel mode.
 929:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
 930:Drivers/MPU6050/inv_mpu.c ****  */
 931:Drivers/MPU6050/inv_mpu.c **** int mpu_lp_accel_mode(unsigned char rate)
 932:Drivers/MPU6050/inv_mpu.c **** {
 933:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
 934:Drivers/MPU6050/inv_mpu.c **** 
 935:Drivers/MPU6050/inv_mpu.c ****     if (rate > 40)
 936:Drivers/MPU6050/inv_mpu.c ****         return -1;
 937:Drivers/MPU6050/inv_mpu.c **** 
 938:Drivers/MPU6050/inv_mpu.c ****     if (!rate) {
 939:Drivers/MPU6050/inv_mpu.c ****         mpu_set_int_latched(0);
 940:Drivers/MPU6050/inv_mpu.c ****         tmp[0] = 0;
 941:Drivers/MPU6050/inv_mpu.c ****         tmp[1] = BIT_STBY_XYZG;
 942:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, tmp))
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 18


 943:Drivers/MPU6050/inv_mpu.c ****             return -1;
 944:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.lp_accel_mode = 0;
 945:Drivers/MPU6050/inv_mpu.c ****         return 0;
 946:Drivers/MPU6050/inv_mpu.c ****     }
 947:Drivers/MPU6050/inv_mpu.c ****     /* For LP accel, we automatically configure the hardware to produce latched
 948:Drivers/MPU6050/inv_mpu.c ****      * interrupts. In LP accel mode, the hardware cycles into sleep mode before
 949:Drivers/MPU6050/inv_mpu.c ****      * it gets a chance to deassert the interrupt pin; therefore, we shift this
 950:Drivers/MPU6050/inv_mpu.c ****      * responsibility over to the MCU.
 951:Drivers/MPU6050/inv_mpu.c ****      *
 952:Drivers/MPU6050/inv_mpu.c ****      * Any register read will clear the interrupt.
 953:Drivers/MPU6050/inv_mpu.c ****      */
 954:Drivers/MPU6050/inv_mpu.c ****     mpu_set_int_latched(1);
 955:Drivers/MPU6050/inv_mpu.c **** #if defined MPU6050
 956:Drivers/MPU6050/inv_mpu.c ****     tmp[0] = BIT_LPA_CYCLE;
 957:Drivers/MPU6050/inv_mpu.c ****     if (rate == 1) {
 958:Drivers/MPU6050/inv_mpu.c ****         tmp[1] = INV_LPA_1_25HZ;
 959:Drivers/MPU6050/inv_mpu.c ****         mpu_set_lpf(5);
 960:Drivers/MPU6050/inv_mpu.c ****     } else if (rate <= 5) {
 961:Drivers/MPU6050/inv_mpu.c ****         tmp[1] = INV_LPA_5HZ;
 962:Drivers/MPU6050/inv_mpu.c ****         mpu_set_lpf(5);
 963:Drivers/MPU6050/inv_mpu.c ****     } else if (rate <= 20) {
 964:Drivers/MPU6050/inv_mpu.c ****         tmp[1] = INV_LPA_20HZ;
 965:Drivers/MPU6050/inv_mpu.c ****         mpu_set_lpf(10);
 966:Drivers/MPU6050/inv_mpu.c ****     } else {
 967:Drivers/MPU6050/inv_mpu.c ****         tmp[1] = INV_LPA_40HZ;
 968:Drivers/MPU6050/inv_mpu.c ****         mpu_set_lpf(20);
 969:Drivers/MPU6050/inv_mpu.c ****     }
 970:Drivers/MPU6050/inv_mpu.c ****     tmp[1] = (tmp[1] << 6) | BIT_STBY_XYZG;
 971:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, tmp))
 972:Drivers/MPU6050/inv_mpu.c ****         return -1;
 973:Drivers/MPU6050/inv_mpu.c **** #elif defined MPU6500
 974:Drivers/MPU6050/inv_mpu.c ****     /* Set wake frequency. */
 975:Drivers/MPU6050/inv_mpu.c ****     if (rate == 1)
 976:Drivers/MPU6050/inv_mpu.c ****         tmp[0] = INV_LPA_1_25HZ;
 977:Drivers/MPU6050/inv_mpu.c ****     else if (rate == 2)
 978:Drivers/MPU6050/inv_mpu.c ****         tmp[0] = INV_LPA_2_5HZ;
 979:Drivers/MPU6050/inv_mpu.c ****     else if (rate <= 5)
 980:Drivers/MPU6050/inv_mpu.c ****         tmp[0] = INV_LPA_5HZ;
 981:Drivers/MPU6050/inv_mpu.c ****     else if (rate <= 10)
 982:Drivers/MPU6050/inv_mpu.c ****         tmp[0] = INV_LPA_10HZ;
 983:Drivers/MPU6050/inv_mpu.c ****     else if (rate <= 20)
 984:Drivers/MPU6050/inv_mpu.c ****         tmp[0] = INV_LPA_20HZ;
 985:Drivers/MPU6050/inv_mpu.c ****     else if (rate <= 40)
 986:Drivers/MPU6050/inv_mpu.c ****         tmp[0] = INV_LPA_40HZ;
 987:Drivers/MPU6050/inv_mpu.c ****     else if (rate <= 80)
 988:Drivers/MPU6050/inv_mpu.c ****         tmp[0] = INV_LPA_80HZ;
 989:Drivers/MPU6050/inv_mpu.c ****     else if (rate <= 160)
 990:Drivers/MPU6050/inv_mpu.c ****         tmp[0] = INV_LPA_160HZ;
 991:Drivers/MPU6050/inv_mpu.c ****     else if (rate <= 320)
 992:Drivers/MPU6050/inv_mpu.c ****         tmp[0] = INV_LPA_320HZ;
 993:Drivers/MPU6050/inv_mpu.c ****     else
 994:Drivers/MPU6050/inv_mpu.c ****         tmp[0] = INV_LPA_640HZ;
 995:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->lp_accel_odr, 1, tmp))
 996:Drivers/MPU6050/inv_mpu.c ****         return -1;
 997:Drivers/MPU6050/inv_mpu.c ****     tmp[0] = BIT_LPA_CYCLE;
 998:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, tmp))
 999:Drivers/MPU6050/inv_mpu.c ****         return -1;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 19


1000:Drivers/MPU6050/inv_mpu.c **** #endif
1001:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.sensors = INV_XYZ_ACCEL;
1002:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.clk_src = 0;
1003:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 1;
1004:Drivers/MPU6050/inv_mpu.c ****     mpu_configure_fifo(0);
1005:Drivers/MPU6050/inv_mpu.c **** 
1006:Drivers/MPU6050/inv_mpu.c ****     return 0;
1007:Drivers/MPU6050/inv_mpu.c **** }
1008:Drivers/MPU6050/inv_mpu.c **** 
1009:Drivers/MPU6050/inv_mpu.c **** /**
1010:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Read raw gyro data directly from the registers.
1011:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] data        Raw data in hardware units.
1012:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] timestamp   Timestamp in milliseconds. Null if not needed.
1013:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1014:Drivers/MPU6050/inv_mpu.c ****  */
1015:Drivers/MPU6050/inv_mpu.c **** int mpu_get_gyro_reg(short *data, unsigned long *timestamp)
1016:Drivers/MPU6050/inv_mpu.c **** {
1017:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[6];
1018:Drivers/MPU6050/inv_mpu.c **** 
1019:Drivers/MPU6050/inv_mpu.c ****     if (!(st.chip_cfg.sensors & INV_XYZ_GYRO))
1020:Drivers/MPU6050/inv_mpu.c ****         return -1;
1021:Drivers/MPU6050/inv_mpu.c **** 
1022:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->raw_gyro, 6, tmp))
1023:Drivers/MPU6050/inv_mpu.c ****         return -1;
1024:Drivers/MPU6050/inv_mpu.c ****     data[0] = (tmp[0] << 8) | tmp[1];
1025:Drivers/MPU6050/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
1026:Drivers/MPU6050/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
1027:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
1028:Drivers/MPU6050/inv_mpu.c ****         get_ms(timestamp);
1029:Drivers/MPU6050/inv_mpu.c ****     return 0;
1030:Drivers/MPU6050/inv_mpu.c **** }
1031:Drivers/MPU6050/inv_mpu.c **** 
1032:Drivers/MPU6050/inv_mpu.c **** /**
1033:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Read raw accel data directly from the registers.
1034:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] data        Raw data in hardware units.
1035:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] timestamp   Timestamp in milliseconds. Null if not needed.
1036:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1037:Drivers/MPU6050/inv_mpu.c ****  */
1038:Drivers/MPU6050/inv_mpu.c **** int mpu_get_accel_reg(short *data, unsigned long *timestamp)
1039:Drivers/MPU6050/inv_mpu.c **** {
1040:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[6];
1041:Drivers/MPU6050/inv_mpu.c **** 
1042:Drivers/MPU6050/inv_mpu.c ****     if (!(st.chip_cfg.sensors & INV_XYZ_ACCEL))
1043:Drivers/MPU6050/inv_mpu.c ****         return -1;
1044:Drivers/MPU6050/inv_mpu.c **** 
1045:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->raw_accel, 6, tmp))
1046:Drivers/MPU6050/inv_mpu.c ****         return -1;
1047:Drivers/MPU6050/inv_mpu.c ****     data[0] = (tmp[0] << 8) | tmp[1];
1048:Drivers/MPU6050/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
1049:Drivers/MPU6050/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
1050:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
1051:Drivers/MPU6050/inv_mpu.c ****         get_ms(timestamp);
1052:Drivers/MPU6050/inv_mpu.c ****     return 0;
1053:Drivers/MPU6050/inv_mpu.c **** }
1054:Drivers/MPU6050/inv_mpu.c **** 
1055:Drivers/MPU6050/inv_mpu.c **** /**
1056:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Read temperature data directly from the registers.
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 20


1057:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] data        Data in q16 format.
1058:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] timestamp   Timestamp in milliseconds. Null if not needed.
1059:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1060:Drivers/MPU6050/inv_mpu.c ****  */
1061:Drivers/MPU6050/inv_mpu.c **** int mpu_get_temperature(long *data, unsigned long *timestamp)
1062:Drivers/MPU6050/inv_mpu.c **** {
1063:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
1064:Drivers/MPU6050/inv_mpu.c ****     short raw;
1065:Drivers/MPU6050/inv_mpu.c **** 
1066:Drivers/MPU6050/inv_mpu.c ****     if (!(st.chip_cfg.sensors))
1067:Drivers/MPU6050/inv_mpu.c ****         return -1;
1068:Drivers/MPU6050/inv_mpu.c **** 
1069:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->temp, 2, tmp))
1070:Drivers/MPU6050/inv_mpu.c ****         return -1;
1071:Drivers/MPU6050/inv_mpu.c ****     raw = (tmp[0] << 8) | tmp[1];
1072:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
1073:Drivers/MPU6050/inv_mpu.c ****         get_ms(timestamp);
1074:Drivers/MPU6050/inv_mpu.c **** 
1075:Drivers/MPU6050/inv_mpu.c ****     data[0] = (long)((35 + ((raw - (float)st.hw->temp_offset) / st.hw->temp_sens)) * 65536L);
1076:Drivers/MPU6050/inv_mpu.c ****     return 0;
1077:Drivers/MPU6050/inv_mpu.c **** }
1078:Drivers/MPU6050/inv_mpu.c **** 
1079:Drivers/MPU6050/inv_mpu.c **** int mpu_get_temp_reg(short *data, unsigned long *timestamp)
1080:Drivers/MPU6050/inv_mpu.c **** {
1081:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
1082:Drivers/MPU6050/inv_mpu.c ****     short raw;
1083:Drivers/MPU6050/inv_mpu.c **** 
1084:Drivers/MPU6050/inv_mpu.c ****     if (!(st.chip_cfg.sensors))
1085:Drivers/MPU6050/inv_mpu.c ****         return -1;
1086:Drivers/MPU6050/inv_mpu.c **** 
1087:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->temp, 2, tmp))
1088:Drivers/MPU6050/inv_mpu.c ****         return -1;
1089:Drivers/MPU6050/inv_mpu.c ****     raw = (tmp[0] << 8) | tmp[1];
1090:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
1091:Drivers/MPU6050/inv_mpu.c ****         get_ms(timestamp);
1092:Drivers/MPU6050/inv_mpu.c **** 
1093:Drivers/MPU6050/inv_mpu.c ****     data[0] = raw;
1094:Drivers/MPU6050/inv_mpu.c ****     return 0;
1095:Drivers/MPU6050/inv_mpu.c **** }
1096:Drivers/MPU6050/inv_mpu.c **** 
1097:Drivers/MPU6050/inv_mpu.c **** /**
1098:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Push biases to the accel bias registers.
1099:Drivers/MPU6050/inv_mpu.c ****  *  This function expects biases relative to the current sensor output, and
1100:Drivers/MPU6050/inv_mpu.c ****  *  these biases will be added to the factory-supplied values.
1101:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  accel_bias  New biases.
1102:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1103:Drivers/MPU6050/inv_mpu.c ****  */
1104:Drivers/MPU6050/inv_mpu.c **** int mpu_set_accel_bias(const long *accel_bias)
1105:Drivers/MPU6050/inv_mpu.c **** {
1106:Drivers/MPU6050/inv_mpu.c ****     unsigned char data[6];
1107:Drivers/MPU6050/inv_mpu.c ****     short accel_hw[3];
1108:Drivers/MPU6050/inv_mpu.c ****     short got_accel[3];
1109:Drivers/MPU6050/inv_mpu.c ****     short fg[3];
1110:Drivers/MPU6050/inv_mpu.c **** 
1111:Drivers/MPU6050/inv_mpu.c ****     if (!accel_bias)
1112:Drivers/MPU6050/inv_mpu.c ****         return -1;
1113:Drivers/MPU6050/inv_mpu.c ****     if (!accel_bias[0] && !accel_bias[1] && !accel_bias[2])
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 21


1114:Drivers/MPU6050/inv_mpu.c ****         return 0;
1115:Drivers/MPU6050/inv_mpu.c **** 
1116:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, 3, 3, data))
1117:Drivers/MPU6050/inv_mpu.c ****         return -1;
1118:Drivers/MPU6050/inv_mpu.c ****     fg[0] = ((data[0] >> 4) + 8) & 0xf;
1119:Drivers/MPU6050/inv_mpu.c ****     fg[1] = ((data[1] >> 4) + 8) & 0xf;
1120:Drivers/MPU6050/inv_mpu.c ****     fg[2] = ((data[2] >> 4) + 8) & 0xf;
1121:Drivers/MPU6050/inv_mpu.c **** 
1122:Drivers/MPU6050/inv_mpu.c ****     accel_hw[0] = (short)(accel_bias[0] * 2 / (64 + fg[0]));
1123:Drivers/MPU6050/inv_mpu.c ****     accel_hw[1] = (short)(accel_bias[1] * 2 / (64 + fg[1]));
1124:Drivers/MPU6050/inv_mpu.c ****     accel_hw[2] = (short)(accel_bias[2] * 2 / (64 + fg[2]));
1125:Drivers/MPU6050/inv_mpu.c **** 
1126:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, 0x06, 6, data))
1127:Drivers/MPU6050/inv_mpu.c ****         return -1;
1128:Drivers/MPU6050/inv_mpu.c **** 
1129:Drivers/MPU6050/inv_mpu.c ****     got_accel[0] = ((short)data[0] << 8) | data[1];
1130:Drivers/MPU6050/inv_mpu.c ****     got_accel[1] = ((short)data[2] << 8) | data[3];
1131:Drivers/MPU6050/inv_mpu.c ****     got_accel[2] = ((short)data[4] << 8) | data[5];
1132:Drivers/MPU6050/inv_mpu.c **** 
1133:Drivers/MPU6050/inv_mpu.c ****     accel_hw[0] += got_accel[0];
1134:Drivers/MPU6050/inv_mpu.c ****     accel_hw[1] += got_accel[1];
1135:Drivers/MPU6050/inv_mpu.c ****     accel_hw[2] += got_accel[2];
1136:Drivers/MPU6050/inv_mpu.c **** 
1137:Drivers/MPU6050/inv_mpu.c ****     data[0] = (accel_hw[0] >> 8) & 0xff;
1138:Drivers/MPU6050/inv_mpu.c ****     data[1] = (accel_hw[0]) & 0xff;
1139:Drivers/MPU6050/inv_mpu.c ****     data[2] = (accel_hw[1] >> 8) & 0xff;
1140:Drivers/MPU6050/inv_mpu.c ****     data[3] = (accel_hw[1]) & 0xff;
1141:Drivers/MPU6050/inv_mpu.c ****     data[4] = (accel_hw[2] >> 8) & 0xff;
1142:Drivers/MPU6050/inv_mpu.c ****     data[5] = (accel_hw[2]) & 0xff;
1143:Drivers/MPU6050/inv_mpu.c **** 
1144:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, 0x06, 6, data))
1145:Drivers/MPU6050/inv_mpu.c ****         return -1;
1146:Drivers/MPU6050/inv_mpu.c ****     return 0;
1147:Drivers/MPU6050/inv_mpu.c **** }
1148:Drivers/MPU6050/inv_mpu.c **** 
1149:Drivers/MPU6050/inv_mpu.c **** /**
1150:Drivers/MPU6050/inv_mpu.c ****  *  @brief  Reset FIFO read/write pointers.
1151:Drivers/MPU6050/inv_mpu.c ****  *  @return 0 if successful.
1152:Drivers/MPU6050/inv_mpu.c ****  */
1153:Drivers/MPU6050/inv_mpu.c **** int mpu_reset_fifo(void)
1154:Drivers/MPU6050/inv_mpu.c **** {
1155:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
1156:Drivers/MPU6050/inv_mpu.c **** 
1157:Drivers/MPU6050/inv_mpu.c ****     if (!(st.chip_cfg.sensors))
1158:Drivers/MPU6050/inv_mpu.c ****         return -1;
1159:Drivers/MPU6050/inv_mpu.c **** 
1160:Drivers/MPU6050/inv_mpu.c ****     data = 0;
1161:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
1162:Drivers/MPU6050/inv_mpu.c ****         return -1;
1163:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &data))
1164:Drivers/MPU6050/inv_mpu.c ****         return -1;
1165:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
1166:Drivers/MPU6050/inv_mpu.c ****         return -1;
1167:Drivers/MPU6050/inv_mpu.c **** 
1168:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.dmp_on) {
1169:Drivers/MPU6050/inv_mpu.c ****         data = BIT_FIFO_RST | BIT_DMP_RST;
1170:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 22


1171:Drivers/MPU6050/inv_mpu.c ****             return -1;
1172:Drivers/MPU6050/inv_mpu.c ****         delay_ms(50);
1173:Drivers/MPU6050/inv_mpu.c ****         data = BIT_DMP_EN | BIT_FIFO_EN;
1174:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.sensors & INV_XYZ_COMPASS)
1175:Drivers/MPU6050/inv_mpu.c ****             data |= BIT_AUX_IF_EN;
1176:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
1177:Drivers/MPU6050/inv_mpu.c ****             return -1;
1178:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.int_enable)
1179:Drivers/MPU6050/inv_mpu.c ****             data = BIT_DMP_INT_EN;
1180:Drivers/MPU6050/inv_mpu.c ****         else
1181:Drivers/MPU6050/inv_mpu.c ****             data = 0;
1182:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
1183:Drivers/MPU6050/inv_mpu.c ****             return -1;
1184:Drivers/MPU6050/inv_mpu.c ****         data = 0;
1185:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &data))
1186:Drivers/MPU6050/inv_mpu.c ****             return -1;
1187:Drivers/MPU6050/inv_mpu.c ****     } else {
1188:Drivers/MPU6050/inv_mpu.c ****         data = BIT_FIFO_RST;
1189:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
1190:Drivers/MPU6050/inv_mpu.c ****             return -1;
1191:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.bypass_mode || !(st.chip_cfg.sensors & INV_XYZ_COMPASS))
1192:Drivers/MPU6050/inv_mpu.c ****             data = BIT_FIFO_EN;
1193:Drivers/MPU6050/inv_mpu.c ****         else
1194:Drivers/MPU6050/inv_mpu.c ****             data = BIT_FIFO_EN | BIT_AUX_IF_EN;
1195:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
1196:Drivers/MPU6050/inv_mpu.c ****             return -1;
1197:Drivers/MPU6050/inv_mpu.c ****         delay_ms(50);
1198:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.int_enable)
1199:Drivers/MPU6050/inv_mpu.c ****             data = BIT_DATA_RDY_EN;
1200:Drivers/MPU6050/inv_mpu.c ****         else
1201:Drivers/MPU6050/inv_mpu.c ****             data = 0;
1202:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
1203:Drivers/MPU6050/inv_mpu.c ****             return -1;
1204:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &st.chip_cfg.fifo_enable))
1205:Drivers/MPU6050/inv_mpu.c ****             return -1;
1206:Drivers/MPU6050/inv_mpu.c ****     }
1207:Drivers/MPU6050/inv_mpu.c ****     return 0;
1208:Drivers/MPU6050/inv_mpu.c **** }
1209:Drivers/MPU6050/inv_mpu.c **** 
1210:Drivers/MPU6050/inv_mpu.c **** /**
1211:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Get the gyro full-scale range.
1212:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] fsr Current full-scale range.
1213:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1214:Drivers/MPU6050/inv_mpu.c ****  */
1215:Drivers/MPU6050/inv_mpu.c **** int mpu_get_gyro_fsr(unsigned short *fsr)
1216:Drivers/MPU6050/inv_mpu.c **** {
1217:Drivers/MPU6050/inv_mpu.c ****     switch (st.chip_cfg.gyro_fsr) {
1218:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_250DPS:
1219:Drivers/MPU6050/inv_mpu.c ****         fsr[0] = 250;
1220:Drivers/MPU6050/inv_mpu.c ****         break;
1221:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_500DPS:
1222:Drivers/MPU6050/inv_mpu.c ****         fsr[0] = 500;
1223:Drivers/MPU6050/inv_mpu.c ****         break;
1224:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_1000DPS:
1225:Drivers/MPU6050/inv_mpu.c ****         fsr[0] = 1000;
1226:Drivers/MPU6050/inv_mpu.c ****         break;
1227:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_2000DPS:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 23


1228:Drivers/MPU6050/inv_mpu.c ****         fsr[0] = 2000;
1229:Drivers/MPU6050/inv_mpu.c ****         break;
1230:Drivers/MPU6050/inv_mpu.c ****     default:
1231:Drivers/MPU6050/inv_mpu.c ****         fsr[0] = 0;
1232:Drivers/MPU6050/inv_mpu.c ****         break;
1233:Drivers/MPU6050/inv_mpu.c ****     }
1234:Drivers/MPU6050/inv_mpu.c ****     return 0;
1235:Drivers/MPU6050/inv_mpu.c **** }
1236:Drivers/MPU6050/inv_mpu.c **** 
1237:Drivers/MPU6050/inv_mpu.c **** /**
1238:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Set the gyro full-scale range.
1239:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  fsr Desired full-scale range.
1240:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1241:Drivers/MPU6050/inv_mpu.c ****  */
1242:Drivers/MPU6050/inv_mpu.c **** int mpu_set_gyro_fsr(unsigned short fsr)
1243:Drivers/MPU6050/inv_mpu.c **** {
1244:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
1245:Drivers/MPU6050/inv_mpu.c **** 
1246:Drivers/MPU6050/inv_mpu.c ****     if (!(st.chip_cfg.sensors))
1247:Drivers/MPU6050/inv_mpu.c ****         return -1;
1248:Drivers/MPU6050/inv_mpu.c **** 
1249:Drivers/MPU6050/inv_mpu.c ****     switch (fsr) {
1250:Drivers/MPU6050/inv_mpu.c ****     case 250:
1251:Drivers/MPU6050/inv_mpu.c ****         data = INV_FSR_250DPS << 3;
1252:Drivers/MPU6050/inv_mpu.c ****         break;
1253:Drivers/MPU6050/inv_mpu.c ****     case 500:
1254:Drivers/MPU6050/inv_mpu.c ****         data = INV_FSR_500DPS << 3;
1255:Drivers/MPU6050/inv_mpu.c ****         break;
1256:Drivers/MPU6050/inv_mpu.c ****     case 1000:
1257:Drivers/MPU6050/inv_mpu.c ****         data = INV_FSR_1000DPS << 3;
1258:Drivers/MPU6050/inv_mpu.c ****         break;
1259:Drivers/MPU6050/inv_mpu.c ****     case 2000:
1260:Drivers/MPU6050/inv_mpu.c ****         data = INV_FSR_2000DPS << 3;
1261:Drivers/MPU6050/inv_mpu.c ****         break;
1262:Drivers/MPU6050/inv_mpu.c ****     default:
1263:Drivers/MPU6050/inv_mpu.c ****         return -1;
1264:Drivers/MPU6050/inv_mpu.c ****     }
1265:Drivers/MPU6050/inv_mpu.c **** 
1266:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.gyro_fsr == (data >> 3))
1267:Drivers/MPU6050/inv_mpu.c ****         return 0;
1268:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, &data))
1269:Drivers/MPU6050/inv_mpu.c ****         return -1;
1270:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.gyro_fsr = data >> 3;
1271:Drivers/MPU6050/inv_mpu.c ****     return 0;
1272:Drivers/MPU6050/inv_mpu.c **** }
1273:Drivers/MPU6050/inv_mpu.c **** 
1274:Drivers/MPU6050/inv_mpu.c **** /**
1275:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Get the accel full-scale range.
1276:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] fsr Current full-scale range.
1277:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1278:Drivers/MPU6050/inv_mpu.c ****  */
1279:Drivers/MPU6050/inv_mpu.c **** int mpu_get_accel_fsr(unsigned char *fsr)
1280:Drivers/MPU6050/inv_mpu.c **** {
1281:Drivers/MPU6050/inv_mpu.c ****     switch (st.chip_cfg.accel_fsr) {
1282:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_2G:
1283:Drivers/MPU6050/inv_mpu.c ****         fsr[0] = 2;
1284:Drivers/MPU6050/inv_mpu.c ****         break;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 24


1285:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_4G:
1286:Drivers/MPU6050/inv_mpu.c ****         fsr[0] = 4;
1287:Drivers/MPU6050/inv_mpu.c ****         break;
1288:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_8G:
1289:Drivers/MPU6050/inv_mpu.c ****         fsr[0] = 8;
1290:Drivers/MPU6050/inv_mpu.c ****         break;
1291:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_16G:
1292:Drivers/MPU6050/inv_mpu.c ****         fsr[0] = 16;
1293:Drivers/MPU6050/inv_mpu.c ****         break;
1294:Drivers/MPU6050/inv_mpu.c ****     default:
1295:Drivers/MPU6050/inv_mpu.c ****         return -1;
1296:Drivers/MPU6050/inv_mpu.c ****     }
1297:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.accel_half)
1298:Drivers/MPU6050/inv_mpu.c ****         fsr[0] <<= 1;
1299:Drivers/MPU6050/inv_mpu.c ****     return 0;
1300:Drivers/MPU6050/inv_mpu.c **** }
1301:Drivers/MPU6050/inv_mpu.c **** 
1302:Drivers/MPU6050/inv_mpu.c **** /**
1303:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Set the accel full-scale range.
1304:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  fsr Desired full-scale range.
1305:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1306:Drivers/MPU6050/inv_mpu.c ****  */
1307:Drivers/MPU6050/inv_mpu.c **** int mpu_set_accel_fsr(unsigned char fsr)
1308:Drivers/MPU6050/inv_mpu.c **** {
1309:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
1310:Drivers/MPU6050/inv_mpu.c **** 
1311:Drivers/MPU6050/inv_mpu.c ****     if (!(st.chip_cfg.sensors))
1312:Drivers/MPU6050/inv_mpu.c ****         return -1;
1313:Drivers/MPU6050/inv_mpu.c **** 
1314:Drivers/MPU6050/inv_mpu.c ****     switch (fsr) {
1315:Drivers/MPU6050/inv_mpu.c ****     case 2:
1316:Drivers/MPU6050/inv_mpu.c ****         data = INV_FSR_2G << 3;
1317:Drivers/MPU6050/inv_mpu.c ****         break;
1318:Drivers/MPU6050/inv_mpu.c ****     case 4:
1319:Drivers/MPU6050/inv_mpu.c ****         data = INV_FSR_4G << 3;
1320:Drivers/MPU6050/inv_mpu.c ****         break;
1321:Drivers/MPU6050/inv_mpu.c ****     case 8:
1322:Drivers/MPU6050/inv_mpu.c ****         data = INV_FSR_8G << 3;
1323:Drivers/MPU6050/inv_mpu.c ****         break;
1324:Drivers/MPU6050/inv_mpu.c ****     case 16:
1325:Drivers/MPU6050/inv_mpu.c ****         data = INV_FSR_16G << 3;
1326:Drivers/MPU6050/inv_mpu.c ****         break;
1327:Drivers/MPU6050/inv_mpu.c ****     default:
1328:Drivers/MPU6050/inv_mpu.c ****         return -1;
1329:Drivers/MPU6050/inv_mpu.c ****     }
1330:Drivers/MPU6050/inv_mpu.c **** 
1331:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.accel_fsr == (data >> 3))
1332:Drivers/MPU6050/inv_mpu.c ****         return 0;
1333:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, &data))
1334:Drivers/MPU6050/inv_mpu.c ****         return -1;
1335:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.accel_fsr = data >> 3;
1336:Drivers/MPU6050/inv_mpu.c ****     return 0;
1337:Drivers/MPU6050/inv_mpu.c **** }
1338:Drivers/MPU6050/inv_mpu.c **** 
1339:Drivers/MPU6050/inv_mpu.c **** /**
1340:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Get the current DLPF setting.
1341:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] lpf Current LPF setting.
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 25


1342:Drivers/MPU6050/inv_mpu.c ****  *  0 if successful.
1343:Drivers/MPU6050/inv_mpu.c ****  */
1344:Drivers/MPU6050/inv_mpu.c **** int mpu_get_lpf(unsigned short *lpf)
1345:Drivers/MPU6050/inv_mpu.c **** {
1346:Drivers/MPU6050/inv_mpu.c ****     switch (st.chip_cfg.lpf) {
1347:Drivers/MPU6050/inv_mpu.c ****     case INV_FILTER_188HZ:
1348:Drivers/MPU6050/inv_mpu.c ****         lpf[0] = 188;
1349:Drivers/MPU6050/inv_mpu.c ****         break;
1350:Drivers/MPU6050/inv_mpu.c ****     case INV_FILTER_98HZ:
1351:Drivers/MPU6050/inv_mpu.c ****         lpf[0] = 98;
1352:Drivers/MPU6050/inv_mpu.c ****         break;
1353:Drivers/MPU6050/inv_mpu.c ****     case INV_FILTER_42HZ:
1354:Drivers/MPU6050/inv_mpu.c ****         lpf[0] = 42;
1355:Drivers/MPU6050/inv_mpu.c ****         break;
1356:Drivers/MPU6050/inv_mpu.c ****     case INV_FILTER_20HZ:
1357:Drivers/MPU6050/inv_mpu.c ****         lpf[0] = 20;
1358:Drivers/MPU6050/inv_mpu.c ****         break;
1359:Drivers/MPU6050/inv_mpu.c ****     case INV_FILTER_10HZ:
1360:Drivers/MPU6050/inv_mpu.c ****         lpf[0] = 10;
1361:Drivers/MPU6050/inv_mpu.c ****         break;
1362:Drivers/MPU6050/inv_mpu.c ****     case INV_FILTER_5HZ:
1363:Drivers/MPU6050/inv_mpu.c ****         lpf[0] = 5;
1364:Drivers/MPU6050/inv_mpu.c ****         break;
1365:Drivers/MPU6050/inv_mpu.c ****     case INV_FILTER_256HZ_NOLPF2:
1366:Drivers/MPU6050/inv_mpu.c ****     case INV_FILTER_2100HZ_NOLPF:
1367:Drivers/MPU6050/inv_mpu.c ****     default:
1368:Drivers/MPU6050/inv_mpu.c ****         lpf[0] = 0;
1369:Drivers/MPU6050/inv_mpu.c ****         break;
1370:Drivers/MPU6050/inv_mpu.c ****     }
1371:Drivers/MPU6050/inv_mpu.c ****     return 0;
1372:Drivers/MPU6050/inv_mpu.c **** }
1373:Drivers/MPU6050/inv_mpu.c **** 
1374:Drivers/MPU6050/inv_mpu.c **** /**
1375:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Set digital low pass filter.
1376:Drivers/MPU6050/inv_mpu.c ****  *  The following LPF settings are supported: 188, 98, 42, 20, 10, 5.
1377:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  lpf Desired LPF setting.
1378:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1379:Drivers/MPU6050/inv_mpu.c ****  */
1380:Drivers/MPU6050/inv_mpu.c **** int mpu_set_lpf(unsigned short lpf)
1381:Drivers/MPU6050/inv_mpu.c **** {
1382:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
1383:Drivers/MPU6050/inv_mpu.c **** 
1384:Drivers/MPU6050/inv_mpu.c ****     if (!(st.chip_cfg.sensors))
1385:Drivers/MPU6050/inv_mpu.c ****         return -1;
1386:Drivers/MPU6050/inv_mpu.c **** 
1387:Drivers/MPU6050/inv_mpu.c ****     if (lpf >= 188)
1388:Drivers/MPU6050/inv_mpu.c ****         data = INV_FILTER_188HZ;
1389:Drivers/MPU6050/inv_mpu.c ****     else if (lpf >= 98)
1390:Drivers/MPU6050/inv_mpu.c ****         data = INV_FILTER_98HZ;
1391:Drivers/MPU6050/inv_mpu.c ****     else if (lpf >= 42)
1392:Drivers/MPU6050/inv_mpu.c ****         data = INV_FILTER_42HZ;
1393:Drivers/MPU6050/inv_mpu.c ****     else if (lpf >= 20)
1394:Drivers/MPU6050/inv_mpu.c ****         data = INV_FILTER_20HZ;
1395:Drivers/MPU6050/inv_mpu.c ****     else if (lpf >= 10)
1396:Drivers/MPU6050/inv_mpu.c ****         data = INV_FILTER_10HZ;
1397:Drivers/MPU6050/inv_mpu.c ****     else
1398:Drivers/MPU6050/inv_mpu.c ****         data = INV_FILTER_5HZ;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 26


1399:Drivers/MPU6050/inv_mpu.c **** 
1400:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.lpf == data)
1401:Drivers/MPU6050/inv_mpu.c ****         return 0;
1402:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->lpf, 1, &data))
1403:Drivers/MPU6050/inv_mpu.c ****         return -1;
1404:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lpf = data;
1405:Drivers/MPU6050/inv_mpu.c ****     return 0;
1406:Drivers/MPU6050/inv_mpu.c **** }
1407:Drivers/MPU6050/inv_mpu.c **** 
1408:Drivers/MPU6050/inv_mpu.c **** /**
1409:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Get sampling rate.
1410:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] rate    Current sampling rate (Hz).
1411:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1412:Drivers/MPU6050/inv_mpu.c ****  */
1413:Drivers/MPU6050/inv_mpu.c **** int mpu_get_sample_rate(unsigned short *rate)
1414:Drivers/MPU6050/inv_mpu.c **** {
1415:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.dmp_on)
1416:Drivers/MPU6050/inv_mpu.c ****         return -1;
1417:Drivers/MPU6050/inv_mpu.c ****     else
1418:Drivers/MPU6050/inv_mpu.c ****         rate[0] = st.chip_cfg.sample_rate;
1419:Drivers/MPU6050/inv_mpu.c ****     return 0;
1420:Drivers/MPU6050/inv_mpu.c **** }
1421:Drivers/MPU6050/inv_mpu.c **** 
1422:Drivers/MPU6050/inv_mpu.c **** /**
1423:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Set sampling rate.
1424:Drivers/MPU6050/inv_mpu.c ****  *  Sampling rate must be between 4Hz and 1kHz.
1425:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  rate    Desired sampling rate (Hz).
1426:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1427:Drivers/MPU6050/inv_mpu.c ****  */
1428:Drivers/MPU6050/inv_mpu.c **** int mpu_set_sample_rate(unsigned short rate)
1429:Drivers/MPU6050/inv_mpu.c **** {
1430:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
1431:Drivers/MPU6050/inv_mpu.c **** 
1432:Drivers/MPU6050/inv_mpu.c ****     if (!(st.chip_cfg.sensors))
1433:Drivers/MPU6050/inv_mpu.c ****         return -1;
1434:Drivers/MPU6050/inv_mpu.c **** 
1435:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.dmp_on)
1436:Drivers/MPU6050/inv_mpu.c ****         return -1;
1437:Drivers/MPU6050/inv_mpu.c ****     else {
1438:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.lp_accel_mode) {
1439:Drivers/MPU6050/inv_mpu.c ****             if (rate && (rate <= 40)) {
1440:Drivers/MPU6050/inv_mpu.c ****                 /* Just stay in low-power accel mode. */
1441:Drivers/MPU6050/inv_mpu.c ****                 mpu_lp_accel_mode(rate);
1442:Drivers/MPU6050/inv_mpu.c ****                 return 0;
1443:Drivers/MPU6050/inv_mpu.c ****             }
1444:Drivers/MPU6050/inv_mpu.c ****             /* Requested rate exceeds the allowed frequencies in LP accel mode,
1445:Drivers/MPU6050/inv_mpu.c ****              * switch back to full-power mode.
1446:Drivers/MPU6050/inv_mpu.c ****              */
1447:Drivers/MPU6050/inv_mpu.c ****             mpu_lp_accel_mode(0);
1448:Drivers/MPU6050/inv_mpu.c ****         }
1449:Drivers/MPU6050/inv_mpu.c ****         if (rate < 4)
1450:Drivers/MPU6050/inv_mpu.c ****             rate = 4;
1451:Drivers/MPU6050/inv_mpu.c ****         else if (rate > 1000)
1452:Drivers/MPU6050/inv_mpu.c ****             rate = 1000;
1453:Drivers/MPU6050/inv_mpu.c **** 
1454:Drivers/MPU6050/inv_mpu.c ****         data = 1000 / rate - 1;
1455:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->rate_div, 1, &data))
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 27


1456:Drivers/MPU6050/inv_mpu.c ****             return -1;
1457:Drivers/MPU6050/inv_mpu.c **** 
1458:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.sample_rate = 1000 / (1 + data);
1459:Drivers/MPU6050/inv_mpu.c **** 
1460:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
1461:Drivers/MPU6050/inv_mpu.c ****         mpu_set_compass_sample_rate(min(st.chip_cfg.compass_sample_rate, MAX_COMPASS_SAMPLE_RATE));
1462:Drivers/MPU6050/inv_mpu.c **** #endif
1463:Drivers/MPU6050/inv_mpu.c **** 
1464:Drivers/MPU6050/inv_mpu.c ****         /* Automatically set LPF to 1/2 sampling rate. */
1465:Drivers/MPU6050/inv_mpu.c ****         mpu_set_lpf(st.chip_cfg.sample_rate >> 1);
1466:Drivers/MPU6050/inv_mpu.c ****         return 0;
1467:Drivers/MPU6050/inv_mpu.c ****     }
1468:Drivers/MPU6050/inv_mpu.c **** }
1469:Drivers/MPU6050/inv_mpu.c **** 
1470:Drivers/MPU6050/inv_mpu.c **** /**
1471:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Get compass sampling rate.
1472:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] rate    Current compass sampling rate (Hz).
1473:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1474:Drivers/MPU6050/inv_mpu.c ****  */
1475:Drivers/MPU6050/inv_mpu.c **** int mpu_get_compass_sample_rate(unsigned short *rate)
1476:Drivers/MPU6050/inv_mpu.c **** {
1477:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
1478:Drivers/MPU6050/inv_mpu.c ****     rate[0] = st.chip_cfg.compass_sample_rate;
1479:Drivers/MPU6050/inv_mpu.c ****     return 0;
1480:Drivers/MPU6050/inv_mpu.c **** #else
1481:Drivers/MPU6050/inv_mpu.c ****     rate[0] = 0;
1482:Drivers/MPU6050/inv_mpu.c ****     return -1;
1483:Drivers/MPU6050/inv_mpu.c **** #endif
1484:Drivers/MPU6050/inv_mpu.c **** }
1485:Drivers/MPU6050/inv_mpu.c **** 
1486:Drivers/MPU6050/inv_mpu.c **** /**
1487:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Set compass sampling rate.
1488:Drivers/MPU6050/inv_mpu.c ****  *  The compass on the auxiliary I2C bus is read by the MPU hardware at a
1489:Drivers/MPU6050/inv_mpu.c ****  *  maximum of 100Hz. The actual rate can be set to a fraction of the gyro
1490:Drivers/MPU6050/inv_mpu.c ****  *  sampling rate.
1491:Drivers/MPU6050/inv_mpu.c ****  *
1492:Drivers/MPU6050/inv_mpu.c ****  *  \n WARNING: The new rate may be different than what was requested. Call
1493:Drivers/MPU6050/inv_mpu.c ****  *  mpu_get_compass_sample_rate to check the actual setting.
1494:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  rate    Desired compass sampling rate (Hz).
1495:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1496:Drivers/MPU6050/inv_mpu.c ****  */
1497:Drivers/MPU6050/inv_mpu.c **** int mpu_set_compass_sample_rate(unsigned short rate)
1498:Drivers/MPU6050/inv_mpu.c **** {
1499:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
1500:Drivers/MPU6050/inv_mpu.c ****     unsigned char div;
1501:Drivers/MPU6050/inv_mpu.c ****     if (!rate || rate > st.chip_cfg.sample_rate || rate > MAX_COMPASS_SAMPLE_RATE)
1502:Drivers/MPU6050/inv_mpu.c ****         return -1;
1503:Drivers/MPU6050/inv_mpu.c **** 
1504:Drivers/MPU6050/inv_mpu.c ****     div = st.chip_cfg.sample_rate / rate - 1;
1505:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->s4_ctrl, 1, &div))
1506:Drivers/MPU6050/inv_mpu.c ****         return -1;
1507:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.compass_sample_rate = st.chip_cfg.sample_rate / (div + 1);
1508:Drivers/MPU6050/inv_mpu.c ****     return 0;
1509:Drivers/MPU6050/inv_mpu.c **** #else
1510:Drivers/MPU6050/inv_mpu.c ****     return -1;
1511:Drivers/MPU6050/inv_mpu.c **** #endif
1512:Drivers/MPU6050/inv_mpu.c **** }
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 28


1513:Drivers/MPU6050/inv_mpu.c **** 
1514:Drivers/MPU6050/inv_mpu.c **** /**
1515:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Get gyro sensitivity scale factor.
1516:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] sens    Conversion from hardware units to dps.
1517:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1518:Drivers/MPU6050/inv_mpu.c ****  */
1519:Drivers/MPU6050/inv_mpu.c **** int mpu_get_gyro_sens(float *sens)
1520:Drivers/MPU6050/inv_mpu.c **** {
1521:Drivers/MPU6050/inv_mpu.c ****     switch (st.chip_cfg.gyro_fsr) {
1522:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_250DPS:
1523:Drivers/MPU6050/inv_mpu.c ****         sens[0] = 131.f;
1524:Drivers/MPU6050/inv_mpu.c ****         break;
1525:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_500DPS:
1526:Drivers/MPU6050/inv_mpu.c ****         sens[0] = 65.5f;
1527:Drivers/MPU6050/inv_mpu.c ****         break;
1528:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_1000DPS:
1529:Drivers/MPU6050/inv_mpu.c ****         sens[0] = 32.8f;
1530:Drivers/MPU6050/inv_mpu.c ****         break;
1531:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_2000DPS:
1532:Drivers/MPU6050/inv_mpu.c ****         sens[0] = 16.4f;
1533:Drivers/MPU6050/inv_mpu.c ****         break;
1534:Drivers/MPU6050/inv_mpu.c ****     default:
1535:Drivers/MPU6050/inv_mpu.c ****         return -1;
1536:Drivers/MPU6050/inv_mpu.c ****     }
1537:Drivers/MPU6050/inv_mpu.c ****     return 0;
1538:Drivers/MPU6050/inv_mpu.c **** }
1539:Drivers/MPU6050/inv_mpu.c **** 
1540:Drivers/MPU6050/inv_mpu.c **** /**
1541:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Get accel sensitivity scale factor.
1542:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] sens    Conversion from hardware units to g's.
1543:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1544:Drivers/MPU6050/inv_mpu.c ****  */
1545:Drivers/MPU6050/inv_mpu.c **** int mpu_get_accel_sens(unsigned short *sens)
1546:Drivers/MPU6050/inv_mpu.c **** {
1547:Drivers/MPU6050/inv_mpu.c ****     switch (st.chip_cfg.accel_fsr) {
1548:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_2G:
1549:Drivers/MPU6050/inv_mpu.c ****         sens[0] = 16384;
1550:Drivers/MPU6050/inv_mpu.c ****         break;
1551:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_4G:
1552:Drivers/MPU6050/inv_mpu.c ****         sens[0] = 8192;
1553:Drivers/MPU6050/inv_mpu.c ****         break;
1554:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_8G:
1555:Drivers/MPU6050/inv_mpu.c ****         sens[0] = 4096;
1556:Drivers/MPU6050/inv_mpu.c ****         break;
1557:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_16G:
1558:Drivers/MPU6050/inv_mpu.c ****         sens[0] = 2048;
1559:Drivers/MPU6050/inv_mpu.c ****         break;
1560:Drivers/MPU6050/inv_mpu.c ****     default:
1561:Drivers/MPU6050/inv_mpu.c ****         return -1;
1562:Drivers/MPU6050/inv_mpu.c ****     }
1563:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.accel_half)
1564:Drivers/MPU6050/inv_mpu.c ****         sens[0] >>= 1;
1565:Drivers/MPU6050/inv_mpu.c ****     return 0;
1566:Drivers/MPU6050/inv_mpu.c **** }
1567:Drivers/MPU6050/inv_mpu.c **** 
1568:Drivers/MPU6050/inv_mpu.c **** /**
1569:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Get current FIFO configuration.
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 29


1570:Drivers/MPU6050/inv_mpu.c ****  *  @e sensors can contain a combination of the following flags:
1571:Drivers/MPU6050/inv_mpu.c ****  *  \n INV_X_GYRO, INV_Y_GYRO, INV_Z_GYRO
1572:Drivers/MPU6050/inv_mpu.c ****  *  \n INV_XYZ_GYRO
1573:Drivers/MPU6050/inv_mpu.c ****  *  \n INV_XYZ_ACCEL
1574:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] sensors Mask of sensors in FIFO.
1575:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1576:Drivers/MPU6050/inv_mpu.c ****  */
1577:Drivers/MPU6050/inv_mpu.c **** int mpu_get_fifo_config(unsigned char *sensors)
1578:Drivers/MPU6050/inv_mpu.c **** {
1579:Drivers/MPU6050/inv_mpu.c ****     sensors[0] = st.chip_cfg.fifo_enable;
1580:Drivers/MPU6050/inv_mpu.c ****     return 0;
1581:Drivers/MPU6050/inv_mpu.c **** }
1582:Drivers/MPU6050/inv_mpu.c **** 
1583:Drivers/MPU6050/inv_mpu.c **** /**
1584:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Select which sensors are pushed to FIFO.
1585:Drivers/MPU6050/inv_mpu.c ****  *  @e sensors can contain a combination of the following flags:
1586:Drivers/MPU6050/inv_mpu.c ****  *  \n INV_X_GYRO, INV_Y_GYRO, INV_Z_GYRO
1587:Drivers/MPU6050/inv_mpu.c ****  *  \n INV_XYZ_GYRO
1588:Drivers/MPU6050/inv_mpu.c ****  *  \n INV_XYZ_ACCEL
1589:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  sensors Mask of sensors to push to FIFO.
1590:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1591:Drivers/MPU6050/inv_mpu.c ****  */
1592:Drivers/MPU6050/inv_mpu.c **** int mpu_configure_fifo(unsigned char sensors)
1593:Drivers/MPU6050/inv_mpu.c **** {
1594:Drivers/MPU6050/inv_mpu.c ****     unsigned char prev;
1595:Drivers/MPU6050/inv_mpu.c ****     int result = 0;
1596:Drivers/MPU6050/inv_mpu.c **** 
1597:Drivers/MPU6050/inv_mpu.c ****     /* Compass data isn't going into the FIFO. Stop trying. */
1598:Drivers/MPU6050/inv_mpu.c ****     sensors &= ~INV_XYZ_COMPASS;
1599:Drivers/MPU6050/inv_mpu.c **** 
1600:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.dmp_on)
1601:Drivers/MPU6050/inv_mpu.c ****         return 0;
1602:Drivers/MPU6050/inv_mpu.c ****     else {
1603:Drivers/MPU6050/inv_mpu.c ****         if (!(st.chip_cfg.sensors))
1604:Drivers/MPU6050/inv_mpu.c ****             return -1;
1605:Drivers/MPU6050/inv_mpu.c ****         prev = st.chip_cfg.fifo_enable;
1606:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.fifo_enable = sensors & st.chip_cfg.sensors;
1607:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.fifo_enable != sensors)
1608:Drivers/MPU6050/inv_mpu.c ****             /* You're not getting what you asked for. Some sensors are
1609:Drivers/MPU6050/inv_mpu.c ****              * asleep.
1610:Drivers/MPU6050/inv_mpu.c ****              */
1611:Drivers/MPU6050/inv_mpu.c ****             result = -1;
1612:Drivers/MPU6050/inv_mpu.c ****         else
1613:Drivers/MPU6050/inv_mpu.c ****             result = 0;
1614:Drivers/MPU6050/inv_mpu.c ****         if (sensors || st.chip_cfg.lp_accel_mode)
1615:Drivers/MPU6050/inv_mpu.c ****             set_int_enable(1);
1616:Drivers/MPU6050/inv_mpu.c ****         else
1617:Drivers/MPU6050/inv_mpu.c ****             set_int_enable(0);
1618:Drivers/MPU6050/inv_mpu.c ****         if (sensors) {
1619:Drivers/MPU6050/inv_mpu.c ****             if (mpu_reset_fifo()) {
1620:Drivers/MPU6050/inv_mpu.c ****                 st.chip_cfg.fifo_enable = prev;
1621:Drivers/MPU6050/inv_mpu.c ****                 return -1;
1622:Drivers/MPU6050/inv_mpu.c ****             }
1623:Drivers/MPU6050/inv_mpu.c ****         }
1624:Drivers/MPU6050/inv_mpu.c ****     }
1625:Drivers/MPU6050/inv_mpu.c **** 
1626:Drivers/MPU6050/inv_mpu.c ****     return result;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 30


1627:Drivers/MPU6050/inv_mpu.c **** }
1628:Drivers/MPU6050/inv_mpu.c **** 
1629:Drivers/MPU6050/inv_mpu.c **** /**
1630:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Get current power state.
1631:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  power_on    1 if turned on, 0 if suspended.
1632:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1633:Drivers/MPU6050/inv_mpu.c ****  */
1634:Drivers/MPU6050/inv_mpu.c **** int mpu_get_power_state(unsigned char *power_on)
1635:Drivers/MPU6050/inv_mpu.c **** {
1636:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.sensors)
1637:Drivers/MPU6050/inv_mpu.c ****         power_on[0] = 1;
1638:Drivers/MPU6050/inv_mpu.c ****     else
1639:Drivers/MPU6050/inv_mpu.c ****         power_on[0] = 0;
1640:Drivers/MPU6050/inv_mpu.c ****     return 0;
1641:Drivers/MPU6050/inv_mpu.c **** }
1642:Drivers/MPU6050/inv_mpu.c **** 
1643:Drivers/MPU6050/inv_mpu.c **** /**
1644:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Turn specific sensors on/off.
1645:Drivers/MPU6050/inv_mpu.c ****  *  @e sensors can contain a combination of the following flags:
1646:Drivers/MPU6050/inv_mpu.c ****  *  \n INV_X_GYRO, INV_Y_GYRO, INV_Z_GYRO
1647:Drivers/MPU6050/inv_mpu.c ****  *  \n INV_XYZ_GYRO
1648:Drivers/MPU6050/inv_mpu.c ****  *  \n INV_XYZ_ACCEL
1649:Drivers/MPU6050/inv_mpu.c ****  *  \n INV_XYZ_COMPASS
1650:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  sensors    Mask of sensors to wake.
1651:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1652:Drivers/MPU6050/inv_mpu.c ****  */
1653:Drivers/MPU6050/inv_mpu.c **** int mpu_set_sensors(unsigned char sensors)
1654:Drivers/MPU6050/inv_mpu.c **** {
1655:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
1656:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
1657:Drivers/MPU6050/inv_mpu.c ****     unsigned char user_ctrl;
1658:Drivers/MPU6050/inv_mpu.c **** #endif
1659:Drivers/MPU6050/inv_mpu.c **** 
1660:Drivers/MPU6050/inv_mpu.c ****     if (sensors & INV_XYZ_GYRO)
1661:Drivers/MPU6050/inv_mpu.c ****         data = INV_CLK_PLL;
1662:Drivers/MPU6050/inv_mpu.c ****     else if (sensors)
1663:Drivers/MPU6050/inv_mpu.c ****         data = 0;
1664:Drivers/MPU6050/inv_mpu.c ****     else
1665:Drivers/MPU6050/inv_mpu.c ****         data = BIT_SLEEP;
1666:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, &data)) {
1667:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.sensors = 0;
1668:Drivers/MPU6050/inv_mpu.c ****         return -1;
1669:Drivers/MPU6050/inv_mpu.c ****     }
1670:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.clk_src = data & ~BIT_SLEEP;
1671:Drivers/MPU6050/inv_mpu.c **** 
1672:Drivers/MPU6050/inv_mpu.c ****     data = 0;
1673:Drivers/MPU6050/inv_mpu.c ****     if (!(sensors & INV_X_GYRO))
1674:Drivers/MPU6050/inv_mpu.c ****         data |= BIT_STBY_XG;
1675:Drivers/MPU6050/inv_mpu.c ****     if (!(sensors & INV_Y_GYRO))
1676:Drivers/MPU6050/inv_mpu.c ****         data |= BIT_STBY_YG;
1677:Drivers/MPU6050/inv_mpu.c ****     if (!(sensors & INV_Z_GYRO))
1678:Drivers/MPU6050/inv_mpu.c ****         data |= BIT_STBY_ZG;
1679:Drivers/MPU6050/inv_mpu.c ****     if (!(sensors & INV_XYZ_ACCEL))
1680:Drivers/MPU6050/inv_mpu.c ****         data |= BIT_STBY_XYZA;
1681:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_2, 1, &data)) {
1682:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.sensors = 0;
1683:Drivers/MPU6050/inv_mpu.c ****         return -1;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 31


1684:Drivers/MPU6050/inv_mpu.c ****     }
1685:Drivers/MPU6050/inv_mpu.c **** 
1686:Drivers/MPU6050/inv_mpu.c ****     if (sensors && (sensors != INV_XYZ_ACCEL))
1687:Drivers/MPU6050/inv_mpu.c ****         /* Latched interrupts only used in LP accel mode. */
1688:Drivers/MPU6050/inv_mpu.c ****         mpu_set_int_latched(0);
1689:Drivers/MPU6050/inv_mpu.c **** 
1690:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
1691:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_BYPASS
1692:Drivers/MPU6050/inv_mpu.c ****     if (sensors & INV_XYZ_COMPASS)
1693:Drivers/MPU6050/inv_mpu.c ****         mpu_set_bypass(1);
1694:Drivers/MPU6050/inv_mpu.c ****     else
1695:Drivers/MPU6050/inv_mpu.c ****         mpu_set_bypass(0);
1696:Drivers/MPU6050/inv_mpu.c **** #else
1697:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->user_ctrl, 1, &user_ctrl))
1698:Drivers/MPU6050/inv_mpu.c ****         return -1;
1699:Drivers/MPU6050/inv_mpu.c ****     /* Handle AKM power management. */
1700:Drivers/MPU6050/inv_mpu.c ****     if (sensors & INV_XYZ_COMPASS) {
1701:Drivers/MPU6050/inv_mpu.c ****         data = AKM_SINGLE_MEASUREMENT;
1702:Drivers/MPU6050/inv_mpu.c ****         user_ctrl |= BIT_AUX_IF_EN;
1703:Drivers/MPU6050/inv_mpu.c ****     } else {
1704:Drivers/MPU6050/inv_mpu.c ****         data = AKM_POWER_DOWN;
1705:Drivers/MPU6050/inv_mpu.c ****         user_ctrl &= ~BIT_AUX_IF_EN;
1706:Drivers/MPU6050/inv_mpu.c ****     }
1707:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.dmp_on)
1708:Drivers/MPU6050/inv_mpu.c ****         user_ctrl |= BIT_DMP_EN;
1709:Drivers/MPU6050/inv_mpu.c ****     else
1710:Drivers/MPU6050/inv_mpu.c ****         user_ctrl &= ~BIT_DMP_EN;
1711:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->s1_do, 1, &data))
1712:Drivers/MPU6050/inv_mpu.c ****         return -1;
1713:Drivers/MPU6050/inv_mpu.c ****     /* Enable/disable I2C master mode. */
1714:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &user_ctrl))
1715:Drivers/MPU6050/inv_mpu.c ****         return -1;
1716:Drivers/MPU6050/inv_mpu.c **** #endif
1717:Drivers/MPU6050/inv_mpu.c **** #endif
1718:Drivers/MPU6050/inv_mpu.c **** 
1719:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.sensors = sensors;
1720:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 0;
1721:Drivers/MPU6050/inv_mpu.c ****     delay_ms(50);
1722:Drivers/MPU6050/inv_mpu.c ****     return 0;
1723:Drivers/MPU6050/inv_mpu.c **** }
1724:Drivers/MPU6050/inv_mpu.c **** 
1725:Drivers/MPU6050/inv_mpu.c **** /**
1726:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Read the MPU interrupt status registers.
1727:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] status  Mask of interrupt bits.
1728:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1729:Drivers/MPU6050/inv_mpu.c ****  */
1730:Drivers/MPU6050/inv_mpu.c **** int mpu_get_int_status(short *status)
1731:Drivers/MPU6050/inv_mpu.c **** {
1732:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
1733:Drivers/MPU6050/inv_mpu.c ****     if (!st.chip_cfg.sensors)
1734:Drivers/MPU6050/inv_mpu.c ****         return -1;
1735:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->dmp_int_status, 2, tmp))
1736:Drivers/MPU6050/inv_mpu.c ****         return -1;
1737:Drivers/MPU6050/inv_mpu.c ****     status[0] = (tmp[0] << 8) | tmp[1];
1738:Drivers/MPU6050/inv_mpu.c ****     return 0;
1739:Drivers/MPU6050/inv_mpu.c **** }
1740:Drivers/MPU6050/inv_mpu.c **** 
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 32


1741:Drivers/MPU6050/inv_mpu.c **** /**
1742:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Get one packet from the FIFO.
1743:Drivers/MPU6050/inv_mpu.c ****  *  If @e sensors does not contain a particular sensor, disregard the data
1744:Drivers/MPU6050/inv_mpu.c ****  *  returned to that pointer.
1745:Drivers/MPU6050/inv_mpu.c ****  *  \n @e sensors can contain a combination of the following flags:
1746:Drivers/MPU6050/inv_mpu.c ****  *  \n INV_X_GYRO, INV_Y_GYRO, INV_Z_GYRO
1747:Drivers/MPU6050/inv_mpu.c ****  *  \n INV_XYZ_GYRO
1748:Drivers/MPU6050/inv_mpu.c ****  *  \n INV_XYZ_ACCEL
1749:Drivers/MPU6050/inv_mpu.c ****  *  \n If the FIFO has no new data, @e sensors will be zero.
1750:Drivers/MPU6050/inv_mpu.c ****  *  \n If the FIFO is disabled, @e sensors will be zero and this function will
1751:Drivers/MPU6050/inv_mpu.c ****  *  return a non-zero error code.
1752:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] gyro        Gyro data in hardware units.
1753:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] accel       Accel data in hardware units.
1754:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] timestamp   Timestamp in milliseconds.
1755:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] sensors     Mask of sensors read from FIFO.
1756:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] more        Number of remaining packets.
1757:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1758:Drivers/MPU6050/inv_mpu.c ****  */
1759:Drivers/MPU6050/inv_mpu.c **** int mpu_read_fifo(short *gyro, short *accel, unsigned long *timestamp,
1760:Drivers/MPU6050/inv_mpu.c ****         unsigned char *sensors, unsigned char *more)
1761:Drivers/MPU6050/inv_mpu.c **** {
1762:Drivers/MPU6050/inv_mpu.c ****     /* Assumes maximum packet size is gyro (6) + accel (6). */
1763:Drivers/MPU6050/inv_mpu.c ****     unsigned char data[MAX_PACKET_LENGTH];
1764:Drivers/MPU6050/inv_mpu.c ****     unsigned char packet_size = 0;
1765:Drivers/MPU6050/inv_mpu.c ****     unsigned short fifo_count, index = 0;
1766:Drivers/MPU6050/inv_mpu.c **** 
1767:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.dmp_on)
1768:Drivers/MPU6050/inv_mpu.c ****         return -1;
1769:Drivers/MPU6050/inv_mpu.c **** 
1770:Drivers/MPU6050/inv_mpu.c ****     sensors[0] = 0;
1771:Drivers/MPU6050/inv_mpu.c ****     if (!st.chip_cfg.sensors)
1772:Drivers/MPU6050/inv_mpu.c ****         return -1;
1773:Drivers/MPU6050/inv_mpu.c ****     if (!st.chip_cfg.fifo_enable)
1774:Drivers/MPU6050/inv_mpu.c ****         return -1;
1775:Drivers/MPU6050/inv_mpu.c **** 
1776:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_X_GYRO)
1777:Drivers/MPU6050/inv_mpu.c ****         packet_size += 2;
1778:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_Y_GYRO)
1779:Drivers/MPU6050/inv_mpu.c ****         packet_size += 2;
1780:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_Z_GYRO)
1781:Drivers/MPU6050/inv_mpu.c ****         packet_size += 2;
1782:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_XYZ_ACCEL)
1783:Drivers/MPU6050/inv_mpu.c ****         packet_size += 6;
1784:Drivers/MPU6050/inv_mpu.c **** 
1785:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->fifo_count_h, 2, data))
1786:Drivers/MPU6050/inv_mpu.c ****         return -1;
1787:Drivers/MPU6050/inv_mpu.c ****     fifo_count = (data[0] << 8) | data[1];
1788:Drivers/MPU6050/inv_mpu.c ****     if (fifo_count < packet_size)
1789:Drivers/MPU6050/inv_mpu.c ****         return 0;
1790:Drivers/MPU6050/inv_mpu.c **** //    log_i("FIFO count: %hd\n", fifo_count);
1791:Drivers/MPU6050/inv_mpu.c ****     if (fifo_count > (st.hw->max_fifo >> 1)) {
1792:Drivers/MPU6050/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
1793:Drivers/MPU6050/inv_mpu.c ****         if (i2c_read(st.hw->addr, st.reg->int_status, 1, data))
1794:Drivers/MPU6050/inv_mpu.c ****             return -1;
1795:Drivers/MPU6050/inv_mpu.c ****         if (data[0] & BIT_FIFO_OVERFLOW) {
1796:Drivers/MPU6050/inv_mpu.c ****             mpu_reset_fifo();
1797:Drivers/MPU6050/inv_mpu.c ****             return -2;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 33


1798:Drivers/MPU6050/inv_mpu.c ****         }
1799:Drivers/MPU6050/inv_mpu.c ****     }
1800:Drivers/MPU6050/inv_mpu.c ****     get_ms((unsigned long*)timestamp);
1801:Drivers/MPU6050/inv_mpu.c **** 
1802:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->fifo_r_w, packet_size, data))
1803:Drivers/MPU6050/inv_mpu.c ****         return -1;
1804:Drivers/MPU6050/inv_mpu.c ****     more[0] = fifo_count / packet_size - 1;
1805:Drivers/MPU6050/inv_mpu.c ****     sensors[0] = 0;
1806:Drivers/MPU6050/inv_mpu.c **** 
1807:Drivers/MPU6050/inv_mpu.c ****     if ((index != packet_size) && st.chip_cfg.fifo_enable & INV_XYZ_ACCEL) {
1808:Drivers/MPU6050/inv_mpu.c ****         accel[0] = (data[index+0] << 8) | data[index+1];
1809:Drivers/MPU6050/inv_mpu.c ****         accel[1] = (data[index+2] << 8) | data[index+3];
1810:Drivers/MPU6050/inv_mpu.c ****         accel[2] = (data[index+4] << 8) | data[index+5];
1811:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_XYZ_ACCEL;
1812:Drivers/MPU6050/inv_mpu.c ****         index += 6;
1813:Drivers/MPU6050/inv_mpu.c ****     }
1814:Drivers/MPU6050/inv_mpu.c ****     if ((index != packet_size) && st.chip_cfg.fifo_enable & INV_X_GYRO) {
1815:Drivers/MPU6050/inv_mpu.c ****         gyro[0] = (data[index+0] << 8) | data[index+1];
1816:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_X_GYRO;
1817:Drivers/MPU6050/inv_mpu.c ****         index += 2;
1818:Drivers/MPU6050/inv_mpu.c ****     }
1819:Drivers/MPU6050/inv_mpu.c ****     if ((index != packet_size) && st.chip_cfg.fifo_enable & INV_Y_GYRO) {
1820:Drivers/MPU6050/inv_mpu.c ****         gyro[1] = (data[index+0] << 8) | data[index+1];
1821:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_Y_GYRO;
1822:Drivers/MPU6050/inv_mpu.c ****         index += 2;
1823:Drivers/MPU6050/inv_mpu.c ****     }
1824:Drivers/MPU6050/inv_mpu.c ****     if ((index != packet_size) && st.chip_cfg.fifo_enable & INV_Z_GYRO) {
1825:Drivers/MPU6050/inv_mpu.c ****         gyro[2] = (data[index+0] << 8) | data[index+1];
1826:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_Z_GYRO;
1827:Drivers/MPU6050/inv_mpu.c ****         index += 2;
1828:Drivers/MPU6050/inv_mpu.c ****     }
1829:Drivers/MPU6050/inv_mpu.c **** 
1830:Drivers/MPU6050/inv_mpu.c ****     return 0;
1831:Drivers/MPU6050/inv_mpu.c **** }
1832:Drivers/MPU6050/inv_mpu.c **** 
1833:Drivers/MPU6050/inv_mpu.c **** /**
1834:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Get one unparsed packet from the FIFO.
1835:Drivers/MPU6050/inv_mpu.c ****  *  This function should be used if the packet is to be parsed elsewhere.
1836:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  length  Length of one FIFO packet.
1837:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  data    FIFO packet.
1838:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  more    Number of remaining packets.
1839:Drivers/MPU6050/inv_mpu.c ****  */
1840:Drivers/MPU6050/inv_mpu.c **** int mpu_read_fifo_stream(unsigned short length, unsigned char *data,
1841:Drivers/MPU6050/inv_mpu.c ****     unsigned char *more)
1842:Drivers/MPU6050/inv_mpu.c **** {
1843:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
1844:Drivers/MPU6050/inv_mpu.c ****     unsigned short fifo_count;
1845:Drivers/MPU6050/inv_mpu.c ****     if (!st.chip_cfg.dmp_on)
1846:Drivers/MPU6050/inv_mpu.c ****         return -1;
1847:Drivers/MPU6050/inv_mpu.c ****     if (!st.chip_cfg.sensors)
1848:Drivers/MPU6050/inv_mpu.c ****         return -1;
1849:Drivers/MPU6050/inv_mpu.c **** 
1850:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->fifo_count_h, 2, tmp))
1851:Drivers/MPU6050/inv_mpu.c ****         return -1;
1852:Drivers/MPU6050/inv_mpu.c ****     fifo_count = (tmp[0] << 8) | tmp[1];
1853:Drivers/MPU6050/inv_mpu.c ****     if (fifo_count < length) {
1854:Drivers/MPU6050/inv_mpu.c ****         more[0] = 0;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 34


1855:Drivers/MPU6050/inv_mpu.c ****         return -1;
1856:Drivers/MPU6050/inv_mpu.c ****     }
1857:Drivers/MPU6050/inv_mpu.c ****     if (fifo_count > (st.hw->max_fifo >> 1)) {
1858:Drivers/MPU6050/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
1859:Drivers/MPU6050/inv_mpu.c ****         if (i2c_read(st.hw->addr, st.reg->int_status, 1, tmp))
1860:Drivers/MPU6050/inv_mpu.c ****             return -1;
1861:Drivers/MPU6050/inv_mpu.c ****         if (tmp[0] & BIT_FIFO_OVERFLOW) {
1862:Drivers/MPU6050/inv_mpu.c ****             mpu_reset_fifo();
1863:Drivers/MPU6050/inv_mpu.c ****             return -2;
1864:Drivers/MPU6050/inv_mpu.c ****         }
1865:Drivers/MPU6050/inv_mpu.c ****     }
1866:Drivers/MPU6050/inv_mpu.c **** 
1867:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->fifo_r_w, length, data))
1868:Drivers/MPU6050/inv_mpu.c ****         return -1;
1869:Drivers/MPU6050/inv_mpu.c ****     more[0] = fifo_count / length - 1;
1870:Drivers/MPU6050/inv_mpu.c ****     return 0;
1871:Drivers/MPU6050/inv_mpu.c **** }
1872:Drivers/MPU6050/inv_mpu.c **** 
1873:Drivers/MPU6050/inv_mpu.c **** /**
1874:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Set device to bypass mode.
1875:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  bypass_on   1 to enable bypass mode.
1876:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1877:Drivers/MPU6050/inv_mpu.c ****  */
1878:Drivers/MPU6050/inv_mpu.c **** int mpu_set_bypass(unsigned char bypass_on)
1879:Drivers/MPU6050/inv_mpu.c **** {
1880:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp;
1881:Drivers/MPU6050/inv_mpu.c **** 
1882:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.bypass_mode == bypass_on)
1883:Drivers/MPU6050/inv_mpu.c ****         return 0;
1884:Drivers/MPU6050/inv_mpu.c **** 
1885:Drivers/MPU6050/inv_mpu.c ****     if (bypass_on) {
1886:Drivers/MPU6050/inv_mpu.c ****         if (i2c_read(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
1887:Drivers/MPU6050/inv_mpu.c ****             return -1;
1888:Drivers/MPU6050/inv_mpu.c ****         tmp &= ~BIT_AUX_IF_EN;
1889:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
1890:Drivers/MPU6050/inv_mpu.c ****             return -1;
1891:Drivers/MPU6050/inv_mpu.c ****         delay_ms(3);
1892:Drivers/MPU6050/inv_mpu.c ****         tmp = BIT_BYPASS_EN;
1893:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.active_low_int)
1894:Drivers/MPU6050/inv_mpu.c ****             tmp |= BIT_ACTL;
1895:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.latched_int)
1896:Drivers/MPU6050/inv_mpu.c ****             tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
1897:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
1898:Drivers/MPU6050/inv_mpu.c ****             return -1;
1899:Drivers/MPU6050/inv_mpu.c ****     } else {
1900:Drivers/MPU6050/inv_mpu.c ****         /* Enable I2C master mode if compass is being used. */
1901:Drivers/MPU6050/inv_mpu.c ****         if (i2c_read(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
1902:Drivers/MPU6050/inv_mpu.c ****             return -1;
1903:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.sensors & INV_XYZ_COMPASS)
1904:Drivers/MPU6050/inv_mpu.c ****             tmp |= BIT_AUX_IF_EN;
1905:Drivers/MPU6050/inv_mpu.c ****         else
1906:Drivers/MPU6050/inv_mpu.c ****             tmp &= ~BIT_AUX_IF_EN;
1907:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
1908:Drivers/MPU6050/inv_mpu.c ****             return -1;
1909:Drivers/MPU6050/inv_mpu.c ****         delay_ms(3);
1910:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.active_low_int)
1911:Drivers/MPU6050/inv_mpu.c ****             tmp = BIT_ACTL;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 35


1912:Drivers/MPU6050/inv_mpu.c ****         else
1913:Drivers/MPU6050/inv_mpu.c ****             tmp = 0;
1914:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.latched_int)
1915:Drivers/MPU6050/inv_mpu.c ****             tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
1916:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
1917:Drivers/MPU6050/inv_mpu.c ****             return -1;
1918:Drivers/MPU6050/inv_mpu.c ****     }
1919:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.bypass_mode = bypass_on;
1920:Drivers/MPU6050/inv_mpu.c ****     return 0;
1921:Drivers/MPU6050/inv_mpu.c **** }
1922:Drivers/MPU6050/inv_mpu.c **** 
1923:Drivers/MPU6050/inv_mpu.c **** /**
1924:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Set interrupt level.
1925:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  active_low  1 for active low, 0 for active high.
1926:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1927:Drivers/MPU6050/inv_mpu.c ****  */
1928:Drivers/MPU6050/inv_mpu.c **** int mpu_set_int_level(unsigned char active_low)
1929:Drivers/MPU6050/inv_mpu.c **** {
1930:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.active_low_int = active_low;
1931:Drivers/MPU6050/inv_mpu.c ****     return 0;
1932:Drivers/MPU6050/inv_mpu.c **** }
1933:Drivers/MPU6050/inv_mpu.c **** 
1934:Drivers/MPU6050/inv_mpu.c **** /**
1935:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Enable latched interrupts.
1936:Drivers/MPU6050/inv_mpu.c ****  *  Any MPU register will clear the interrupt.
1937:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  enable  1 to enable, 0 to disable.
1938:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
1939:Drivers/MPU6050/inv_mpu.c ****  */
1940:Drivers/MPU6050/inv_mpu.c **** int mpu_set_int_latched(unsigned char enable)
1941:Drivers/MPU6050/inv_mpu.c **** {
1942:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp;
1943:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.latched_int == enable)
1944:Drivers/MPU6050/inv_mpu.c ****         return 0;
1945:Drivers/MPU6050/inv_mpu.c **** 
1946:Drivers/MPU6050/inv_mpu.c ****     if (enable)
1947:Drivers/MPU6050/inv_mpu.c ****         tmp = BIT_LATCH_EN | BIT_ANY_RD_CLR;
1948:Drivers/MPU6050/inv_mpu.c ****     else
1949:Drivers/MPU6050/inv_mpu.c ****         tmp = 0;
1950:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.bypass_mode)
1951:Drivers/MPU6050/inv_mpu.c ****         tmp |= BIT_BYPASS_EN;
1952:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.active_low_int)
1953:Drivers/MPU6050/inv_mpu.c ****         tmp |= BIT_ACTL;
1954:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
1955:Drivers/MPU6050/inv_mpu.c ****         return -1;
1956:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.latched_int = enable;
1957:Drivers/MPU6050/inv_mpu.c ****     return 0;
1958:Drivers/MPU6050/inv_mpu.c **** }
1959:Drivers/MPU6050/inv_mpu.c **** 
1960:Drivers/MPU6050/inv_mpu.c **** #ifdef MPU6050
1961:Drivers/MPU6050/inv_mpu.c **** static int get_accel_prod_shift(float *st_shift)
1962:Drivers/MPU6050/inv_mpu.c **** {
  29              		.loc 1 1962 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 1962 1 is_stmt 0 view .LVU1
  34 0000 10B5     		push	{r4, lr}
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 36


  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 4, -8
  38              		.cfi_offset 14, -4
  39 0002 82B0     		sub	sp, sp, #8
  40              	.LCFI1:
  41              		.cfi_def_cfa_offset 16
  42 0004 0446     		mov	r4, r0
1963:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[4], shift_code[3], ii;
  43              		.loc 1 1963 5 is_stmt 1 view .LVU2
1964:Drivers/MPU6050/inv_mpu.c **** 
1965:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, 0x0D, 4, tmp))
  44              		.loc 1 1965 5 view .LVU3
  45              		.loc 1 1965 20 is_stmt 0 view .LVU4
  46 0006 2E4B     		ldr	r3, .L12
  47 0008 5868     		ldr	r0, [r3, #4]
  48              	.LVL1:
  49              		.loc 1 1965 9 view .LVU5
  50 000a 01AB     		add	r3, sp, #4
  51 000c 0422     		movs	r2, #4
  52 000e 0D21     		movs	r1, #13
  53 0010 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
  54 0012 FFF7FEFF 		bl	i2cread
  55              	.LVL2:
  56              		.loc 1 1965 8 view .LVU6
  57 0016 0028     		cmp	r0, #0
  58 0018 4FD1     		bne	.L9
1966:Drivers/MPU6050/inv_mpu.c ****         return 0x07;
1967:Drivers/MPU6050/inv_mpu.c **** 
1968:Drivers/MPU6050/inv_mpu.c ****     shift_code[0] = ((tmp[0] & 0xE0) >> 3) | ((tmp[3] & 0x30) >> 4);
  59              		.loc 1 1968 5 is_stmt 1 view .LVU7
  60              		.loc 1 1968 26 is_stmt 0 view .LVU8
  61 001a 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
  62              		.loc 1 1968 38 view .LVU9
  63 001e D210     		asrs	r2, r2, #3
  64 0020 02F01C02 		and	r2, r2, #28
  65              		.loc 1 1968 51 view .LVU10
  66 0024 9DF80710 		ldrb	r1, [sp, #7]	@ zero_extendqisi2
  67              		.loc 1 1968 63 view .LVU11
  68 0028 C1F30113 		ubfx	r3, r1, #4, #2
  69              		.loc 1 1968 44 view .LVU12
  70 002c 1A43     		orrs	r2, r2, r3
  71              		.loc 1 1968 19 view .LVU13
  72 002e 8DF80020 		strb	r2, [sp]
1969:Drivers/MPU6050/inv_mpu.c ****     shift_code[1] = ((tmp[1] & 0xE0) >> 3) | ((tmp[3] & 0x0C) >> 2);
  73              		.loc 1 1969 5 is_stmt 1 view .LVU14
  74              		.loc 1 1969 26 is_stmt 0 view .LVU15
  75 0032 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
  76              		.loc 1 1969 38 view .LVU16
  77 0036 D210     		asrs	r2, r2, #3
  78 0038 02F01C02 		and	r2, r2, #28
  79              		.loc 1 1969 63 view .LVU17
  80 003c C1F38103 		ubfx	r3, r1, #2, #2
  81              		.loc 1 1969 44 view .LVU18
  82 0040 1A43     		orrs	r2, r2, r3
  83              		.loc 1 1969 19 view .LVU19
  84 0042 8DF80120 		strb	r2, [sp, #1]
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 37


1970:Drivers/MPU6050/inv_mpu.c ****     shift_code[2] = ((tmp[2] & 0xE0) >> 3) | (tmp[3] & 0x03);
  85              		.loc 1 1970 5 is_stmt 1 view .LVU20
  86              		.loc 1 1970 26 is_stmt 0 view .LVU21
  87 0046 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
  88              		.loc 1 1970 38 view .LVU22
  89 004a DB10     		asrs	r3, r3, #3
  90 004c 03F01C03 		and	r3, r3, #28
  91              		.loc 1 1970 54 view .LVU23
  92 0050 01F00301 		and	r1, r1, #3
  93              		.loc 1 1970 44 view .LVU24
  94 0054 0B43     		orrs	r3, r3, r1
  95              		.loc 1 1970 19 view .LVU25
  96 0056 8DF80230 		strb	r3, [sp, #2]
1971:Drivers/MPU6050/inv_mpu.c ****     for (ii = 0; ii < 3; ii++) {
  97              		.loc 1 1971 5 is_stmt 1 view .LVU26
  98              	.LVL3:
  99              		.loc 1 1971 13 is_stmt 0 view .LVU27
 100 005a 0021     		movs	r1, #0
 101              		.loc 1 1971 5 view .LVU28
 102 005c 1BE0     		b	.L3
 103              	.LVL4:
 104              	.L4:
1972:Drivers/MPU6050/inv_mpu.c ****         if (!shift_code[ii]) {
1973:Drivers/MPU6050/inv_mpu.c ****             st_shift[ii] = 0.f;
1974:Drivers/MPU6050/inv_mpu.c ****             continue;
1975:Drivers/MPU6050/inv_mpu.c ****         }
1976:Drivers/MPU6050/inv_mpu.c ****         /* Equivalent to..
1977:Drivers/MPU6050/inv_mpu.c ****          * st_shift[ii] = 0.34f * powf(0.92f/0.34f, (shift_code[ii]-1) / 30.f)
1978:Drivers/MPU6050/inv_mpu.c ****          */
1979:Drivers/MPU6050/inv_mpu.c ****         st_shift[ii] = 0.34f;
 105              		.loc 1 1979 9 is_stmt 1 view .LVU29
 106              		.loc 1 1979 17 is_stmt 0 view .LVU30
 107 005e 04EB810C 		add	ip, r4, r1, lsl #2
 108              		.loc 1 1979 22 view .LVU31
 109 0062 184B     		ldr	r3, .L12+4
 110 0064 CCF80030 		str	r3, [ip]	@ float
1980:Drivers/MPU6050/inv_mpu.c ****         while (--shift_code[ii])
 111              		.loc 1 1980 9 is_stmt 1 view .LVU32
 112              		.loc 1 1980 15 is_stmt 0 view .LVU33
 113 0068 07E0     		b	.L6
 114              	.L7:
1981:Drivers/MPU6050/inv_mpu.c ****             st_shift[ii] *= 1.034f;
 115              		.loc 1 1981 13 is_stmt 1 view .LVU34
 116              		.loc 1 1981 26 is_stmt 0 view .LVU35
 117 006a DCED007A 		vldr.32	s15, [ip]
 118 006e 9FED167A 		vldr.32	s14, .L12+8
 119 0072 67EE877A 		vmul.f32	s15, s15, s14
 120 0076 CCED007A 		vstr.32	s15, [ip]
 121              	.L6:
1980:Drivers/MPU6050/inv_mpu.c ****         while (--shift_code[ii])
 122              		.loc 1 1980 15 is_stmt 1 view .LVU36
1980:Drivers/MPU6050/inv_mpu.c ****         while (--shift_code[ii])
 123              		.loc 1 1980 28 is_stmt 0 view .LVU37
 124 007a 00F10803 		add	r3, r0, #8
 125 007e 0DEB0302 		add	r2, sp, r3
 126 0082 12F8083C 		ldrb	r3, [r2, #-8]	@ zero_extendqisi2
1980:Drivers/MPU6050/inv_mpu.c ****         while (--shift_code[ii])
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 38


 127              		.loc 1 1980 16 view .LVU38
 128 0086 013B     		subs	r3, r3, #1
 129 0088 DBB2     		uxtb	r3, r3
1980:Drivers/MPU6050/inv_mpu.c ****         while (--shift_code[ii])
 130              		.loc 1 1980 15 view .LVU39
 131 008a 02F8083C 		strb	r3, [r2, #-8]
 132 008e 002B     		cmp	r3, #0
 133 0090 EBD1     		bne	.L7
 134              	.L5:
1971:Drivers/MPU6050/inv_mpu.c ****         if (!shift_code[ii]) {
 135              		.loc 1 1971 26 is_stmt 1 discriminator 2 view .LVU40
1971:Drivers/MPU6050/inv_mpu.c ****         if (!shift_code[ii]) {
 136              		.loc 1 1971 28 is_stmt 0 discriminator 2 view .LVU41
 137 0092 0131     		adds	r1, r1, #1
 138              	.LVL5:
1971:Drivers/MPU6050/inv_mpu.c ****         if (!shift_code[ii]) {
 139              		.loc 1 1971 28 discriminator 2 view .LVU42
 140 0094 C9B2     		uxtb	r1, r1
 141              	.LVL6:
 142              	.L3:
1971:Drivers/MPU6050/inv_mpu.c ****         if (!shift_code[ii]) {
 143              		.loc 1 1971 18 is_stmt 1 discriminator 1 view .LVU43
1971:Drivers/MPU6050/inv_mpu.c ****         if (!shift_code[ii]) {
 144              		.loc 1 1971 5 is_stmt 0 discriminator 1 view .LVU44
 145 0096 0229     		cmp	r1, #2
 146 0098 0CD8     		bhi	.L11
1972:Drivers/MPU6050/inv_mpu.c ****             st_shift[ii] = 0.f;
 147              		.loc 1 1972 9 is_stmt 1 view .LVU45
1972:Drivers/MPU6050/inv_mpu.c ****             st_shift[ii] = 0.f;
 148              		.loc 1 1972 24 is_stmt 0 view .LVU46
 149 009a 0846     		mov	r0, r1
 150 009c 01F10803 		add	r3, r1, #8
 151 00a0 6B44     		add	r3, sp, r3
 152 00a2 13F8083C 		ldrb	r3, [r3, #-8]	@ zero_extendqisi2
1972:Drivers/MPU6050/inv_mpu.c ****             st_shift[ii] = 0.f;
 153              		.loc 1 1972 12 view .LVU47
 154 00a6 002B     		cmp	r3, #0
 155 00a8 D9D1     		bne	.L4
1973:Drivers/MPU6050/inv_mpu.c ****             continue;
 156              		.loc 1 1973 13 is_stmt 1 view .LVU48
1973:Drivers/MPU6050/inv_mpu.c ****             continue;
 157              		.loc 1 1973 21 is_stmt 0 view .LVU49
 158 00aa 04EB8103 		add	r3, r4, r1, lsl #2
1973:Drivers/MPU6050/inv_mpu.c ****             continue;
 159              		.loc 1 1973 26 view .LVU50
 160 00ae 0022     		movs	r2, #0
 161 00b0 1A60     		str	r2, [r3]	@ float
1974:Drivers/MPU6050/inv_mpu.c ****         }
 162              		.loc 1 1974 13 is_stmt 1 view .LVU51
 163 00b2 EEE7     		b	.L5
 164              	.L11:
1982:Drivers/MPU6050/inv_mpu.c ****     }
1983:Drivers/MPU6050/inv_mpu.c ****     return 0;
 165              		.loc 1 1983 12 is_stmt 0 view .LVU52
 166 00b4 0020     		movs	r0, #0
 167              	.LVL7:
 168              	.L1:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 39


1984:Drivers/MPU6050/inv_mpu.c **** }
 169              		.loc 1 1984 1 view .LVU53
 170 00b6 02B0     		add	sp, sp, #8
 171              	.LCFI2:
 172              		.cfi_remember_state
 173              		.cfi_def_cfa_offset 8
 174              		@ sp needed
 175 00b8 10BD     		pop	{r4, pc}
 176              	.LVL8:
 177              	.L9:
 178              	.LCFI3:
 179              		.cfi_restore_state
1966:Drivers/MPU6050/inv_mpu.c **** 
 180              		.loc 1 1966 16 view .LVU54
 181 00ba 0720     		movs	r0, #7
 182 00bc FBE7     		b	.L1
 183              	.L13:
 184 00be 00BF     		.align	2
 185              	.L12:
 186 00c0 00000000 		.word	.LANCHOR0
 187 00c4 7B14AE3E 		.word	1051595899
 188 00c8 1D5A843F 		.word	1065638429
 189              		.cfi_endproc
 190              	.LFE594:
 192              		.section	.text.accel_self_test,"ax",%progbits
 193              		.align	1
 194              		.syntax unified
 195              		.thumb
 196              		.thumb_func
 198              	accel_self_test:
 199              	.LVL9:
 200              	.LFB595:
1985:Drivers/MPU6050/inv_mpu.c **** 
1986:Drivers/MPU6050/inv_mpu.c **** static int accel_self_test(long *bias_regular, long *bias_st)
1987:Drivers/MPU6050/inv_mpu.c **** {
 201              		.loc 1 1987 1 is_stmt 1 view -0
 202              		.cfi_startproc
 203              		@ args = 0, pretend = 0, frame = 16
 204              		@ frame_needed = 0, uses_anonymous_args = 0
 205              		.loc 1 1987 1 is_stmt 0 view .LVU56
 206 0000 30B5     		push	{r4, r5, lr}
 207              	.LCFI4:
 208              		.cfi_def_cfa_offset 12
 209              		.cfi_offset 4, -12
 210              		.cfi_offset 5, -8
 211              		.cfi_offset 14, -4
 212 0002 85B0     		sub	sp, sp, #20
 213              	.LCFI5:
 214              		.cfi_def_cfa_offset 32
 215 0004 0546     		mov	r5, r0
 216 0006 0C46     		mov	r4, r1
1988:Drivers/MPU6050/inv_mpu.c ****     int jj, result = 0;
 217              		.loc 1 1988 5 is_stmt 1 view .LVU57
 218              	.LVL10:
1989:Drivers/MPU6050/inv_mpu.c ****     float st_shift[3], st_shift_cust, st_shift_var;
 219              		.loc 1 1989 5 view .LVU58
1990:Drivers/MPU6050/inv_mpu.c **** 
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 40


1991:Drivers/MPU6050/inv_mpu.c ****     get_accel_prod_shift(st_shift);
 220              		.loc 1 1991 5 view .LVU59
 221 0008 01A8     		add	r0, sp, #4
 222              	.LVL11:
 223              		.loc 1 1991 5 is_stmt 0 view .LVU60
 224 000a FFF7FEFF 		bl	get_accel_prod_shift
 225              	.LVL12:
1992:Drivers/MPU6050/inv_mpu.c ****     for(jj = 0; jj < 3; jj++) {
 226              		.loc 1 1992 5 is_stmt 1 view .LVU61
1988:Drivers/MPU6050/inv_mpu.c ****     float st_shift[3], st_shift_cust, st_shift_var;
 227              		.loc 1 1988 13 is_stmt 0 view .LVU62
 228 000e 0020     		movs	r0, #0
 229              		.loc 1 1992 12 view .LVU63
 230 0010 0246     		mov	r2, r0
 231              		.loc 1 1992 5 view .LVU64
 232 0012 11E0     		b	.L15
 233              	.LVL13:
 234              	.L16:
1993:Drivers/MPU6050/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
1994:Drivers/MPU6050/inv_mpu.c ****         if (st_shift[jj]) {
1995:Drivers/MPU6050/inv_mpu.c ****             st_shift_var = st_shift_cust / st_shift[jj] - 1.f;
1996:Drivers/MPU6050/inv_mpu.c ****             if (fabs(st_shift_var) > test.max_accel_var)
1997:Drivers/MPU6050/inv_mpu.c ****                 result |= 1 << jj;
1998:Drivers/MPU6050/inv_mpu.c ****         } else if ((st_shift_cust < test.min_g) ||
 235              		.loc 1 1998 16 is_stmt 1 view .LVU65
 236              		.loc 1 1998 19 is_stmt 0 view .LVU66
 237 0014 9FED217A 		vldr.32	s14, .L25
 238 0018 F4EEC77A 		vcmpe.f32	s15, s14
 239 001c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 240 0020 06D4     		bmi	.L19
 241              		.loc 1 1998 49 discriminator 1 view .LVU67
 242 0022 9FED1F7A 		vldr.32	s14, .L25+4
 243 0026 F4EEC77A 		vcmpe.f32	s15, s14
 244 002a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 245 002e 02DD     		ble	.L17
 246              	.L19:
1999:Drivers/MPU6050/inv_mpu.c ****             (st_shift_cust > test.max_g))
2000:Drivers/MPU6050/inv_mpu.c ****             result |= 1 << jj;
 247              		.loc 1 2000 13 is_stmt 1 view .LVU68
 248              		.loc 1 2000 25 is_stmt 0 view .LVU69
 249 0030 0123     		movs	r3, #1
 250 0032 9340     		lsls	r3, r3, r2
 251              		.loc 1 2000 20 view .LVU70
 252 0034 1843     		orrs	r0, r0, r3
 253              	.LVL14:
 254              	.L17:
1992:Drivers/MPU6050/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
 255              		.loc 1 1992 25 is_stmt 1 discriminator 2 view .LVU71
1992:Drivers/MPU6050/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
 256              		.loc 1 1992 27 is_stmt 0 discriminator 2 view .LVU72
 257 0036 0132     		adds	r2, r2, #1
 258              	.LVL15:
 259              	.L15:
1992:Drivers/MPU6050/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
 260              		.loc 1 1992 17 is_stmt 1 discriminator 1 view .LVU73
1992:Drivers/MPU6050/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
 261              		.loc 1 1992 5 is_stmt 0 discriminator 1 view .LVU74
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 41


 262 0038 022A     		cmp	r2, #2
 263 003a 2CDC     		bgt	.L24
1993:Drivers/MPU6050/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
 264              		.loc 1 1993 9 is_stmt 1 view .LVU75
1993:Drivers/MPU6050/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
 265              		.loc 1 1993 42 is_stmt 0 view .LVU76
 266 003c 55F82230 		ldr	r3, [r5, r2, lsl #2]
1993:Drivers/MPU6050/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
 267              		.loc 1 1993 56 view .LVU77
 268 0040 54F82210 		ldr	r1, [r4, r2, lsl #2]
1993:Drivers/MPU6050/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
 269              		.loc 1 1993 47 view .LVU78
 270 0044 5B1A     		subs	r3, r3, r1
1993:Drivers/MPU6050/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
 271              		.loc 1 1993 25 view .LVU79
 272 0046 002B     		cmp	r3, #0
 273 0048 B8BF     		it	lt
 274 004a 5B42     		rsblt	r3, r3, #0
1993:Drivers/MPU6050/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
 275              		.loc 1 1993 62 view .LVU80
 276 004c 07EE903A 		vmov	s15, r3	@ int
 277 0050 F8EEE77A 		vcvt.f32.s32	s15, s15
1993:Drivers/MPU6050/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
 278              		.loc 1 1993 23 view .LVU81
 279 0054 9FED137A 		vldr.32	s14, .L25+8
 280 0058 67EE877A 		vmul.f32	s15, s15, s14
 281              	.LVL16:
1994:Drivers/MPU6050/inv_mpu.c ****             st_shift_var = st_shift_cust / st_shift[jj] - 1.f;
 282              		.loc 1 1994 9 is_stmt 1 view .LVU82
1994:Drivers/MPU6050/inv_mpu.c ****             st_shift_var = st_shift_cust / st_shift[jj] - 1.f;
 283              		.loc 1 1994 21 is_stmt 0 view .LVU83
 284 005c 04AB     		add	r3, sp, #16
 285 005e 03EB8203 		add	r3, r3, r2, lsl #2
 286 0062 53ED036A 		vldr.32	s13, [r3, #-12]
1994:Drivers/MPU6050/inv_mpu.c ****             st_shift_var = st_shift_cust / st_shift[jj] - 1.f;
 287              		.loc 1 1994 12 view .LVU84
 288 0066 F5EE406A 		vcmp.f32	s13, #0
 289 006a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 290 006e D1D0     		beq	.L16
1995:Drivers/MPU6050/inv_mpu.c ****             if (fabs(st_shift_var) > test.max_accel_var)
 291              		.loc 1 1995 13 is_stmt 1 view .LVU85
1995:Drivers/MPU6050/inv_mpu.c ****             if (fabs(st_shift_var) > test.max_accel_var)
 292              		.loc 1 1995 42 is_stmt 0 view .LVU86
 293 0070 87EEA67A 		vdiv.f32	s14, s15, s13
1995:Drivers/MPU6050/inv_mpu.c ****             if (fabs(st_shift_var) > test.max_accel_var)
 294              		.loc 1 1995 26 view .LVU87
 295 0074 F7EE007A 		vmov.f32	s15, #1.0e+0
 296              	.LVL17:
1995:Drivers/MPU6050/inv_mpu.c ****             if (fabs(st_shift_var) > test.max_accel_var)
 297              		.loc 1 1995 26 view .LVU88
 298 0078 77EE677A 		vsub.f32	s15, s14, s15
 299              	.LVL18:
1996:Drivers/MPU6050/inv_mpu.c ****                 result |= 1 << jj;
 300              		.loc 1 1996 13 is_stmt 1 view .LVU89
1996:Drivers/MPU6050/inv_mpu.c ****                 result |= 1 << jj;
 301              		.loc 1 1996 17 is_stmt 0 view .LVU90
 302 007c F0EEE77A 		vabs.f32	s15, s15
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 42


 303              	.LVL19:
1996:Drivers/MPU6050/inv_mpu.c ****                 result |= 1 << jj;
 304              		.loc 1 1996 16 view .LVU91
 305 0080 9FED097A 		vldr.32	s14, .L25+12
 306              	.LVL20:
1996:Drivers/MPU6050/inv_mpu.c ****                 result |= 1 << jj;
 307              		.loc 1 1996 16 view .LVU92
 308 0084 F4EEC77A 		vcmpe.f32	s15, s14
 309 0088 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 310 008c D3DD     		ble	.L17
1997:Drivers/MPU6050/inv_mpu.c ****         } else if ((st_shift_cust < test.min_g) ||
 311              		.loc 1 1997 17 is_stmt 1 view .LVU93
1997:Drivers/MPU6050/inv_mpu.c ****         } else if ((st_shift_cust < test.min_g) ||
 312              		.loc 1 1997 29 is_stmt 0 view .LVU94
 313 008e 0123     		movs	r3, #1
 314 0090 9340     		lsls	r3, r3, r2
1997:Drivers/MPU6050/inv_mpu.c ****         } else if ((st_shift_cust < test.min_g) ||
 315              		.loc 1 1997 24 view .LVU95
 316 0092 1843     		orrs	r0, r0, r3
 317              	.LVL21:
1997:Drivers/MPU6050/inv_mpu.c ****         } else if ((st_shift_cust < test.min_g) ||
 318              		.loc 1 1997 24 view .LVU96
 319 0094 CFE7     		b	.L17
 320              	.LVL22:
 321              	.L24:
2001:Drivers/MPU6050/inv_mpu.c ****     }
2002:Drivers/MPU6050/inv_mpu.c **** 
2003:Drivers/MPU6050/inv_mpu.c ****     return result;
 322              		.loc 1 2003 5 is_stmt 1 view .LVU97
2004:Drivers/MPU6050/inv_mpu.c **** }
 323              		.loc 1 2004 1 is_stmt 0 view .LVU98
 324 0096 05B0     		add	sp, sp, #20
 325              	.LCFI6:
 326              		.cfi_def_cfa_offset 12
 327              		@ sp needed
 328 0098 30BD     		pop	{r4, r5, pc}
 329              	.LVL23:
 330              	.L26:
 331              		.loc 1 2004 1 view .LVU99
 332 009a 00BF     		.align	2
 333              	.L25:
 334 009c 9A99993E 		.word	1050253722
 335 00a0 3333733F 		.word	1064514355
 336 00a4 00008037 		.word	931135488
 337 00a8 295C0F3E 		.word	1041194025
 338              		.cfi_endproc
 339              	.LFE595:
 341              		.section	.text.gyro_self_test,"ax",%progbits
 342              		.align	1
 343              		.syntax unified
 344              		.thumb
 345              		.thumb_func
 347              	gyro_self_test:
 348              	.LVL24:
 349              	.LFB596:
2005:Drivers/MPU6050/inv_mpu.c **** 
2006:Drivers/MPU6050/inv_mpu.c **** static int gyro_self_test(long *bias_regular, long *bias_st)
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 43


2007:Drivers/MPU6050/inv_mpu.c **** {
 350              		.loc 1 2007 1 is_stmt 1 view -0
 351              		.cfi_startproc
 352              		@ args = 0, pretend = 0, frame = 8
 353              		@ frame_needed = 0, uses_anonymous_args = 0
 354              		.loc 1 2007 1 is_stmt 0 view .LVU101
 355 0000 30B5     		push	{r4, r5, lr}
 356              	.LCFI7:
 357              		.cfi_def_cfa_offset 12
 358              		.cfi_offset 4, -12
 359              		.cfi_offset 5, -8
 360              		.cfi_offset 14, -4
 361 0002 83B0     		sub	sp, sp, #12
 362              	.LCFI8:
 363              		.cfi_def_cfa_offset 24
 364 0004 0446     		mov	r4, r0
 365 0006 0D46     		mov	r5, r1
2008:Drivers/MPU6050/inv_mpu.c ****     int jj, result = 0;
 366              		.loc 1 2008 5 is_stmt 1 view .LVU102
 367              	.LVL25:
2009:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[3];
 368              		.loc 1 2009 5 view .LVU103
2010:Drivers/MPU6050/inv_mpu.c ****     float st_shift, st_shift_cust, st_shift_var;
 369              		.loc 1 2010 5 view .LVU104
2011:Drivers/MPU6050/inv_mpu.c **** 
2012:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, 0x0D, 3, tmp))
 370              		.loc 1 2012 5 view .LVU105
 371              		.loc 1 2012 20 is_stmt 0 view .LVU106
 372 0008 394B     		ldr	r3, .L44
 373 000a 5868     		ldr	r0, [r3, #4]
 374              	.LVL26:
 375              		.loc 1 2012 9 view .LVU107
 376 000c 01AB     		add	r3, sp, #4
 377 000e 0322     		movs	r2, #3
 378 0010 0D21     		movs	r1, #13
 379              	.LVL27:
 380              		.loc 1 2012 9 view .LVU108
 381 0012 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 382 0014 FFF7FEFF 		bl	i2cread
 383              	.LVL28:
 384              		.loc 1 2012 8 view .LVU109
 385 0018 0028     		cmp	r0, #0
 386 001a 65D1     		bne	.L38
2013:Drivers/MPU6050/inv_mpu.c ****         return 0x07;
2014:Drivers/MPU6050/inv_mpu.c **** 
2015:Drivers/MPU6050/inv_mpu.c ****     tmp[0] &= 0x1F;
 387              		.loc 1 2015 5 is_stmt 1 view .LVU110
 388              		.loc 1 2015 12 is_stmt 0 view .LVU111
 389 001c 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 390 0020 03F01F03 		and	r3, r3, #31
 391 0024 8DF80430 		strb	r3, [sp, #4]
2016:Drivers/MPU6050/inv_mpu.c ****     tmp[1] &= 0x1F;
 392              		.loc 1 2016 5 is_stmt 1 view .LVU112
 393              		.loc 1 2016 12 is_stmt 0 view .LVU113
 394 0028 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 395 002c 03F01F03 		and	r3, r3, #31
 396 0030 8DF80530 		strb	r3, [sp, #5]
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 44


2017:Drivers/MPU6050/inv_mpu.c ****     tmp[2] &= 0x1F;
 397              		.loc 1 2017 5 is_stmt 1 view .LVU114
 398              		.loc 1 2017 12 is_stmt 0 view .LVU115
 399 0034 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 400 0038 03F01F03 		and	r3, r3, #31
 401 003c 8DF80630 		strb	r3, [sp, #6]
2018:Drivers/MPU6050/inv_mpu.c **** 
2019:Drivers/MPU6050/inv_mpu.c ****     for (jj = 0; jj < 3; jj++) {
 402              		.loc 1 2019 5 is_stmt 1 view .LVU116
 403              	.LVL29:
 404              		.loc 1 2019 13 is_stmt 0 view .LVU117
 405 0040 0246     		mov	r2, r0
 406              		.loc 1 2019 5 view .LVU118
 407 0042 29E0     		b	.L29
 408              	.LVL30:
 409              	.L32:
2020:Drivers/MPU6050/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
2021:Drivers/MPU6050/inv_mpu.c ****         if (tmp[jj]) {
2022:Drivers/MPU6050/inv_mpu.c ****             st_shift = 3275.f / test.gyro_sens;
2023:Drivers/MPU6050/inv_mpu.c ****             while (--tmp[jj])
2024:Drivers/MPU6050/inv_mpu.c ****                 st_shift *= 1.046f;
 410              		.loc 1 2024 17 is_stmt 1 view .LVU119
 411              		.loc 1 2024 26 is_stmt 0 view .LVU120
 412 0044 DFED2B6A 		vldr.32	s13, .L44+4
 413 0048 27EE267A 		vmul.f32	s14, s14, s13
 414              	.LVL31:
 415              	.L30:
2023:Drivers/MPU6050/inv_mpu.c ****                 st_shift *= 1.046f;
 416              		.loc 1 2023 19 is_stmt 1 view .LVU121
2023:Drivers/MPU6050/inv_mpu.c ****                 st_shift *= 1.046f;
 417              		.loc 1 2023 25 is_stmt 0 view .LVU122
 418 004c 02F10803 		add	r3, r2, #8
 419 0050 0DEB0301 		add	r1, sp, r3
 420 0054 11F8043C 		ldrb	r3, [r1, #-4]	@ zero_extendqisi2
2023:Drivers/MPU6050/inv_mpu.c ****                 st_shift *= 1.046f;
 421              		.loc 1 2023 20 view .LVU123
 422 0058 013B     		subs	r3, r3, #1
 423 005a DBB2     		uxtb	r3, r3
2023:Drivers/MPU6050/inv_mpu.c ****                 st_shift *= 1.046f;
 424              		.loc 1 2023 19 view .LVU124
 425 005c 01F8043C 		strb	r3, [r1, #-4]
 426 0060 002B     		cmp	r3, #0
 427 0062 EFD1     		bne	.L32
2025:Drivers/MPU6050/inv_mpu.c ****             st_shift_var = st_shift_cust / st_shift - 1.f;
 428              		.loc 1 2025 13 is_stmt 1 view .LVU125
 429              		.loc 1 2025 42 is_stmt 0 view .LVU126
 430 0064 C7EE876A 		vdiv.f32	s13, s15, s14
 431              		.loc 1 2025 26 view .LVU127
 432 0068 F7EE007A 		vmov.f32	s15, #1.0e+0
 433              	.LVL32:
 434              		.loc 1 2025 26 view .LVU128
 435 006c 76EEE77A 		vsub.f32	s15, s13, s15
 436              	.LVL33:
2026:Drivers/MPU6050/inv_mpu.c ****             if (fabs(st_shift_var) > test.max_gyro_var)
 437              		.loc 1 2026 13 is_stmt 1 view .LVU129
 438              		.loc 1 2026 17 is_stmt 0 view .LVU130
 439 0070 F0EEE77A 		vabs.f32	s15, s15
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 45


 440              	.LVL34:
 441              		.loc 1 2026 16 view .LVU131
 442 0074 9FED207A 		vldr.32	s14, .L44+8
 443              	.LVL35:
 444              		.loc 1 2026 16 view .LVU132
 445 0078 F4EEC77A 		vcmpe.f32	s15, s14
 446 007c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 447 0080 09DD     		ble	.L33
2027:Drivers/MPU6050/inv_mpu.c ****                 result |= 1 << jj;
 448              		.loc 1 2027 17 is_stmt 1 view .LVU133
 449              		.loc 1 2027 29 is_stmt 0 view .LVU134
 450 0082 0123     		movs	r3, #1
 451 0084 9340     		lsls	r3, r3, r2
 452              		.loc 1 2027 24 view .LVU135
 453 0086 1843     		orrs	r0, r0, r3
 454              	.LVL36:
 455              		.loc 1 2027 24 view .LVU136
 456 0088 05E0     		b	.L33
 457              	.LVL37:
 458              	.L43:
2022:Drivers/MPU6050/inv_mpu.c ****             while (--tmp[jj])
 459              		.loc 1 2022 22 view .LVU137
 460 008a B3EE097A 		vmov.f32	s14, #2.5e+1
 461 008e DDE7     		b	.L30
 462              	.L35:
2028:Drivers/MPU6050/inv_mpu.c ****         } else if ((st_shift_cust < test.min_dps) ||
2029:Drivers/MPU6050/inv_mpu.c ****             (st_shift_cust > test.max_dps))
2030:Drivers/MPU6050/inv_mpu.c ****             result |= 1 << jj;
 463              		.loc 1 2030 13 is_stmt 1 view .LVU138
 464              		.loc 1 2030 25 is_stmt 0 view .LVU139
 465 0090 0123     		movs	r3, #1
 466 0092 9340     		lsls	r3, r3, r2
 467              		.loc 1 2030 20 view .LVU140
 468 0094 1843     		orrs	r0, r0, r3
 469              	.LVL38:
 470              	.L33:
2019:Drivers/MPU6050/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
 471              		.loc 1 2019 26 is_stmt 1 discriminator 2 view .LVU141
2019:Drivers/MPU6050/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
 472              		.loc 1 2019 28 is_stmt 0 discriminator 2 view .LVU142
 473 0096 0132     		adds	r2, r2, #1
 474              	.LVL39:
 475              	.L29:
2019:Drivers/MPU6050/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
 476              		.loc 1 2019 18 is_stmt 1 discriminator 1 view .LVU143
2019:Drivers/MPU6050/inv_mpu.c ****         st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
 477              		.loc 1 2019 5 is_stmt 0 discriminator 1 view .LVU144
 478 0098 022A     		cmp	r2, #2
 479 009a 26DC     		bgt	.L27
2020:Drivers/MPU6050/inv_mpu.c ****         if (tmp[jj]) {
 480              		.loc 1 2020 9 is_stmt 1 view .LVU145
2020:Drivers/MPU6050/inv_mpu.c ****         if (tmp[jj]) {
 481              		.loc 1 2020 42 is_stmt 0 view .LVU146
 482 009c 54F82230 		ldr	r3, [r4, r2, lsl #2]
2020:Drivers/MPU6050/inv_mpu.c ****         if (tmp[jj]) {
 483              		.loc 1 2020 56 view .LVU147
 484 00a0 55F82210 		ldr	r1, [r5, r2, lsl #2]
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 46


2020:Drivers/MPU6050/inv_mpu.c ****         if (tmp[jj]) {
 485              		.loc 1 2020 47 view .LVU148
 486 00a4 5B1A     		subs	r3, r3, r1
2020:Drivers/MPU6050/inv_mpu.c ****         if (tmp[jj]) {
 487              		.loc 1 2020 25 view .LVU149
 488 00a6 002B     		cmp	r3, #0
 489 00a8 B8BF     		it	lt
 490 00aa 5B42     		rsblt	r3, r3, #0
2020:Drivers/MPU6050/inv_mpu.c ****         if (tmp[jj]) {
 491              		.loc 1 2020 62 view .LVU150
 492 00ac 07EE903A 		vmov	s15, r3	@ int
 493 00b0 F8EEE77A 		vcvt.f32.s32	s15, s15
2020:Drivers/MPU6050/inv_mpu.c ****         if (tmp[jj]) {
 494              		.loc 1 2020 23 view .LVU151
 495 00b4 9FED117A 		vldr.32	s14, .L44+12
 496 00b8 67EE877A 		vmul.f32	s15, s15, s14
 497              	.LVL40:
2021:Drivers/MPU6050/inv_mpu.c ****             st_shift = 3275.f / test.gyro_sens;
 498              		.loc 1 2021 9 is_stmt 1 view .LVU152
2021:Drivers/MPU6050/inv_mpu.c ****             st_shift = 3275.f / test.gyro_sens;
 499              		.loc 1 2021 16 is_stmt 0 view .LVU153
 500 00bc 02F10803 		add	r3, r2, #8
 501 00c0 6B44     		add	r3, sp, r3
 502 00c2 13F8043C 		ldrb	r3, [r3, #-4]	@ zero_extendqisi2
2021:Drivers/MPU6050/inv_mpu.c ****             st_shift = 3275.f / test.gyro_sens;
 503              		.loc 1 2021 12 view .LVU154
 504 00c6 002B     		cmp	r3, #0
 505 00c8 DFD1     		bne	.L43
2028:Drivers/MPU6050/inv_mpu.c ****             (st_shift_cust > test.max_dps))
 506              		.loc 1 2028 16 is_stmt 1 view .LVU155
2028:Drivers/MPU6050/inv_mpu.c ****             (st_shift_cust > test.max_dps))
 507              		.loc 1 2028 19 is_stmt 0 view .LVU156
 508 00ca B2EE047A 		vmov.f32	s14, #1.0e+1
 509 00ce F4EEC77A 		vcmpe.f32	s15, s14
 510 00d2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 511 00d6 DBD4     		bmi	.L35
2028:Drivers/MPU6050/inv_mpu.c ****             (st_shift_cust > test.max_dps))
 512              		.loc 1 2028 51 discriminator 1 view .LVU157
 513 00d8 9FED097A 		vldr.32	s14, .L44+16
 514 00dc F4EEC77A 		vcmpe.f32	s15, s14
 515 00e0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 516 00e4 D7DD     		ble	.L33
 517 00e6 D3E7     		b	.L35
 518              	.LVL41:
 519              	.L38:
2013:Drivers/MPU6050/inv_mpu.c **** 
 520              		.loc 1 2013 16 view .LVU158
 521 00e8 0720     		movs	r0, #7
 522              	.LVL42:
 523              	.L27:
2031:Drivers/MPU6050/inv_mpu.c ****     }
2032:Drivers/MPU6050/inv_mpu.c ****     return result;
2033:Drivers/MPU6050/inv_mpu.c **** }
 524              		.loc 1 2033 1 view .LVU159
 525 00ea 03B0     		add	sp, sp, #12
 526              	.LCFI9:
 527              		.cfi_def_cfa_offset 12
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 47


 528              		@ sp needed
 529 00ec 30BD     		pop	{r4, r5, pc}
 530              	.LVL43:
 531              	.L45:
 532              		.loc 1 2033 1 view .LVU160
 533 00ee 00BF     		.align	2
 534              	.L44:
 535 00f0 00000000 		.word	.LANCHOR0
 536 00f4 54E3853F 		.word	1065739092
 537 00f8 295C0F3E 		.word	1041194025
 538 00fc 00008037 		.word	931135488
 539 0100 0000D242 		.word	1121058816
 540              		.cfi_endproc
 541              	.LFE596:
 543              		.section	.text.set_int_enable,"ax",%progbits
 544              		.align	1
 545              		.syntax unified
 546              		.thumb
 547              		.thumb_func
 549              	set_int_enable:
 550              	.LVL44:
 551              	.LFB561:
 697:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp;
 552              		.loc 1 697 1 is_stmt 1 view -0
 553              		.cfi_startproc
 554              		@ args = 0, pretend = 0, frame = 8
 555              		@ frame_needed = 0, uses_anonymous_args = 0
 697:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp;
 556              		.loc 1 697 1 is_stmt 0 view .LVU162
 557 0000 00B5     		push	{lr}
 558              	.LCFI10:
 559              		.cfi_def_cfa_offset 4
 560              		.cfi_offset 14, -4
 561 0002 83B0     		sub	sp, sp, #12
 562              	.LCFI11:
 563              		.cfi_def_cfa_offset 16
 698:Drivers/MPU6050/inv_mpu.c **** 
 564              		.loc 1 698 5 is_stmt 1 view .LVU163
 700:Drivers/MPU6050/inv_mpu.c ****         if (enable)
 565              		.loc 1 700 5 view .LVU164
 700:Drivers/MPU6050/inv_mpu.c ****         if (enable)
 566              		.loc 1 700 20 is_stmt 0 view .LVU165
 567 0004 234B     		ldr	r3, .L59
 568 0006 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
 700:Drivers/MPU6050/inv_mpu.c ****         if (enable)
 569              		.loc 1 700 8 view .LVU166
 570 000a CBB1     		cbz	r3, .L47
 701:Drivers/MPU6050/inv_mpu.c ****             tmp = BIT_DMP_INT_EN;
 571              		.loc 1 701 9 is_stmt 1 view .LVU167
 701:Drivers/MPU6050/inv_mpu.c ****             tmp = BIT_DMP_INT_EN;
 572              		.loc 1 701 12 is_stmt 0 view .LVU168
 573 000c A0B1     		cbz	r0, .L48
 702:Drivers/MPU6050/inv_mpu.c ****         else
 574              		.loc 1 702 13 is_stmt 1 view .LVU169
 702:Drivers/MPU6050/inv_mpu.c ****         else
 575              		.loc 1 702 17 is_stmt 0 view .LVU170
 576 000e 0223     		movs	r3, #2
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 48


 577 0010 8DF80730 		strb	r3, [sp, #7]
 578              	.L49:
 705:Drivers/MPU6050/inv_mpu.c ****             return -1;
 579              		.loc 1 705 9 is_stmt 1 view .LVU171
 705:Drivers/MPU6050/inv_mpu.c ****             return -1;
 580              		.loc 1 705 25 is_stmt 0 view .LVU172
 581 0014 1F4B     		ldr	r3, .L59
 582 0016 5868     		ldr	r0, [r3, #4]
 583              	.LVL45:
 705:Drivers/MPU6050/inv_mpu.c ****             return -1;
 584              		.loc 1 705 38 view .LVU173
 585 0018 1968     		ldr	r1, [r3]
 705:Drivers/MPU6050/inv_mpu.c ****             return -1;
 586              		.loc 1 705 13 view .LVU174
 587 001a 0DF10703 		add	r3, sp, #7
 588 001e 0122     		movs	r2, #1
 589 0020 C97B     		ldrb	r1, [r1, #15]	@ zero_extendqisi2
 590 0022 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 591 0024 FFF7FEFF 		bl	i2cwrite
 592              	.LVL46:
 705:Drivers/MPU6050/inv_mpu.c ****             return -1;
 593              		.loc 1 705 12 view .LVU175
 594 0028 48BB     		cbnz	r0, .L54
 707:Drivers/MPU6050/inv_mpu.c ****     } else {
 595              		.loc 1 707 9 is_stmt 1 view .LVU176
 707:Drivers/MPU6050/inv_mpu.c ****     } else {
 596              		.loc 1 707 32 is_stmt 0 view .LVU177
 597 002a 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 598 002e 194B     		ldr	r3, .L59
 599 0030 5A74     		strb	r2, [r3, #17]
 600              	.L46:
 722:Drivers/MPU6050/inv_mpu.c **** 
 601              		.loc 1 722 1 view .LVU178
 602 0032 03B0     		add	sp, sp, #12
 603              	.LCFI12:
 604              		.cfi_remember_state
 605              		.cfi_def_cfa_offset 4
 606              		@ sp needed
 607 0034 5DF804FB 		ldr	pc, [sp], #4
 608              	.LVL47:
 609              	.L48:
 610              	.LCFI13:
 611              		.cfi_restore_state
 704:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
 612              		.loc 1 704 13 is_stmt 1 view .LVU179
 704:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
 613              		.loc 1 704 17 is_stmt 0 view .LVU180
 614 0038 0023     		movs	r3, #0
 615 003a 8DF80730 		strb	r3, [sp, #7]
 616 003e E9E7     		b	.L49
 617              	.L47:
 709:Drivers/MPU6050/inv_mpu.c ****             return -1;
 618              		.loc 1 709 9 is_stmt 1 view .LVU181
 709:Drivers/MPU6050/inv_mpu.c ****             return -1;
 619              		.loc 1 709 25 is_stmt 0 view .LVU182
 620 0040 144B     		ldr	r3, .L59
 621 0042 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 49


 709:Drivers/MPU6050/inv_mpu.c ****             return -1;
 622              		.loc 1 709 12 view .LVU183
 623 0044 F3B1     		cbz	r3, .L55
 711:Drivers/MPU6050/inv_mpu.c ****             return 0;
 624              		.loc 1 711 9 is_stmt 1 view .LVU184
 711:Drivers/MPU6050/inv_mpu.c ****             return 0;
 625              		.loc 1 711 12 is_stmt 0 view .LVU185
 626 0046 10B1     		cbz	r0, .L51
 711:Drivers/MPU6050/inv_mpu.c ****             return 0;
 627              		.loc 1 711 34 discriminator 1 view .LVU186
 628 0048 124B     		ldr	r3, .L59
 629 004a 5B7C     		ldrb	r3, [r3, #17]	@ zero_extendqisi2
 711:Drivers/MPU6050/inv_mpu.c ****             return 0;
 630              		.loc 1 711 20 discriminator 1 view .LVU187
 631 004c EBB9     		cbnz	r3, .L56
 632              	.L51:
 713:Drivers/MPU6050/inv_mpu.c ****             tmp = BIT_DATA_RDY_EN;
 633              		.loc 1 713 9 is_stmt 1 view .LVU188
 713:Drivers/MPU6050/inv_mpu.c ****             tmp = BIT_DATA_RDY_EN;
 634              		.loc 1 713 12 is_stmt 0 view .LVU189
 635 004e 90B1     		cbz	r0, .L52
 714:Drivers/MPU6050/inv_mpu.c ****         else
 636              		.loc 1 714 13 is_stmt 1 view .LVU190
 714:Drivers/MPU6050/inv_mpu.c ****         else
 637              		.loc 1 714 17 is_stmt 0 view .LVU191
 638 0050 0123     		movs	r3, #1
 639 0052 8DF80730 		strb	r3, [sp, #7]
 640              	.L53:
 717:Drivers/MPU6050/inv_mpu.c ****             return -1;
 641              		.loc 1 717 9 is_stmt 1 view .LVU192
 717:Drivers/MPU6050/inv_mpu.c ****             return -1;
 642              		.loc 1 717 25 is_stmt 0 view .LVU193
 643 0056 0F4B     		ldr	r3, .L59
 644 0058 5868     		ldr	r0, [r3, #4]
 645              	.LVL48:
 717:Drivers/MPU6050/inv_mpu.c ****             return -1;
 646              		.loc 1 717 38 view .LVU194
 647 005a 1968     		ldr	r1, [r3]
 717:Drivers/MPU6050/inv_mpu.c ****             return -1;
 648              		.loc 1 717 13 view .LVU195
 649 005c 0DF10703 		add	r3, sp, #7
 650 0060 0122     		movs	r2, #1
 651 0062 C97B     		ldrb	r1, [r1, #15]	@ zero_extendqisi2
 652 0064 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 653 0066 FFF7FEFF 		bl	i2cwrite
 654              	.LVL49:
 717:Drivers/MPU6050/inv_mpu.c ****             return -1;
 655              		.loc 1 717 12 view .LVU196
 656 006a 80B9     		cbnz	r0, .L57
 719:Drivers/MPU6050/inv_mpu.c ****     }
 657              		.loc 1 719 9 is_stmt 1 view .LVU197
 719:Drivers/MPU6050/inv_mpu.c ****     }
 658              		.loc 1 719 32 is_stmt 0 view .LVU198
 659 006c 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 660 0070 084B     		ldr	r3, .L59
 661 0072 5A74     		strb	r2, [r3, #17]
 662 0074 DDE7     		b	.L46
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 50


 663              	.LVL50:
 664              	.L52:
 716:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
 665              		.loc 1 716 13 is_stmt 1 view .LVU199
 716:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
 666              		.loc 1 716 17 is_stmt 0 view .LVU200
 667 0076 0023     		movs	r3, #0
 668 0078 8DF80730 		strb	r3, [sp, #7]
 669 007c EBE7     		b	.L53
 670              	.LVL51:
 671              	.L54:
 706:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.int_enable = tmp;
 672              		.loc 1 706 20 view .LVU201
 673 007e 4FF0FF30 		mov	r0, #-1
 674 0082 D6E7     		b	.L46
 675              	.LVL52:
 676              	.L55:
 710:Drivers/MPU6050/inv_mpu.c ****         if (enable && st.chip_cfg.int_enable)
 677              		.loc 1 710 20 view .LVU202
 678 0084 4FF0FF30 		mov	r0, #-1
 679              	.LVL53:
 710:Drivers/MPU6050/inv_mpu.c ****         if (enable && st.chip_cfg.int_enable)
 680              		.loc 1 710 20 view .LVU203
 681 0088 D3E7     		b	.L46
 682              	.LVL54:
 683              	.L56:
 712:Drivers/MPU6050/inv_mpu.c ****         if (enable)
 684              		.loc 1 712 20 view .LVU204
 685 008a 0020     		movs	r0, #0
 686              	.LVL55:
 712:Drivers/MPU6050/inv_mpu.c ****         if (enable)
 687              		.loc 1 712 20 view .LVU205
 688 008c D1E7     		b	.L46
 689              	.L57:
 718:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.int_enable = tmp;
 690              		.loc 1 718 20 view .LVU206
 691 008e 4FF0FF30 		mov	r0, #-1
 692 0092 CEE7     		b	.L46
 693              	.L60:
 694              		.align	2
 695              	.L59:
 696 0094 00000000 		.word	.LANCHOR0
 697              		.cfi_endproc
 698              	.LFE561:
 700              		.section	.text.get_ms,"ax",%progbits
 701              		.align	1
 702              		.global	get_ms
 703              		.syntax unified
 704              		.thumb
 705              		.thumb_func
 707              	get_ms:
 708              	.LVL56:
 709              	.LFB558:
  46:Drivers/MPU6050/inv_mpu.c ****   time[0] = HAL_GetTick();
 710              		.loc 1 46 1 is_stmt 1 view -0
 711              		.cfi_startproc
 712              		@ args = 0, pretend = 0, frame = 0
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 51


 713              		@ frame_needed = 0, uses_anonymous_args = 0
  46:Drivers/MPU6050/inv_mpu.c ****   time[0] = HAL_GetTick();
 714              		.loc 1 46 1 is_stmt 0 view .LVU208
 715 0000 10B5     		push	{r4, lr}
 716              	.LCFI14:
 717              		.cfi_def_cfa_offset 8
 718              		.cfi_offset 4, -8
 719              		.cfi_offset 14, -4
 720 0002 0446     		mov	r4, r0
  47:Drivers/MPU6050/inv_mpu.c **** }
 721              		.loc 1 47 3 is_stmt 1 view .LVU209
  47:Drivers/MPU6050/inv_mpu.c **** }
 722              		.loc 1 47 13 is_stmt 0 view .LVU210
 723 0004 FFF7FEFF 		bl	HAL_GetTick
 724              	.LVL57:
  47:Drivers/MPU6050/inv_mpu.c **** }
 725              		.loc 1 47 11 view .LVU211
 726 0008 2060     		str	r0, [r4]
  48:Drivers/MPU6050/inv_mpu.c **** void delay_us(uint32_t n)
 727              		.loc 1 48 1 view .LVU212
 728 000a 10BD     		pop	{r4, pc}
  48:Drivers/MPU6050/inv_mpu.c **** void delay_us(uint32_t n)
 729              		.loc 1 48 1 view .LVU213
 730              		.cfi_endproc
 731              	.LFE558:
 733              		.section	.text.delay_us,"ax",%progbits
 734              		.align	1
 735              		.global	delay_us
 736              		.syntax unified
 737              		.thumb
 738              		.thumb_func
 740              	delay_us:
 741              	.LVL58:
 742              	.LFB559:
  50:Drivers/MPU6050/inv_mpu.c **** 	uint8_t j;
 743              		.loc 1 50 1 is_stmt 1 view -0
 744              		.cfi_startproc
 745              		@ args = 0, pretend = 0, frame = 0
 746              		@ frame_needed = 0, uses_anonymous_args = 0
 747              		@ link register save eliminated.
  51:Drivers/MPU6050/inv_mpu.c **** 	while(n--)
 748              		.loc 1 51 2 view .LVU215
  52:Drivers/MPU6050/inv_mpu.c **** 	for(j=0;j<10;j++);
 749              		.loc 1 52 2 view .LVU216
  52:Drivers/MPU6050/inv_mpu.c **** 	for(j=0;j<10;j++);
 750              		.loc 1 52 7 is_stmt 0 view .LVU217
 751 0000 03E0     		b	.L64
 752              	.LVL59:
 753              	.L65:
  53:Drivers/MPU6050/inv_mpu.c **** }
 754              		.loc 1 53 19 is_stmt 1 discriminator 3 view .LVU218
  53:Drivers/MPU6050/inv_mpu.c **** }
 755              		.loc 1 53 15 discriminator 3 view .LVU219
  53:Drivers/MPU6050/inv_mpu.c **** }
 756              		.loc 1 53 16 is_stmt 0 discriminator 3 view .LVU220
 757 0002 0133     		adds	r3, r3, #1
 758              	.LVL60:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 52


  53:Drivers/MPU6050/inv_mpu.c **** }
 759              		.loc 1 53 16 discriminator 3 view .LVU221
 760 0004 DBB2     		uxtb	r3, r3
 761              	.LVL61:
 762              	.L66:
  53:Drivers/MPU6050/inv_mpu.c **** }
 763              		.loc 1 53 10 is_stmt 1 discriminator 1 view .LVU222
  53:Drivers/MPU6050/inv_mpu.c **** }
 764              		.loc 1 53 2 is_stmt 0 discriminator 1 view .LVU223
 765 0006 092B     		cmp	r3, #9
 766 0008 FBD9     		bls	.L65
 767              	.LVL62:
 768              	.L64:
  52:Drivers/MPU6050/inv_mpu.c **** 	for(j=0;j<10;j++);
 769              		.loc 1 52 7 is_stmt 1 view .LVU224
 770 000a 0346     		mov	r3, r0
  52:Drivers/MPU6050/inv_mpu.c **** 	for(j=0;j<10;j++);
 771              		.loc 1 52 9 is_stmt 0 view .LVU225
 772 000c 0138     		subs	r0, r0, #1
 773              	.LVL63:
  52:Drivers/MPU6050/inv_mpu.c **** 	for(j=0;j<10;j++);
 774              		.loc 1 52 7 view .LVU226
 775 000e 0BB1     		cbz	r3, .L68
  53:Drivers/MPU6050/inv_mpu.c **** }
 776              		.loc 1 53 7 view .LVU227
 777 0010 0023     		movs	r3, #0
 778 0012 F8E7     		b	.L66
 779              	.L68:
  54:Drivers/MPU6050/inv_mpu.c **** void delay_ms(uint32_t n)
 780              		.loc 1 54 1 view .LVU228
 781 0014 7047     		bx	lr
 782              		.cfi_endproc
 783              	.LFE559:
 785              		.section	.text.delay_ms,"ax",%progbits
 786              		.align	1
 787              		.global	delay_ms
 788              		.syntax unified
 789              		.thumb
 790              		.thumb_func
 792              	delay_ms:
 793              	.LVL64:
 794              	.LFB560:
  56:Drivers/MPU6050/inv_mpu.c ****   HAL_Delay(n);
 795              		.loc 1 56 1 is_stmt 1 view -0
 796              		.cfi_startproc
 797              		@ args = 0, pretend = 0, frame = 0
 798              		@ frame_needed = 0, uses_anonymous_args = 0
  56:Drivers/MPU6050/inv_mpu.c ****   HAL_Delay(n);
 799              		.loc 1 56 1 is_stmt 0 view .LVU230
 800 0000 08B5     		push	{r3, lr}
 801              	.LCFI15:
 802              		.cfi_def_cfa_offset 8
 803              		.cfi_offset 3, -8
 804              		.cfi_offset 14, -4
  57:Drivers/MPU6050/inv_mpu.c **** }
 805              		.loc 1 57 3 is_stmt 1 view .LVU231
 806 0002 FFF7FEFF 		bl	HAL_Delay
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 53


 807              	.LVL65:
  58:Drivers/MPU6050/inv_mpu.c **** 
 808              		.loc 1 58 1 is_stmt 0 view .LVU232
 809 0006 08BD     		pop	{r3, pc}
 810              		.cfi_endproc
 811              	.LFE560:
 813              		.global	__aeabi_ldivmod
 814              		.section	.text.get_st_biases,"ax",%progbits
 815              		.align	1
 816              		.syntax unified
 817              		.thumb
 818              		.thumb_func
 820              	get_st_biases:
 821              	.LVL66:
 822              	.LFB597:
2034:Drivers/MPU6050/inv_mpu.c **** 
2035:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
2036:Drivers/MPU6050/inv_mpu.c **** static int compass_self_test(void)
2037:Drivers/MPU6050/inv_mpu.c **** {
2038:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[6];
2039:Drivers/MPU6050/inv_mpu.c ****     unsigned char tries = 10;
2040:Drivers/MPU6050/inv_mpu.c ****     int result = 0x07;
2041:Drivers/MPU6050/inv_mpu.c ****     short data;
2042:Drivers/MPU6050/inv_mpu.c **** 
2043:Drivers/MPU6050/inv_mpu.c ****     mpu_set_bypass(1);
2044:Drivers/MPU6050/inv_mpu.c **** 
2045:Drivers/MPU6050/inv_mpu.c ****     tmp[0] = AKM_POWER_DOWN;
2046:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp))
2047:Drivers/MPU6050/inv_mpu.c ****         return 0x07;
2048:Drivers/MPU6050/inv_mpu.c ****     tmp[0] = AKM_BIT_SELF_TEST;
2049:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_ASTC, 1, tmp))
2050:Drivers/MPU6050/inv_mpu.c ****         goto AKM_restore;
2051:Drivers/MPU6050/inv_mpu.c ****     tmp[0] = AKM_MODE_SELF_TEST;
2052:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp))
2053:Drivers/MPU6050/inv_mpu.c ****         goto AKM_restore;
2054:Drivers/MPU6050/inv_mpu.c **** 
2055:Drivers/MPU6050/inv_mpu.c ****     do {
2056:Drivers/MPU6050/inv_mpu.c ****         delay_ms(10);
2057:Drivers/MPU6050/inv_mpu.c ****         if (i2c_read(st.chip_cfg.compass_addr, AKM_REG_ST1, 1, tmp))
2058:Drivers/MPU6050/inv_mpu.c ****             goto AKM_restore;
2059:Drivers/MPU6050/inv_mpu.c ****         if (tmp[0] & AKM_DATA_READY)
2060:Drivers/MPU6050/inv_mpu.c ****             break;
2061:Drivers/MPU6050/inv_mpu.c ****     } while (tries--);
2062:Drivers/MPU6050/inv_mpu.c ****     if (!(tmp[0] & AKM_DATA_READY))
2063:Drivers/MPU6050/inv_mpu.c ****         goto AKM_restore;
2064:Drivers/MPU6050/inv_mpu.c **** 
2065:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.chip_cfg.compass_addr, AKM_REG_HXL, 6, tmp))
2066:Drivers/MPU6050/inv_mpu.c ****         goto AKM_restore;
2067:Drivers/MPU6050/inv_mpu.c **** 
2068:Drivers/MPU6050/inv_mpu.c ****     result = 0;
2069:Drivers/MPU6050/inv_mpu.c ****     data = (short)(tmp[1] << 8) | tmp[0];
2070:Drivers/MPU6050/inv_mpu.c ****     if ((data > 100) || (data < -100))
2071:Drivers/MPU6050/inv_mpu.c ****         result |= 0x01;
2072:Drivers/MPU6050/inv_mpu.c ****     data = (short)(tmp[3] << 8) | tmp[2];
2073:Drivers/MPU6050/inv_mpu.c ****     if ((data > 100) || (data < -100))
2074:Drivers/MPU6050/inv_mpu.c ****         result |= 0x02;
2075:Drivers/MPU6050/inv_mpu.c ****     data = (short)(tmp[5] << 8) | tmp[4];
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 54


2076:Drivers/MPU6050/inv_mpu.c ****     if ((data > -300) || (data < -1000))
2077:Drivers/MPU6050/inv_mpu.c ****         result |= 0x04;
2078:Drivers/MPU6050/inv_mpu.c **** 
2079:Drivers/MPU6050/inv_mpu.c **** AKM_restore:
2080:Drivers/MPU6050/inv_mpu.c ****     tmp[0] = 0 | SUPPORTS_AK89xx_HIGH_SENS;
2081:Drivers/MPU6050/inv_mpu.c ****     i2c_write(st.chip_cfg.compass_addr, AKM_REG_ASTC, 1, tmp);
2082:Drivers/MPU6050/inv_mpu.c ****     tmp[0] = SUPPORTS_AK89xx_HIGH_SENS;
2083:Drivers/MPU6050/inv_mpu.c ****     i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp);
2084:Drivers/MPU6050/inv_mpu.c ****     mpu_set_bypass(0);
2085:Drivers/MPU6050/inv_mpu.c ****     return result;
2086:Drivers/MPU6050/inv_mpu.c **** }
2087:Drivers/MPU6050/inv_mpu.c **** #endif
2088:Drivers/MPU6050/inv_mpu.c **** #endif
2089:Drivers/MPU6050/inv_mpu.c **** 
2090:Drivers/MPU6050/inv_mpu.c **** static int get_st_biases(long *gyro, long *accel, unsigned char hw_test)
2091:Drivers/MPU6050/inv_mpu.c **** {
 823              		.loc 1 2091 1 is_stmt 1 view -0
 824              		.cfi_startproc
 825              		@ args = 0, pretend = 0, frame = 32
 826              		@ frame_needed = 0, uses_anonymous_args = 0
 827              		.loc 1 2091 1 is_stmt 0 view .LVU234
 828 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 829              	.LCFI16:
 830              		.cfi_def_cfa_offset 20
 831              		.cfi_offset 4, -20
 832              		.cfi_offset 5, -16
 833              		.cfi_offset 6, -12
 834              		.cfi_offset 7, -8
 835              		.cfi_offset 14, -4
 836 0002 89B0     		sub	sp, sp, #36
 837              	.LCFI17:
 838              		.cfi_def_cfa_offset 56
 839 0004 0546     		mov	r5, r0
 840 0006 0C46     		mov	r4, r1
 841 0008 1646     		mov	r6, r2
2092:Drivers/MPU6050/inv_mpu.c ****     unsigned char data[MAX_PACKET_LENGTH];
 842              		.loc 1 2092 5 is_stmt 1 view .LVU235
2093:Drivers/MPU6050/inv_mpu.c ****     unsigned char packet_count, ii;
 843              		.loc 1 2093 5 view .LVU236
2094:Drivers/MPU6050/inv_mpu.c ****     unsigned short fifo_count;
 844              		.loc 1 2094 5 view .LVU237
2095:Drivers/MPU6050/inv_mpu.c **** 
2096:Drivers/MPU6050/inv_mpu.c ****     data[0] = 0x01;
 845              		.loc 1 2096 5 view .LVU238
 846              		.loc 1 2096 13 is_stmt 0 view .LVU239
 847 000a 0123     		movs	r3, #1
 848 000c 8DF81430 		strb	r3, [sp, #20]
2097:Drivers/MPU6050/inv_mpu.c ****     data[1] = 0;
 849              		.loc 1 2097 5 is_stmt 1 view .LVU240
 850              		.loc 1 2097 13 is_stmt 0 view .LVU241
 851 0010 0023     		movs	r3, #0
 852 0012 8DF81530 		strb	r3, [sp, #21]
2098:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, data))
 853              		.loc 1 2098 5 is_stmt 1 view .LVU242
 854              		.loc 1 2098 21 is_stmt 0 view .LVU243
 855 0016 844B     		ldr	r3, .L106
 856 0018 5868     		ldr	r0, [r3, #4]
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 55


 857              	.LVL67:
 858              		.loc 1 2098 34 view .LVU244
 859 001a 1968     		ldr	r1, [r3]
 860              	.LVL68:
 861              		.loc 1 2098 9 view .LVU245
 862 001c 05AB     		add	r3, sp, #20
 863 001e 0222     		movs	r2, #2
 864              	.LVL69:
 865              		.loc 1 2098 9 view .LVU246
 866 0020 897C     		ldrb	r1, [r1, #18]	@ zero_extendqisi2
 867 0022 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 868 0024 FFF7FEFF 		bl	i2cwrite
 869              	.LVL70:
 870              		.loc 1 2098 8 view .LVU247
 871 0028 0028     		cmp	r0, #0
 872 002a 40F0CC81 		bne	.L85
2099:Drivers/MPU6050/inv_mpu.c ****         return -1;
2100:Drivers/MPU6050/inv_mpu.c ****     delay_ms(200);
 873              		.loc 1 2100 5 is_stmt 1 view .LVU248
 874 002e C820     		movs	r0, #200
 875 0030 FFF7FEFF 		bl	delay_ms
 876              	.LVL71:
2101:Drivers/MPU6050/inv_mpu.c ****     data[0] = 0;
 877              		.loc 1 2101 5 view .LVU249
 878              		.loc 1 2101 13 is_stmt 0 view .LVU250
 879 0034 0023     		movs	r3, #0
 880 0036 8DF81430 		strb	r3, [sp, #20]
2102:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, data))
 881              		.loc 1 2102 5 is_stmt 1 view .LVU251
 882              		.loc 1 2102 21 is_stmt 0 view .LVU252
 883 003a 7B4B     		ldr	r3, .L106
 884 003c 5868     		ldr	r0, [r3, #4]
 885              		.loc 1 2102 34 view .LVU253
 886 003e 1968     		ldr	r1, [r3]
 887              		.loc 1 2102 9 view .LVU254
 888 0040 05AB     		add	r3, sp, #20
 889 0042 0122     		movs	r2, #1
 890 0044 C97B     		ldrb	r1, [r1, #15]	@ zero_extendqisi2
 891 0046 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 892 0048 FFF7FEFF 		bl	i2cwrite
 893              	.LVL72:
 894              		.loc 1 2102 8 view .LVU255
 895 004c 0028     		cmp	r0, #0
 896 004e 40F0BD81 		bne	.L86
2103:Drivers/MPU6050/inv_mpu.c ****         return -1;
2104:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 897              		.loc 1 2104 5 is_stmt 1 view .LVU256
 898              		.loc 1 2104 21 is_stmt 0 view .LVU257
 899 0052 754B     		ldr	r3, .L106
 900 0054 5868     		ldr	r0, [r3, #4]
 901              		.loc 1 2104 34 view .LVU258
 902 0056 1968     		ldr	r1, [r3]
 903              		.loc 1 2104 9 view .LVU259
 904 0058 05AB     		add	r3, sp, #20
 905 005a 0122     		movs	r2, #1
 906 005c 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 907 005e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 56


 908 0060 FFF7FEFF 		bl	i2cwrite
 909              	.LVL73:
 910              		.loc 1 2104 8 view .LVU260
 911 0064 0028     		cmp	r0, #0
 912 0066 40F0B481 		bne	.L87
2105:Drivers/MPU6050/inv_mpu.c ****         return -1;
2106:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 913              		.loc 1 2106 5 is_stmt 1 view .LVU261
 914              		.loc 1 2106 21 is_stmt 0 view .LVU262
 915 006a 6F4B     		ldr	r3, .L106
 916 006c 5868     		ldr	r0, [r3, #4]
 917              		.loc 1 2106 34 view .LVU263
 918 006e 1968     		ldr	r1, [r3]
 919              		.loc 1 2106 9 view .LVU264
 920 0070 05AB     		add	r3, sp, #20
 921 0072 0122     		movs	r2, #1
 922 0074 897C     		ldrb	r1, [r1, #18]	@ zero_extendqisi2
 923 0076 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 924 0078 FFF7FEFF 		bl	i2cwrite
 925              	.LVL74:
 926              		.loc 1 2106 8 view .LVU265
 927 007c 0028     		cmp	r0, #0
 928 007e 40F0AB81 		bne	.L88
2107:Drivers/MPU6050/inv_mpu.c ****         return -1;
2108:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->i2c_mst, 1, data))
 929              		.loc 1 2108 5 is_stmt 1 view .LVU266
 930              		.loc 1 2108 21 is_stmt 0 view .LVU267
 931 0082 694B     		ldr	r3, .L106
 932 0084 5868     		ldr	r0, [r3, #4]
 933              		.loc 1 2108 34 view .LVU268
 934 0086 1968     		ldr	r1, [r3]
 935              		.loc 1 2108 9 view .LVU269
 936 0088 05AB     		add	r3, sp, #20
 937 008a 0122     		movs	r2, #1
 938 008c C97D     		ldrb	r1, [r1, #23]	@ zero_extendqisi2
 939 008e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 940 0090 FFF7FEFF 		bl	i2cwrite
 941              	.LVL75:
 942              		.loc 1 2108 8 view .LVU270
 943 0094 0028     		cmp	r0, #0
 944 0096 40F0A281 		bne	.L89
2109:Drivers/MPU6050/inv_mpu.c ****         return -1;
2110:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 945              		.loc 1 2110 5 is_stmt 1 view .LVU271
 946              		.loc 1 2110 21 is_stmt 0 view .LVU272
 947 009a 634B     		ldr	r3, .L106
 948 009c 5868     		ldr	r0, [r3, #4]
 949              		.loc 1 2110 34 view .LVU273
 950 009e 1968     		ldr	r1, [r3]
 951              		.loc 1 2110 9 view .LVU274
 952 00a0 05AB     		add	r3, sp, #20
 953 00a2 0122     		movs	r2, #1
 954 00a4 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 955 00a6 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 956 00a8 FFF7FEFF 		bl	i2cwrite
 957              	.LVL76:
 958              		.loc 1 2110 8 view .LVU275
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 57


 959 00ac 0028     		cmp	r0, #0
 960 00ae 40F09981 		bne	.L90
2111:Drivers/MPU6050/inv_mpu.c ****         return -1;
2112:Drivers/MPU6050/inv_mpu.c ****     data[0] = BIT_FIFO_RST | BIT_DMP_RST;
 961              		.loc 1 2112 5 is_stmt 1 view .LVU276
 962              		.loc 1 2112 13 is_stmt 0 view .LVU277
 963 00b2 0C23     		movs	r3, #12
 964 00b4 8DF81430 		strb	r3, [sp, #20]
2113:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 965              		.loc 1 2113 5 is_stmt 1 view .LVU278
 966              		.loc 1 2113 21 is_stmt 0 view .LVU279
 967 00b8 5B4B     		ldr	r3, .L106
 968 00ba 5868     		ldr	r0, [r3, #4]
 969              		.loc 1 2113 34 view .LVU280
 970 00bc 1968     		ldr	r1, [r3]
 971              		.loc 1 2113 9 view .LVU281
 972 00be 05AB     		add	r3, sp, #20
 973 00c0 0122     		movs	r2, #1
 974 00c2 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 975 00c4 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 976 00c6 FFF7FEFF 		bl	i2cwrite
 977              	.LVL77:
 978              		.loc 1 2113 8 view .LVU282
 979 00ca 0028     		cmp	r0, #0
 980 00cc 40F08D81 		bne	.L91
2114:Drivers/MPU6050/inv_mpu.c ****         return -1;
2115:Drivers/MPU6050/inv_mpu.c ****     delay_ms(15);
 981              		.loc 1 2115 5 is_stmt 1 view .LVU283
 982 00d0 0F20     		movs	r0, #15
 983 00d2 FFF7FEFF 		bl	delay_ms
 984              	.LVL78:
2116:Drivers/MPU6050/inv_mpu.c ****     data[0] = st.test->reg_lpf;
 985              		.loc 1 2116 5 view .LVU284
 986              		.loc 1 2116 17 is_stmt 0 view .LVU285
 987 00d6 544B     		ldr	r3, .L106
 988 00d8 9A6A     		ldr	r2, [r3, #40]
 989              		.loc 1 2116 22 view .LVU286
 990 00da 527A     		ldrb	r2, [r2, #9]	@ zero_extendqisi2
 991              		.loc 1 2116 13 view .LVU287
 992 00dc 8DF81420 		strb	r2, [sp, #20]
2117:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->lpf, 1, data))
 993              		.loc 1 2117 5 is_stmt 1 view .LVU288
 994              		.loc 1 2117 21 is_stmt 0 view .LVU289
 995 00e0 5868     		ldr	r0, [r3, #4]
 996              		.loc 1 2117 34 view .LVU290
 997 00e2 1968     		ldr	r1, [r3]
 998              		.loc 1 2117 9 view .LVU291
 999 00e4 05AB     		add	r3, sp, #20
 1000 00e6 0122     		movs	r2, #1
 1001 00e8 8978     		ldrb	r1, [r1, #2]	@ zero_extendqisi2
 1002 00ea 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1003 00ec FFF7FEFF 		bl	i2cwrite
 1004              	.LVL79:
 1005              		.loc 1 2117 8 view .LVU292
 1006 00f0 0028     		cmp	r0, #0
 1007 00f2 40F07D81 		bne	.L92
2118:Drivers/MPU6050/inv_mpu.c ****         return -1;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 58


2119:Drivers/MPU6050/inv_mpu.c ****     data[0] = st.test->reg_rate_div;
 1008              		.loc 1 2119 5 is_stmt 1 view .LVU293
 1009              		.loc 1 2119 17 is_stmt 0 view .LVU294
 1010 00f6 4C4B     		ldr	r3, .L106
 1011 00f8 9A6A     		ldr	r2, [r3, #40]
 1012              		.loc 1 2119 22 view .LVU295
 1013 00fa 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 1014              		.loc 1 2119 13 view .LVU296
 1015 00fc 8DF81420 		strb	r2, [sp, #20]
2120:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->rate_div, 1, data))
 1016              		.loc 1 2120 5 is_stmt 1 view .LVU297
 1017              		.loc 1 2120 21 is_stmt 0 view .LVU298
 1018 0100 5868     		ldr	r0, [r3, #4]
 1019              		.loc 1 2120 34 view .LVU299
 1020 0102 1968     		ldr	r1, [r3]
 1021              		.loc 1 2120 9 view .LVU300
 1022 0104 05AB     		add	r3, sp, #20
 1023 0106 0122     		movs	r2, #1
 1024 0108 4978     		ldrb	r1, [r1, #1]	@ zero_extendqisi2
 1025 010a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1026 010c FFF7FEFF 		bl	i2cwrite
 1027              	.LVL80:
 1028              		.loc 1 2120 8 view .LVU301
 1029 0110 0028     		cmp	r0, #0
 1030 0112 40F07081 		bne	.L93
2121:Drivers/MPU6050/inv_mpu.c ****         return -1;
2122:Drivers/MPU6050/inv_mpu.c ****     if (hw_test)
 1031              		.loc 1 2122 5 is_stmt 1 view .LVU302
 1032              		.loc 1 2122 8 is_stmt 0 view .LVU303
 1033 0116 002E     		cmp	r6, #0
 1034 0118 78D0     		beq	.L73
2123:Drivers/MPU6050/inv_mpu.c ****         data[0] = st.test->reg_gyro_fsr | 0xE0;
 1035              		.loc 1 2123 9 is_stmt 1 view .LVU304
 1036              		.loc 1 2123 21 is_stmt 0 view .LVU305
 1037 011a 434B     		ldr	r3, .L106
 1038 011c 9B6A     		ldr	r3, [r3, #40]
 1039              		.loc 1 2123 26 view .LVU306
 1040 011e 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 1041              		.loc 1 2123 17 view .LVU307
 1042 0120 63F01F03 		orn	r3, r3, #31
 1043 0124 8DF81430 		strb	r3, [sp, #20]
 1044              	.L74:
2124:Drivers/MPU6050/inv_mpu.c ****     else
2125:Drivers/MPU6050/inv_mpu.c ****         data[0] = st.test->reg_gyro_fsr;
2126:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 1045              		.loc 1 2126 5 is_stmt 1 view .LVU308
 1046              		.loc 1 2126 21 is_stmt 0 view .LVU309
 1047 0128 3F4B     		ldr	r3, .L106
 1048 012a 5868     		ldr	r0, [r3, #4]
 1049              		.loc 1 2126 34 view .LVU310
 1050 012c 1968     		ldr	r1, [r3]
 1051              		.loc 1 2126 9 view .LVU311
 1052 012e 05AB     		add	r3, sp, #20
 1053 0130 0122     		movs	r2, #1
 1054 0132 8979     		ldrb	r1, [r1, #6]	@ zero_extendqisi2
 1055 0134 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1056 0136 FFF7FEFF 		bl	i2cwrite
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 59


 1057              	.LVL81:
 1058              		.loc 1 2126 8 view .LVU312
 1059 013a 0028     		cmp	r0, #0
 1060 013c 40F05E81 		bne	.L94
2127:Drivers/MPU6050/inv_mpu.c ****         return -1;
2128:Drivers/MPU6050/inv_mpu.c **** 
2129:Drivers/MPU6050/inv_mpu.c ****     if (hw_test)
 1061              		.loc 1 2129 5 is_stmt 1 view .LVU313
 1062              		.loc 1 2129 8 is_stmt 0 view .LVU314
 1063 0140 002E     		cmp	r6, #0
 1064 0142 69D0     		beq	.L75
2130:Drivers/MPU6050/inv_mpu.c ****         data[0] = st.test->reg_accel_fsr | 0xE0;
 1065              		.loc 1 2130 9 is_stmt 1 view .LVU315
 1066              		.loc 1 2130 21 is_stmt 0 view .LVU316
 1067 0144 384B     		ldr	r3, .L106
 1068 0146 9B6A     		ldr	r3, [r3, #40]
 1069              		.loc 1 2130 26 view .LVU317
 1070 0148 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 1071              		.loc 1 2130 17 view .LVU318
 1072 014a 63F01F03 		orn	r3, r3, #31
 1073 014e 8DF81430 		strb	r3, [sp, #20]
 1074              	.L76:
2131:Drivers/MPU6050/inv_mpu.c ****     else
2132:Drivers/MPU6050/inv_mpu.c ****         data[0] = test.reg_accel_fsr;
2133:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 1075              		.loc 1 2133 5 is_stmt 1 view .LVU319
 1076              		.loc 1 2133 21 is_stmt 0 view .LVU320
 1077 0152 354B     		ldr	r3, .L106
 1078 0154 5868     		ldr	r0, [r3, #4]
 1079              		.loc 1 2133 34 view .LVU321
 1080 0156 1968     		ldr	r1, [r3]
 1081              		.loc 1 2133 9 view .LVU322
 1082 0158 05AB     		add	r3, sp, #20
 1083 015a 0122     		movs	r2, #1
 1084 015c C979     		ldrb	r1, [r1, #7]	@ zero_extendqisi2
 1085 015e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1086 0160 FFF7FEFF 		bl	i2cwrite
 1087              	.LVL82:
 1088              		.loc 1 2133 8 view .LVU323
 1089 0164 0028     		cmp	r0, #0
 1090 0166 40F04C81 		bne	.L95
2134:Drivers/MPU6050/inv_mpu.c ****         return -1;
2135:Drivers/MPU6050/inv_mpu.c ****     if (hw_test)
 1091              		.loc 1 2135 5 is_stmt 1 view .LVU324
 1092              		.loc 1 2135 8 is_stmt 0 view .LVU325
 1093 016a 002E     		cmp	r6, #0
 1094 016c 58D1     		bne	.L101
 1095              	.L77:
2136:Drivers/MPU6050/inv_mpu.c ****         delay_ms(200);
2137:Drivers/MPU6050/inv_mpu.c **** 
2138:Drivers/MPU6050/inv_mpu.c ****     /* Fill FIFO for test.wait_ms milliseconds. */
2139:Drivers/MPU6050/inv_mpu.c ****     data[0] = BIT_FIFO_EN;
 1096              		.loc 1 2139 5 is_stmt 1 view .LVU326
 1097              		.loc 1 2139 13 is_stmt 0 view .LVU327
 1098 016e 4023     		movs	r3, #64
 1099 0170 8DF81430 		strb	r3, [sp, #20]
2140:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 60


 1100              		.loc 1 2140 5 is_stmt 1 view .LVU328
 1101              		.loc 1 2140 21 is_stmt 0 view .LVU329
 1102 0174 2C4B     		ldr	r3, .L106
 1103 0176 5868     		ldr	r0, [r3, #4]
 1104              		.loc 1 2140 34 view .LVU330
 1105 0178 1968     		ldr	r1, [r3]
 1106              		.loc 1 2140 9 view .LVU331
 1107 017a 05AB     		add	r3, sp, #20
 1108 017c 0122     		movs	r2, #1
 1109 017e 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 1110 0180 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1111 0182 FFF7FEFF 		bl	i2cwrite
 1112              	.LVL83:
 1113              		.loc 1 2140 8 view .LVU332
 1114 0186 0028     		cmp	r0, #0
 1115 0188 40F03E81 		bne	.L96
2141:Drivers/MPU6050/inv_mpu.c ****         return -1;
2142:Drivers/MPU6050/inv_mpu.c **** 
2143:Drivers/MPU6050/inv_mpu.c ****     data[0] = INV_XYZ_GYRO | INV_XYZ_ACCEL;
 1116              		.loc 1 2143 5 is_stmt 1 view .LVU333
 1117              		.loc 1 2143 13 is_stmt 0 view .LVU334
 1118 018c 7823     		movs	r3, #120
 1119 018e 8DF81430 		strb	r3, [sp, #20]
2144:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 1120              		.loc 1 2144 5 is_stmt 1 view .LVU335
 1121              		.loc 1 2144 21 is_stmt 0 view .LVU336
 1122 0192 254B     		ldr	r3, .L106
 1123 0194 5868     		ldr	r0, [r3, #4]
 1124              		.loc 1 2144 34 view .LVU337
 1125 0196 1968     		ldr	r1, [r3]
 1126              		.loc 1 2144 9 view .LVU338
 1127 0198 05AB     		add	r3, sp, #20
 1128 019a 0122     		movs	r2, #1
 1129 019c 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 1130 019e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1131 01a0 FFF7FEFF 		bl	i2cwrite
 1132              	.LVL84:
 1133              		.loc 1 2144 8 view .LVU339
 1134 01a4 0028     		cmp	r0, #0
 1135 01a6 40F03281 		bne	.L97
2145:Drivers/MPU6050/inv_mpu.c ****         return -1;
2146:Drivers/MPU6050/inv_mpu.c ****     delay_ms(test.wait_ms);
 1136              		.loc 1 2146 5 is_stmt 1 view .LVU340
 1137 01aa 3220     		movs	r0, #50
 1138 01ac FFF7FEFF 		bl	delay_ms
 1139              	.LVL85:
2147:Drivers/MPU6050/inv_mpu.c ****     data[0] = 0;
 1140              		.loc 1 2147 5 view .LVU341
 1141              		.loc 1 2147 13 is_stmt 0 view .LVU342
 1142 01b0 0023     		movs	r3, #0
 1143 01b2 8DF81430 		strb	r3, [sp, #20]
2148:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 1144              		.loc 1 2148 5 is_stmt 1 view .LVU343
 1145              		.loc 1 2148 21 is_stmt 0 view .LVU344
 1146 01b6 1C4B     		ldr	r3, .L106
 1147 01b8 5868     		ldr	r0, [r3, #4]
 1148              		.loc 1 2148 34 view .LVU345
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 61


 1149 01ba 1968     		ldr	r1, [r3]
 1150              		.loc 1 2148 9 view .LVU346
 1151 01bc 05AB     		add	r3, sp, #20
 1152 01be 0122     		movs	r2, #1
 1153 01c0 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 1154 01c2 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1155 01c4 FFF7FEFF 		bl	i2cwrite
 1156              	.LVL86:
 1157              		.loc 1 2148 8 view .LVU347
 1158 01c8 0028     		cmp	r0, #0
 1159 01ca 40F02381 		bne	.L98
2149:Drivers/MPU6050/inv_mpu.c ****         return -1;
2150:Drivers/MPU6050/inv_mpu.c **** 
2151:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->fifo_count_h, 2, data))
 1160              		.loc 1 2151 5 is_stmt 1 view .LVU348
 1161              		.loc 1 2151 20 is_stmt 0 view .LVU349
 1162 01ce 164B     		ldr	r3, .L106
 1163 01d0 5868     		ldr	r0, [r3, #4]
 1164              		.loc 1 2151 33 view .LVU350
 1165 01d2 1968     		ldr	r1, [r3]
 1166              		.loc 1 2151 9 view .LVU351
 1167 01d4 05AB     		add	r3, sp, #20
 1168 01d6 0222     		movs	r2, #2
 1169 01d8 897A     		ldrb	r1, [r1, #10]	@ zero_extendqisi2
 1170 01da 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1171 01dc FFF7FEFF 		bl	i2cread
 1172              	.LVL87:
 1173              		.loc 1 2151 8 view .LVU352
 1174 01e0 0028     		cmp	r0, #0
 1175 01e2 40F01A81 		bne	.L99
2152:Drivers/MPU6050/inv_mpu.c ****         return -1;
2153:Drivers/MPU6050/inv_mpu.c **** 
2154:Drivers/MPU6050/inv_mpu.c ****     fifo_count = (data[0] << 8) | data[1];
 1176              		.loc 1 2154 5 is_stmt 1 view .LVU353
 1177              		.loc 1 2154 23 is_stmt 0 view .LVU354
 1178 01e6 9DF81430 		ldrb	r3, [sp, #20]	@ zero_extendqisi2
 1179              		.loc 1 2154 39 view .LVU355
 1180 01ea 9DF81570 		ldrb	r7, [sp, #21]	@ zero_extendqisi2
 1181              		.loc 1 2154 16 view .LVU356
 1182 01ee 47EA0327 		orr	r7, r7, r3, lsl #8
 1183              	.LVL88:
2155:Drivers/MPU6050/inv_mpu.c ****     packet_count = fifo_count / MAX_PACKET_LENGTH;
 1184              		.loc 1 2155 5 is_stmt 1 view .LVU357
 1185              		.loc 1 2155 18 is_stmt 0 view .LVU358
 1186 01f2 0E4B     		ldr	r3, .L106+4
 1187 01f4 A3FB0737 		umull	r3, r7, r3, r7
 1188              	.LVL89:
 1189              		.loc 1 2155 18 view .LVU359
 1190 01f8 C7F3C707 		ubfx	r7, r7, #3, #8
 1191              	.LVL90:
2156:Drivers/MPU6050/inv_mpu.c ****     gyro[0] = gyro[1] = gyro[2] = 0;
 1192              		.loc 1 2156 5 is_stmt 1 view .LVU360
 1193              		.loc 1 2156 33 is_stmt 0 view .LVU361
 1194 01fc 0026     		movs	r6, #0
 1195 01fe AE60     		str	r6, [r5, #8]
 1196              		.loc 1 2156 23 view .LVU362
 1197 0200 6E60     		str	r6, [r5, #4]
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 62


 1198              		.loc 1 2156 13 view .LVU363
 1199 0202 2E60     		str	r6, [r5]
 1200              	.LVL91:
2157:Drivers/MPU6050/inv_mpu.c ****     accel[0] = accel[1] = accel[2] = 0;
 1201              		.loc 1 2157 5 is_stmt 1 view .LVU364
 1202              		.loc 1 2157 36 is_stmt 0 view .LVU365
 1203 0204 A660     		str	r6, [r4, #8]
 1204              		.loc 1 2157 25 view .LVU366
 1205 0206 6660     		str	r6, [r4, #4]
 1206              		.loc 1 2157 14 view .LVU367
 1207 0208 2660     		str	r6, [r4]
2158:Drivers/MPU6050/inv_mpu.c **** 
2159:Drivers/MPU6050/inv_mpu.c ****     for (ii = 0; ii < packet_count; ii++) {
 1208              		.loc 1 2159 5 is_stmt 1 view .LVU368
 1209              	.LVL92:
 1210              		.loc 1 2159 5 is_stmt 0 view .LVU369
 1211 020a 5BE0     		b	.L78
 1212              	.LVL93:
 1213              	.L73:
2125:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 1214              		.loc 1 2125 9 is_stmt 1 view .LVU370
2125:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 1215              		.loc 1 2125 21 is_stmt 0 view .LVU371
 1216 020c 064B     		ldr	r3, .L106
 1217 020e 9B6A     		ldr	r3, [r3, #40]
2125:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 1218              		.loc 1 2125 26 view .LVU372
 1219 0210 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
2125:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 1220              		.loc 1 2125 17 view .LVU373
 1221 0212 8DF81430 		strb	r3, [sp, #20]
 1222 0216 87E7     		b	.L74
 1223              	.L75:
2132:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 1224              		.loc 1 2132 9 is_stmt 1 view .LVU374
2132:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 1225              		.loc 1 2132 17 is_stmt 0 view .LVU375
 1226 0218 1823     		movs	r3, #24
 1227 021a 8DF81430 		strb	r3, [sp, #20]
 1228 021e 98E7     		b	.L76
 1229              	.L101:
2136:Drivers/MPU6050/inv_mpu.c **** 
 1230              		.loc 1 2136 9 is_stmt 1 view .LVU376
 1231 0220 C820     		movs	r0, #200
 1232 0222 FFF7FEFF 		bl	delay_ms
 1233              	.LVL94:
 1234 0226 A2E7     		b	.L77
 1235              	.L107:
 1236              		.align	2
 1237              	.L106:
 1238 0228 00000000 		.word	.LANCHOR0
 1239 022c ABAAAAAA 		.word	-1431655765
 1240              	.LVL95:
 1241              	.L79:
 1242              	.LBB2:
2160:Drivers/MPU6050/inv_mpu.c ****         short accel_cur[3], gyro_cur[3];
2161:Drivers/MPU6050/inv_mpu.c ****         if (i2c_read(st.hw->addr, st.reg->fifo_r_w, MAX_PACKET_LENGTH, data))
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 63


2162:Drivers/MPU6050/inv_mpu.c ****             return -1;
2163:Drivers/MPU6050/inv_mpu.c ****         accel_cur[0] = ((short)data[0] << 8) | data[1];
 1243              		.loc 1 2163 9 view .LVU377
 1244              		.loc 1 2163 36 is_stmt 0 view .LVU378
 1245 0230 9DF81430 		ldrb	r3, [sp, #20]	@ zero_extendqisi2
 1246              		.loc 1 2163 52 view .LVU379
 1247 0234 9DF81510 		ldrb	r1, [sp, #21]	@ zero_extendqisi2
 1248              		.loc 1 2163 46 view .LVU380
 1249 0238 41EA0321 		orr	r1, r1, r3, lsl #8
 1250 023c 09B2     		sxth	r1, r1
 1251              		.loc 1 2163 22 view .LVU381
 1252 023e ADF80410 		strh	r1, [sp, #4]	@ movhi
2164:Drivers/MPU6050/inv_mpu.c ****         accel_cur[1] = ((short)data[2] << 8) | data[3];
 1253              		.loc 1 2164 9 is_stmt 1 view .LVU382
 1254              		.loc 1 2164 36 is_stmt 0 view .LVU383
 1255 0242 9DF81630 		ldrb	r3, [sp, #22]	@ zero_extendqisi2
 1256              		.loc 1 2164 52 view .LVU384
 1257 0246 9DF81720 		ldrb	r2, [sp, #23]	@ zero_extendqisi2
 1258              		.loc 1 2164 46 view .LVU385
 1259 024a 42EA0322 		orr	r2, r2, r3, lsl #8
 1260 024e 12B2     		sxth	r2, r2
 1261              		.loc 1 2164 22 view .LVU386
 1262 0250 ADF80620 		strh	r2, [sp, #6]	@ movhi
2165:Drivers/MPU6050/inv_mpu.c ****         accel_cur[2] = ((short)data[4] << 8) | data[5];
 1263              		.loc 1 2165 9 is_stmt 1 view .LVU387
 1264              		.loc 1 2165 36 is_stmt 0 view .LVU388
 1265 0254 9DF81800 		ldrb	r0, [sp, #24]	@ zero_extendqisi2
 1266              		.loc 1 2165 52 view .LVU389
 1267 0258 9DF81930 		ldrb	r3, [sp, #25]	@ zero_extendqisi2
 1268              		.loc 1 2165 46 view .LVU390
 1269 025c 43EA0023 		orr	r3, r3, r0, lsl #8
 1270 0260 1BB2     		sxth	r3, r3
 1271              		.loc 1 2165 22 view .LVU391
 1272 0262 ADF80830 		strh	r3, [sp, #8]	@ movhi
2166:Drivers/MPU6050/inv_mpu.c ****         accel[0] += (long)accel_cur[0];
 1273              		.loc 1 2166 9 is_stmt 1 view .LVU392
 1274              		.loc 1 2166 18 is_stmt 0 view .LVU393
 1275 0266 2068     		ldr	r0, [r4]
 1276 0268 0144     		add	r1, r1, r0
 1277 026a 2160     		str	r1, [r4]
2167:Drivers/MPU6050/inv_mpu.c ****         accel[1] += (long)accel_cur[1];
 1278              		.loc 1 2167 9 is_stmt 1 view .LVU394
 1279              		.loc 1 2167 18 is_stmt 0 view .LVU395
 1280 026c 6168     		ldr	r1, [r4, #4]
 1281 026e 0A44     		add	r2, r2, r1
 1282 0270 6260     		str	r2, [r4, #4]
2168:Drivers/MPU6050/inv_mpu.c ****         accel[2] += (long)accel_cur[2];
 1283              		.loc 1 2168 9 is_stmt 1 view .LVU396
 1284              		.loc 1 2168 18 is_stmt 0 view .LVU397
 1285 0272 A268     		ldr	r2, [r4, #8]
 1286 0274 1344     		add	r3, r3, r2
 1287 0276 A360     		str	r3, [r4, #8]
2169:Drivers/MPU6050/inv_mpu.c ****         gyro_cur[0] = (((short)data[6] << 8) | data[7]);
 1288              		.loc 1 2169 9 is_stmt 1 view .LVU398
 1289              		.loc 1 2169 36 is_stmt 0 view .LVU399
 1290 0278 9DF81A30 		ldrb	r3, [sp, #26]	@ zero_extendqisi2
 1291              		.loc 1 2169 52 view .LVU400
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 64


 1292 027c 9DF81B10 		ldrb	r1, [sp, #27]	@ zero_extendqisi2
 1293              		.loc 1 2169 46 view .LVU401
 1294 0280 41EA0321 		orr	r1, r1, r3, lsl #8
 1295 0284 09B2     		sxth	r1, r1
 1296              		.loc 1 2169 21 view .LVU402
 1297 0286 ADF80C10 		strh	r1, [sp, #12]	@ movhi
2170:Drivers/MPU6050/inv_mpu.c ****         gyro_cur[1] = (((short)data[8] << 8) | data[9]);
 1298              		.loc 1 2170 9 is_stmt 1 view .LVU403
 1299              		.loc 1 2170 36 is_stmt 0 view .LVU404
 1300 028a 9DF81C30 		ldrb	r3, [sp, #28]	@ zero_extendqisi2
 1301              		.loc 1 2170 52 view .LVU405
 1302 028e 9DF81D20 		ldrb	r2, [sp, #29]	@ zero_extendqisi2
 1303              		.loc 1 2170 46 view .LVU406
 1304 0292 42EA0322 		orr	r2, r2, r3, lsl #8
 1305 0296 12B2     		sxth	r2, r2
 1306              		.loc 1 2170 21 view .LVU407
 1307 0298 ADF80E20 		strh	r2, [sp, #14]	@ movhi
2171:Drivers/MPU6050/inv_mpu.c ****         gyro_cur[2] = (((short)data[10] << 8) | data[11]);
 1308              		.loc 1 2171 9 is_stmt 1 view .LVU408
 1309              		.loc 1 2171 36 is_stmt 0 view .LVU409
 1310 029c 9DF81E00 		ldrb	r0, [sp, #30]	@ zero_extendqisi2
 1311              		.loc 1 2171 53 view .LVU410
 1312 02a0 9DF81F30 		ldrb	r3, [sp, #31]	@ zero_extendqisi2
 1313              		.loc 1 2171 47 view .LVU411
 1314 02a4 43EA0023 		orr	r3, r3, r0, lsl #8
 1315 02a8 1BB2     		sxth	r3, r3
 1316              		.loc 1 2171 21 view .LVU412
 1317 02aa ADF81030 		strh	r3, [sp, #16]	@ movhi
2172:Drivers/MPU6050/inv_mpu.c ****         gyro[0] += (long)gyro_cur[0];
 1318              		.loc 1 2172 9 is_stmt 1 view .LVU413
 1319              		.loc 1 2172 17 is_stmt 0 view .LVU414
 1320 02ae 2868     		ldr	r0, [r5]
 1321 02b0 0144     		add	r1, r1, r0
 1322 02b2 2960     		str	r1, [r5]
2173:Drivers/MPU6050/inv_mpu.c ****         gyro[1] += (long)gyro_cur[1];
 1323              		.loc 1 2173 9 is_stmt 1 view .LVU415
 1324              		.loc 1 2173 17 is_stmt 0 view .LVU416
 1325 02b4 6968     		ldr	r1, [r5, #4]
 1326 02b6 0A44     		add	r2, r2, r1
 1327 02b8 6A60     		str	r2, [r5, #4]
2174:Drivers/MPU6050/inv_mpu.c ****         gyro[2] += (long)gyro_cur[2];
 1328              		.loc 1 2174 9 is_stmt 1 view .LVU417
 1329              		.loc 1 2174 17 is_stmt 0 view .LVU418
 1330 02ba AA68     		ldr	r2, [r5, #8]
 1331 02bc 1344     		add	r3, r3, r2
 1332 02be AB60     		str	r3, [r5, #8]
 1333              	.LBE2:
2159:Drivers/MPU6050/inv_mpu.c ****         short accel_cur[3], gyro_cur[3];
 1334              		.loc 1 2159 37 is_stmt 1 view .LVU419
2159:Drivers/MPU6050/inv_mpu.c ****         short accel_cur[3], gyro_cur[3];
 1335              		.loc 1 2159 39 is_stmt 0 view .LVU420
 1336 02c0 0136     		adds	r6, r6, #1
 1337              	.LVL96:
2159:Drivers/MPU6050/inv_mpu.c ****         short accel_cur[3], gyro_cur[3];
 1338              		.loc 1 2159 39 view .LVU421
 1339 02c2 F6B2     		uxtb	r6, r6
 1340              	.LVL97:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 65


 1341              	.L78:
2159:Drivers/MPU6050/inv_mpu.c ****         short accel_cur[3], gyro_cur[3];
 1342              		.loc 1 2159 18 is_stmt 1 discriminator 1 view .LVU422
2159:Drivers/MPU6050/inv_mpu.c ****         short accel_cur[3], gyro_cur[3];
 1343              		.loc 1 2159 5 is_stmt 0 discriminator 1 view .LVU423
 1344 02c4 BE42     		cmp	r6, r7
 1345 02c6 0ED2     		bcs	.L102
 1346              	.LBB3:
2160:Drivers/MPU6050/inv_mpu.c ****         if (i2c_read(st.hw->addr, st.reg->fifo_r_w, MAX_PACKET_LENGTH, data))
 1347              		.loc 1 2160 9 is_stmt 1 view .LVU424
2161:Drivers/MPU6050/inv_mpu.c ****             return -1;
 1348              		.loc 1 2161 9 view .LVU425
2161:Drivers/MPU6050/inv_mpu.c ****             return -1;
 1349              		.loc 1 2161 24 is_stmt 0 view .LVU426
 1350 02c8 554B     		ldr	r3, .L108
 1351 02ca 5868     		ldr	r0, [r3, #4]
2161:Drivers/MPU6050/inv_mpu.c ****             return -1;
 1352              		.loc 1 2161 37 view .LVU427
 1353 02cc 1968     		ldr	r1, [r3]
2161:Drivers/MPU6050/inv_mpu.c ****             return -1;
 1354              		.loc 1 2161 13 view .LVU428
 1355 02ce 05AB     		add	r3, sp, #20
 1356 02d0 0C22     		movs	r2, #12
 1357 02d2 C97A     		ldrb	r1, [r1, #11]	@ zero_extendqisi2
 1358 02d4 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1359 02d6 FFF7FEFF 		bl	i2cread
 1360              	.LVL98:
2161:Drivers/MPU6050/inv_mpu.c ****             return -1;
 1361              		.loc 1 2161 12 view .LVU429
 1362 02da 0028     		cmp	r0, #0
 1363 02dc A8D0     		beq	.L79
2162:Drivers/MPU6050/inv_mpu.c ****         accel_cur[0] = ((short)data[0] << 8) | data[1];
 1364              		.loc 1 2162 13 is_stmt 1 view .LVU430
2162:Drivers/MPU6050/inv_mpu.c ****         accel_cur[0] = ((short)data[0] << 8) | data[1];
 1365              		.loc 1 2162 20 is_stmt 0 view .LVU431
 1366 02de 4FF0FF30 		mov	r0, #-1
 1367              	.LVL99:
 1368              	.L71:
2162:Drivers/MPU6050/inv_mpu.c ****         accel_cur[0] = ((short)data[0] << 8) | data[1];
 1369              		.loc 1 2162 20 view .LVU432
 1370              	.LBE3:
2175:Drivers/MPU6050/inv_mpu.c ****     }
2176:Drivers/MPU6050/inv_mpu.c **** #ifdef EMPL_NO_64BIT
2177:Drivers/MPU6050/inv_mpu.c ****     gyro[0] = (long)(((float)gyro[0]*65536.f) / test.gyro_sens / packet_count);
2178:Drivers/MPU6050/inv_mpu.c ****     gyro[1] = (long)(((float)gyro[1]*65536.f) / test.gyro_sens / packet_count);
2179:Drivers/MPU6050/inv_mpu.c ****     gyro[2] = (long)(((float)gyro[2]*65536.f) / test.gyro_sens / packet_count);
2180:Drivers/MPU6050/inv_mpu.c ****     if (has_accel) {
2181:Drivers/MPU6050/inv_mpu.c ****         accel[0] = (long)(((float)accel[0]*65536.f) / test.accel_sens /
2182:Drivers/MPU6050/inv_mpu.c ****             packet_count);
2183:Drivers/MPU6050/inv_mpu.c ****         accel[1] = (long)(((float)accel[1]*65536.f) / test.accel_sens /
2184:Drivers/MPU6050/inv_mpu.c ****             packet_count);
2185:Drivers/MPU6050/inv_mpu.c ****         accel[2] = (long)(((float)accel[2]*65536.f) / test.accel_sens /
2186:Drivers/MPU6050/inv_mpu.c ****             packet_count);
2187:Drivers/MPU6050/inv_mpu.c ****         /* Don't remove gravity! */
2188:Drivers/MPU6050/inv_mpu.c ****         accel[2] -= 65536L;
2189:Drivers/MPU6050/inv_mpu.c ****     }
2190:Drivers/MPU6050/inv_mpu.c **** #else
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 66


2191:Drivers/MPU6050/inv_mpu.c ****     gyro[0] = (long)(((long long)gyro[0]<<16) / test.gyro_sens / packet_count);
2192:Drivers/MPU6050/inv_mpu.c ****     gyro[1] = (long)(((long long)gyro[1]<<16) / test.gyro_sens / packet_count);
2193:Drivers/MPU6050/inv_mpu.c ****     gyro[2] = (long)(((long long)gyro[2]<<16) / test.gyro_sens / packet_count);
2194:Drivers/MPU6050/inv_mpu.c ****     accel[0] = (long)(((long long)accel[0]<<16) / test.accel_sens /
2195:Drivers/MPU6050/inv_mpu.c ****         packet_count);
2196:Drivers/MPU6050/inv_mpu.c ****     accel[1] = (long)(((long long)accel[1]<<16) / test.accel_sens /
2197:Drivers/MPU6050/inv_mpu.c ****         packet_count);
2198:Drivers/MPU6050/inv_mpu.c ****     accel[2] = (long)(((long long)accel[2]<<16) / test.accel_sens /
2199:Drivers/MPU6050/inv_mpu.c ****         packet_count);
2200:Drivers/MPU6050/inv_mpu.c ****     /* Don't remove gravity! */
2201:Drivers/MPU6050/inv_mpu.c ****     if (accel[2] > 0L)
2202:Drivers/MPU6050/inv_mpu.c ****         accel[2] -= 65536L;
2203:Drivers/MPU6050/inv_mpu.c ****     else
2204:Drivers/MPU6050/inv_mpu.c ****         accel[2] += 65536L;
2205:Drivers/MPU6050/inv_mpu.c **** #endif
2206:Drivers/MPU6050/inv_mpu.c **** 
2207:Drivers/MPU6050/inv_mpu.c ****     return 0;
2208:Drivers/MPU6050/inv_mpu.c **** }
 1371              		.loc 1 2208 1 view .LVU433
 1372 02e2 09B0     		add	sp, sp, #36
 1373              	.LCFI18:
 1374              		.cfi_remember_state
 1375              		.cfi_def_cfa_offset 20
 1376              		@ sp needed
 1377 02e4 F0BD     		pop	{r4, r5, r6, r7, pc}
 1378              	.LVL100:
 1379              	.L102:
 1380              	.LCFI19:
 1381              		.cfi_restore_state
2191:Drivers/MPU6050/inv_mpu.c ****     gyro[1] = (long)(((long long)gyro[1]<<16) / test.gyro_sens / packet_count);
 1382              		.loc 1 2191 5 is_stmt 1 view .LVU434
2191:Drivers/MPU6050/inv_mpu.c ****     gyro[1] = (long)(((long long)gyro[1]<<16) / test.gyro_sens / packet_count);
 1383              		.loc 1 2191 38 is_stmt 0 view .LVU435
 1384 02e6 2968     		ldr	r1, [r5]
2191:Drivers/MPU6050/inv_mpu.c ****     gyro[1] = (long)(((long long)gyro[1]<<16) / test.gyro_sens / packet_count);
 1385              		.loc 1 2191 47 view .LVU436
 1386 02e8 8322     		movs	r2, #131
 1387 02ea 0023     		movs	r3, #0
 1388 02ec 0804     		lsls	r0, r1, #16
 1389 02ee 0914     		asrs	r1, r1, #16
 1390 02f0 FFF7FEFF 		bl	__aeabi_ldivmod
 1391              	.LVL101:
2191:Drivers/MPU6050/inv_mpu.c ****     gyro[1] = (long)(((long long)gyro[1]<<16) / test.gyro_sens / packet_count);
 1392              		.loc 1 2191 64 view .LVU437
 1393 02f4 0026     		movs	r6, #0
 1394              	.LVL102:
2191:Drivers/MPU6050/inv_mpu.c ****     gyro[1] = (long)(((long long)gyro[1]<<16) / test.gyro_sens / packet_count);
 1395              		.loc 1 2191 64 view .LVU438
 1396 02f6 3A46     		mov	r2, r7
 1397 02f8 3346     		mov	r3, r6
 1398 02fa FFF7FEFF 		bl	__aeabi_ldivmod
 1399              	.LVL103:
2191:Drivers/MPU6050/inv_mpu.c ****     gyro[1] = (long)(((long long)gyro[1]<<16) / test.gyro_sens / packet_count);
 1400              		.loc 1 2191 13 view .LVU439
 1401 02fe 2860     		str	r0, [r5]
2192:Drivers/MPU6050/inv_mpu.c ****     gyro[2] = (long)(((long long)gyro[2]<<16) / test.gyro_sens / packet_count);
 1402              		.loc 1 2192 5 is_stmt 1 view .LVU440
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 67


2192:Drivers/MPU6050/inv_mpu.c ****     gyro[2] = (long)(((long long)gyro[2]<<16) / test.gyro_sens / packet_count);
 1403              		.loc 1 2192 38 is_stmt 0 view .LVU441
 1404 0300 6968     		ldr	r1, [r5, #4]
2192:Drivers/MPU6050/inv_mpu.c ****     gyro[2] = (long)(((long long)gyro[2]<<16) / test.gyro_sens / packet_count);
 1405              		.loc 1 2192 47 view .LVU442
 1406 0302 8322     		movs	r2, #131
 1407 0304 0023     		movs	r3, #0
 1408 0306 0804     		lsls	r0, r1, #16
 1409 0308 0914     		asrs	r1, r1, #16
 1410 030a FFF7FEFF 		bl	__aeabi_ldivmod
 1411              	.LVL104:
2192:Drivers/MPU6050/inv_mpu.c ****     gyro[2] = (long)(((long long)gyro[2]<<16) / test.gyro_sens / packet_count);
 1412              		.loc 1 2192 64 view .LVU443
 1413 030e 3A46     		mov	r2, r7
 1414 0310 3346     		mov	r3, r6
 1415 0312 FFF7FEFF 		bl	__aeabi_ldivmod
 1416              	.LVL105:
2192:Drivers/MPU6050/inv_mpu.c ****     gyro[2] = (long)(((long long)gyro[2]<<16) / test.gyro_sens / packet_count);
 1417              		.loc 1 2192 13 view .LVU444
 1418 0316 6860     		str	r0, [r5, #4]
2193:Drivers/MPU6050/inv_mpu.c ****     accel[0] = (long)(((long long)accel[0]<<16) / test.accel_sens /
 1419              		.loc 1 2193 5 is_stmt 1 view .LVU445
2193:Drivers/MPU6050/inv_mpu.c ****     accel[0] = (long)(((long long)accel[0]<<16) / test.accel_sens /
 1420              		.loc 1 2193 38 is_stmt 0 view .LVU446
 1421 0318 A968     		ldr	r1, [r5, #8]
2193:Drivers/MPU6050/inv_mpu.c ****     accel[0] = (long)(((long long)accel[0]<<16) / test.accel_sens /
 1422              		.loc 1 2193 47 view .LVU447
 1423 031a 8322     		movs	r2, #131
 1424 031c 0023     		movs	r3, #0
 1425 031e 0804     		lsls	r0, r1, #16
 1426 0320 0914     		asrs	r1, r1, #16
 1427 0322 FFF7FEFF 		bl	__aeabi_ldivmod
 1428              	.LVL106:
2193:Drivers/MPU6050/inv_mpu.c ****     accel[0] = (long)(((long long)accel[0]<<16) / test.accel_sens /
 1429              		.loc 1 2193 64 view .LVU448
 1430 0326 3A46     		mov	r2, r7
 1431 0328 3346     		mov	r3, r6
 1432 032a FFF7FEFF 		bl	__aeabi_ldivmod
 1433              	.LVL107:
2193:Drivers/MPU6050/inv_mpu.c ****     accel[0] = (long)(((long long)accel[0]<<16) / test.accel_sens /
 1434              		.loc 1 2193 13 view .LVU449
 1435 032e A860     		str	r0, [r5, #8]
2194:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1436              		.loc 1 2194 5 is_stmt 1 view .LVU450
2194:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1437              		.loc 1 2194 40 is_stmt 0 view .LVU451
 1438 0330 2068     		ldr	r0, [r4]
2194:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1439              		.loc 1 2194 43 view .LVU452
 1440 0332 0314     		asrs	r3, r0, #16
 1441 0334 0004     		lsls	r0, r0, #16
2194:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1442              		.loc 1 2194 49 view .LVU453
 1443 0336 1946     		mov	r1, r3
 1444 0338 B342     		cmp	r3, r6
 1445 033a 2DDB     		blt	.L103
 1446              	.L81:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 68


 1447 033c C00A     		lsrs	r0, r0, #11
2194:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1448              		.loc 1 2194 67 view .LVU454
 1449 033e 3A46     		mov	r2, r7
 1450 0340 3346     		mov	r3, r6
 1451 0342 40EA4150 		orr	r0, r0, r1, lsl #21
 1452 0346 C912     		asrs	r1, r1, #11
 1453 0348 FFF7FEFF 		bl	__aeabi_ldivmod
 1454              	.LVL108:
2194:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1455              		.loc 1 2194 14 view .LVU455
 1456 034c 2060     		str	r0, [r4]
2196:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1457              		.loc 1 2196 5 is_stmt 1 view .LVU456
2196:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1458              		.loc 1 2196 40 is_stmt 0 view .LVU457
 1459 034e 6068     		ldr	r0, [r4, #4]
2196:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1460              		.loc 1 2196 43 view .LVU458
 1461 0350 0314     		asrs	r3, r0, #16
 1462 0352 0004     		lsls	r0, r0, #16
2196:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1463              		.loc 1 2196 49 view .LVU459
 1464 0354 1946     		mov	r1, r3
 1465 0356 002B     		cmp	r3, #0
 1466 0358 24DB     		blt	.L104
 1467              	.L82:
 1468 035a C00A     		lsrs	r0, r0, #11
2196:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1469              		.loc 1 2196 67 view .LVU460
 1470 035c 3A46     		mov	r2, r7
 1471 035e 3346     		mov	r3, r6
 1472 0360 40EA4150 		orr	r0, r0, r1, lsl #21
 1473 0364 C912     		asrs	r1, r1, #11
 1474 0366 FFF7FEFF 		bl	__aeabi_ldivmod
 1475              	.LVL109:
2196:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1476              		.loc 1 2196 14 view .LVU461
 1477 036a 6060     		str	r0, [r4, #4]
2198:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1478              		.loc 1 2198 5 is_stmt 1 view .LVU462
2198:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1479              		.loc 1 2198 40 is_stmt 0 view .LVU463
 1480 036c A068     		ldr	r0, [r4, #8]
2198:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1481              		.loc 1 2198 43 view .LVU464
 1482 036e 0314     		asrs	r3, r0, #16
 1483 0370 0004     		lsls	r0, r0, #16
2198:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1484              		.loc 1 2198 49 view .LVU465
 1485 0372 1946     		mov	r1, r3
 1486 0374 002B     		cmp	r3, #0
 1487 0376 1BDB     		blt	.L105
 1488              	.L83:
 1489 0378 C00A     		lsrs	r0, r0, #11
2198:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1490              		.loc 1 2198 67 view .LVU466
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 69


 1491 037a 3A46     		mov	r2, r7
 1492 037c 3346     		mov	r3, r6
 1493 037e 40EA4150 		orr	r0, r0, r1, lsl #21
 1494 0382 C912     		asrs	r1, r1, #11
 1495 0384 FFF7FEFF 		bl	__aeabi_ldivmod
 1496              	.LVL110:
2198:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1497              		.loc 1 2198 14 view .LVU467
 1498 0388 A060     		str	r0, [r4, #8]
2201:Drivers/MPU6050/inv_mpu.c ****         accel[2] -= 65536L;
 1499              		.loc 1 2201 5 is_stmt 1 view .LVU468
2201:Drivers/MPU6050/inv_mpu.c ****         accel[2] -= 65536L;
 1500              		.loc 1 2201 8 is_stmt 0 view .LVU469
 1501 038a 0028     		cmp	r0, #0
 1502 038c 16DD     		ble	.L84
2202:Drivers/MPU6050/inv_mpu.c ****     else
 1503              		.loc 1 2202 9 is_stmt 1 view .LVU470
2202:Drivers/MPU6050/inv_mpu.c ****     else
 1504              		.loc 1 2202 18 is_stmt 0 view .LVU471
 1505 038e A0F58030 		sub	r0, r0, #65536
 1506 0392 A060     		str	r0, [r4, #8]
2207:Drivers/MPU6050/inv_mpu.c **** }
 1507              		.loc 1 2207 12 view .LVU472
 1508 0394 0020     		movs	r0, #0
 1509 0396 A4E7     		b	.L71
 1510              	.L103:
2194:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1511              		.loc 1 2194 49 view .LVU473
 1512 0398 40F2FF72 		movw	r2, #2047
 1513 039c 8018     		adds	r0, r0, r2
 1514 039e 43F10001 		adc	r1, r3, #0
 1515 03a2 CBE7     		b	.L81
 1516              	.L104:
2196:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1517              		.loc 1 2196 49 view .LVU474
 1518 03a4 40F2FF72 		movw	r2, #2047
 1519 03a8 8018     		adds	r0, r0, r2
 1520 03aa 43F10001 		adc	r1, r3, #0
 1521 03ae D4E7     		b	.L82
 1522              	.L105:
2198:Drivers/MPU6050/inv_mpu.c ****         packet_count);
 1523              		.loc 1 2198 49 view .LVU475
 1524 03b0 40F2FF72 		movw	r2, #2047
 1525 03b4 8018     		adds	r0, r0, r2
 1526 03b6 43F10001 		adc	r1, r3, #0
 1527 03ba DDE7     		b	.L83
 1528              	.L84:
2204:Drivers/MPU6050/inv_mpu.c **** #endif
 1529              		.loc 1 2204 9 is_stmt 1 view .LVU476
2204:Drivers/MPU6050/inv_mpu.c **** #endif
 1530              		.loc 1 2204 18 is_stmt 0 view .LVU477
 1531 03bc 00F58030 		add	r0, r0, #65536
 1532 03c0 A060     		str	r0, [r4, #8]
2207:Drivers/MPU6050/inv_mpu.c **** }
 1533              		.loc 1 2207 12 view .LVU478
 1534 03c2 0020     		movs	r0, #0
 1535 03c4 8DE7     		b	.L71
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 70


 1536              	.LVL111:
 1537              	.L85:
2099:Drivers/MPU6050/inv_mpu.c ****     delay_ms(200);
 1538              		.loc 1 2099 16 view .LVU479
 1539 03c6 4FF0FF30 		mov	r0, #-1
 1540 03ca 8AE7     		b	.L71
 1541              	.L86:
2103:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 1542              		.loc 1 2103 16 view .LVU480
 1543 03cc 4FF0FF30 		mov	r0, #-1
 1544 03d0 87E7     		b	.L71
 1545              	.L87:
2105:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 1546              		.loc 1 2105 16 view .LVU481
 1547 03d2 4FF0FF30 		mov	r0, #-1
 1548 03d6 84E7     		b	.L71
 1549              	.L88:
2107:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->i2c_mst, 1, data))
 1550              		.loc 1 2107 16 view .LVU482
 1551 03d8 4FF0FF30 		mov	r0, #-1
 1552 03dc 81E7     		b	.L71
 1553              	.L89:
2109:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 1554              		.loc 1 2109 16 view .LVU483
 1555 03de 4FF0FF30 		mov	r0, #-1
 1556 03e2 7EE7     		b	.L71
 1557              	.L90:
2111:Drivers/MPU6050/inv_mpu.c ****     data[0] = BIT_FIFO_RST | BIT_DMP_RST;
 1558              		.loc 1 2111 16 view .LVU484
 1559 03e4 4FF0FF30 		mov	r0, #-1
 1560 03e8 7BE7     		b	.L71
 1561              	.L91:
2114:Drivers/MPU6050/inv_mpu.c ****     delay_ms(15);
 1562              		.loc 1 2114 16 view .LVU485
 1563 03ea 4FF0FF30 		mov	r0, #-1
 1564 03ee 78E7     		b	.L71
 1565              	.L92:
2118:Drivers/MPU6050/inv_mpu.c ****     data[0] = st.test->reg_rate_div;
 1566              		.loc 1 2118 16 view .LVU486
 1567 03f0 4FF0FF30 		mov	r0, #-1
 1568 03f4 75E7     		b	.L71
 1569              	.L93:
2121:Drivers/MPU6050/inv_mpu.c ****     if (hw_test)
 1570              		.loc 1 2121 16 view .LVU487
 1571 03f6 4FF0FF30 		mov	r0, #-1
 1572 03fa 72E7     		b	.L71
 1573              	.L94:
2127:Drivers/MPU6050/inv_mpu.c **** 
 1574              		.loc 1 2127 16 view .LVU488
 1575 03fc 4FF0FF30 		mov	r0, #-1
 1576 0400 6FE7     		b	.L71
 1577              	.L95:
2134:Drivers/MPU6050/inv_mpu.c ****     if (hw_test)
 1578              		.loc 1 2134 16 view .LVU489
 1579 0402 4FF0FF30 		mov	r0, #-1
 1580 0406 6CE7     		b	.L71
 1581              	.L96:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 71


2141:Drivers/MPU6050/inv_mpu.c **** 
 1582              		.loc 1 2141 16 view .LVU490
 1583 0408 4FF0FF30 		mov	r0, #-1
 1584 040c 69E7     		b	.L71
 1585              	.L97:
2145:Drivers/MPU6050/inv_mpu.c ****     delay_ms(test.wait_ms);
 1586              		.loc 1 2145 16 view .LVU491
 1587 040e 4FF0FF30 		mov	r0, #-1
 1588 0412 66E7     		b	.L71
 1589              	.L98:
2149:Drivers/MPU6050/inv_mpu.c **** 
 1590              		.loc 1 2149 16 view .LVU492
 1591 0414 4FF0FF30 		mov	r0, #-1
 1592 0418 63E7     		b	.L71
 1593              	.L99:
2152:Drivers/MPU6050/inv_mpu.c **** 
 1594              		.loc 1 2152 16 view .LVU493
 1595 041a 4FF0FF30 		mov	r0, #-1
 1596 041e 60E7     		b	.L71
 1597              	.L109:
 1598              		.align	2
 1599              	.L108:
 1600 0420 00000000 		.word	.LANCHOR0
 1601              		.cfi_endproc
 1602              	.LFE597:
 1604              		.section	.text.mpu_reg_dump,"ax",%progbits
 1605              		.align	1
 1606              		.global	mpu_reg_dump
 1607              		.syntax unified
 1608              		.thumb
 1609              		.thumb_func
 1611              	mpu_reg_dump:
 1612              	.LFB562:
 729:Drivers/MPU6050/inv_mpu.c ****     unsigned char ii;
 1613              		.loc 1 729 1 is_stmt 1 view -0
 1614              		.cfi_startproc
 1615              		@ args = 0, pretend = 0, frame = 8
 1616              		@ frame_needed = 0, uses_anonymous_args = 0
 1617 0000 10B5     		push	{r4, lr}
 1618              	.LCFI20:
 1619              		.cfi_def_cfa_offset 8
 1620              		.cfi_offset 4, -8
 1621              		.cfi_offset 14, -4
 1622 0002 82B0     		sub	sp, sp, #8
 1623              	.LCFI21:
 1624              		.cfi_def_cfa_offset 16
 730:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
 1625              		.loc 1 730 5 view .LVU495
 731:Drivers/MPU6050/inv_mpu.c **** 
 1626              		.loc 1 731 5 view .LVU496
 733:Drivers/MPU6050/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 1627              		.loc 1 733 5 view .LVU497
 1628              	.LVL112:
 733:Drivers/MPU6050/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 1629              		.loc 1 733 13 is_stmt 0 view .LVU498
 1630 0004 0024     		movs	r4, #0
 733:Drivers/MPU6050/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 72


 1631              		.loc 1 733 5 view .LVU499
 1632 0006 01E0     		b	.L111
 1633              	.LVL113:
 1634              	.L112:
 733:Drivers/MPU6050/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 1635              		.loc 1 733 39 is_stmt 1 discriminator 2 view .LVU500
 733:Drivers/MPU6050/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 1636              		.loc 1 733 41 is_stmt 0 discriminator 2 view .LVU501
 1637 0008 0134     		adds	r4, r4, #1
 1638              	.LVL114:
 733:Drivers/MPU6050/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 1639              		.loc 1 733 41 discriminator 2 view .LVU502
 1640 000a E4B2     		uxtb	r4, r4
 1641              	.LVL115:
 1642              	.L111:
 733:Drivers/MPU6050/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 1643              		.loc 1 733 18 is_stmt 1 discriminator 1 view .LVU503
 733:Drivers/MPU6050/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 1644              		.loc 1 733 25 is_stmt 0 discriminator 1 view .LVU504
 1645 000c 0D4B     		ldr	r3, .L118
 1646 000e 5868     		ldr	r0, [r3, #4]
 733:Drivers/MPU6050/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 1647              		.loc 1 733 28 discriminator 1 view .LVU505
 1648 0010 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 733:Drivers/MPU6050/inv_mpu.c ****         if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 1649              		.loc 1 733 5 discriminator 1 view .LVU506
 1650 0012 A342     		cmp	r3, r4
 1651 0014 13D9     		bls	.L117
 734:Drivers/MPU6050/inv_mpu.c ****             continue;
 1652              		.loc 1 734 9 is_stmt 1 view .LVU507
 734:Drivers/MPU6050/inv_mpu.c ****             continue;
 1653              		.loc 1 734 21 is_stmt 0 view .LVU508
 1654 0016 0B4B     		ldr	r3, .L118
 1655 0018 1B68     		ldr	r3, [r3]
 734:Drivers/MPU6050/inv_mpu.c ****             continue;
 1656              		.loc 1 734 25 view .LVU509
 1657 001a DA7A     		ldrb	r2, [r3, #11]	@ zero_extendqisi2
 734:Drivers/MPU6050/inv_mpu.c ****             continue;
 1658              		.loc 1 734 12 view .LVU510
 1659 001c A242     		cmp	r2, r4
 1660 001e F3D0     		beq	.L112
 734:Drivers/MPU6050/inv_mpu.c ****             continue;
 1661              		.loc 1 734 51 discriminator 1 view .LVU511
 1662 0020 5B7D     		ldrb	r3, [r3, #21]	@ zero_extendqisi2
 734:Drivers/MPU6050/inv_mpu.c ****             continue;
 1663              		.loc 1 734 36 discriminator 1 view .LVU512
 1664 0022 A342     		cmp	r3, r4
 1665 0024 F0D0     		beq	.L112
 736:Drivers/MPU6050/inv_mpu.c ****             return -1;
 1666              		.loc 1 736 9 is_stmt 1 view .LVU513
 736:Drivers/MPU6050/inv_mpu.c ****             return -1;
 1667              		.loc 1 736 13 is_stmt 0 view .LVU514
 1668 0026 0DF10703 		add	r3, sp, #7
 1669 002a 0122     		movs	r2, #1
 1670 002c 2146     		mov	r1, r4
 1671 002e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1672 0030 FFF7FEFF 		bl	i2cread
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 73


 1673              	.LVL116:
 736:Drivers/MPU6050/inv_mpu.c ****             return -1;
 1674              		.loc 1 736 12 view .LVU515
 1675 0034 0028     		cmp	r0, #0
 1676 0036 E7D0     		beq	.L112
 737:Drivers/MPU6050/inv_mpu.c ****         //log_i("%#5x: %#5x\r\n", ii, data);
 1677              		.loc 1 737 20 view .LVU516
 1678 0038 4FF0FF30 		mov	r0, #-1
 1679 003c 00E0     		b	.L110
 1680              	.L117:
 740:Drivers/MPU6050/inv_mpu.c **** }
 1681              		.loc 1 740 12 view .LVU517
 1682 003e 0020     		movs	r0, #0
 1683              	.L110:
 741:Drivers/MPU6050/inv_mpu.c **** 
 1684              		.loc 1 741 1 view .LVU518
 1685 0040 02B0     		add	sp, sp, #8
 1686              	.LCFI22:
 1687              		.cfi_def_cfa_offset 8
 1688              		@ sp needed
 1689 0042 10BD     		pop	{r4, pc}
 1690              	.LVL117:
 1691              	.L119:
 741:Drivers/MPU6050/inv_mpu.c **** 
 1692              		.loc 1 741 1 view .LVU519
 1693              		.align	2
 1694              	.L118:
 1695 0044 00000000 		.word	.LANCHOR0
 1696              		.cfi_endproc
 1697              	.LFE562:
 1699              		.section	.text.mpu_read_reg,"ax",%progbits
 1700              		.align	1
 1701              		.global	mpu_read_reg
 1702              		.syntax unified
 1703              		.thumb
 1704              		.thumb_func
 1706              	mpu_read_reg:
 1707              	.LVL118:
 1708              	.LFB563:
 751:Drivers/MPU6050/inv_mpu.c ****     if (reg == st.reg->fifo_r_w || reg == st.reg->mem_r_w)
 1709              		.loc 1 751 1 is_stmt 1 view -0
 1710              		.cfi_startproc
 1711              		@ args = 0, pretend = 0, frame = 0
 1712              		@ frame_needed = 0, uses_anonymous_args = 0
 751:Drivers/MPU6050/inv_mpu.c ****     if (reg == st.reg->fifo_r_w || reg == st.reg->mem_r_w)
 1713              		.loc 1 751 1 is_stmt 0 view .LVU521
 1714 0000 0B46     		mov	r3, r1
 752:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1715              		.loc 1 752 5 is_stmt 1 view .LVU522
 752:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1716              		.loc 1 752 18 is_stmt 0 view .LVU523
 1717 0002 0E4A     		ldr	r2, .L129
 1718 0004 1268     		ldr	r2, [r2]
 752:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1719              		.loc 1 752 22 view .LVU524
 1720 0006 D17A     		ldrb	r1, [r2, #11]	@ zero_extendqisi2
 1721              	.LVL119:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 74


 752:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1722              		.loc 1 752 8 view .LVU525
 1723 0008 8142     		cmp	r1, r0
 1724 000a 0ED0     		beq	.L122
 752:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1725              		.loc 1 752 49 discriminator 1 view .LVU526
 1726 000c 527D     		ldrb	r2, [r2, #21]	@ zero_extendqisi2
 752:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1727              		.loc 1 752 33 discriminator 1 view .LVU527
 1728 000e 8242     		cmp	r2, r0
 1729 0010 0ED0     		beq	.L123
 751:Drivers/MPU6050/inv_mpu.c ****     if (reg == st.reg->fifo_r_w || reg == st.reg->mem_r_w)
 1730              		.loc 1 751 1 view .LVU528
 1731 0012 10B5     		push	{r4, lr}
 1732              	.LCFI23:
 1733              		.cfi_def_cfa_offset 8
 1734              		.cfi_offset 4, -8
 1735              		.cfi_offset 14, -4
 754:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1736              		.loc 1 754 5 is_stmt 1 view .LVU529
 754:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1737              		.loc 1 754 18 is_stmt 0 view .LVU530
 1738 0014 094A     		ldr	r2, .L129
 1739 0016 5468     		ldr	r4, [r2, #4]
 754:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1740              		.loc 1 754 21 view .LVU531
 1741 0018 2279     		ldrb	r2, [r4, #4]	@ zero_extendqisi2
 754:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1742              		.loc 1 754 8 view .LVU532
 1743 001a 8242     		cmp	r2, r0
 1744 001c 0BD9     		bls	.L124
 756:Drivers/MPU6050/inv_mpu.c **** }
 1745              		.loc 1 756 5 is_stmt 1 view .LVU533
 756:Drivers/MPU6050/inv_mpu.c **** }
 1746              		.loc 1 756 12 is_stmt 0 view .LVU534
 1747 001e 0122     		movs	r2, #1
 1748 0020 0146     		mov	r1, r0
 1749 0022 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 1750              	.LVL120:
 756:Drivers/MPU6050/inv_mpu.c **** }
 1751              		.loc 1 756 12 view .LVU535
 1752 0024 FFF7FEFF 		bl	i2cread
 1753              	.LVL121:
 1754              	.L120:
 757:Drivers/MPU6050/inv_mpu.c **** 
 1755              		.loc 1 757 1 view .LVU536
 1756 0028 10BD     		pop	{r4, pc}
 1757              	.LVL122:
 1758              	.L122:
 1759              	.LCFI24:
 1760              		.cfi_def_cfa_offset 0
 1761              		.cfi_restore 4
 1762              		.cfi_restore 14
 753:Drivers/MPU6050/inv_mpu.c ****     if (reg >= st.hw->num_reg)
 1763              		.loc 1 753 16 view .LVU537
 1764 002a 4FF0FF30 		mov	r0, #-1
 1765              	.LVL123:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 75


 753:Drivers/MPU6050/inv_mpu.c ****     if (reg >= st.hw->num_reg)
 1766              		.loc 1 753 16 view .LVU538
 1767 002e 7047     		bx	lr
 1768              	.LVL124:
 1769              	.L123:
 753:Drivers/MPU6050/inv_mpu.c ****     if (reg >= st.hw->num_reg)
 1770              		.loc 1 753 16 view .LVU539
 1771 0030 4FF0FF30 		mov	r0, #-1
 1772              	.LVL125:
 757:Drivers/MPU6050/inv_mpu.c **** 
 1773              		.loc 1 757 1 view .LVU540
 1774 0034 7047     		bx	lr
 1775              	.LVL126:
 1776              	.L124:
 1777              	.LCFI25:
 1778              		.cfi_def_cfa_offset 8
 1779              		.cfi_offset 4, -8
 1780              		.cfi_offset 14, -4
 755:Drivers/MPU6050/inv_mpu.c ****     return i2c_read(st.hw->addr, reg, 1, data);
 1781              		.loc 1 755 16 view .LVU541
 1782 0036 4FF0FF30 		mov	r0, #-1
 1783              	.LVL127:
 755:Drivers/MPU6050/inv_mpu.c ****     return i2c_read(st.hw->addr, reg, 1, data);
 1784              		.loc 1 755 16 view .LVU542
 1785 003a F5E7     		b	.L120
 1786              	.L130:
 1787              		.align	2
 1788              	.L129:
 1789 003c 00000000 		.word	.LANCHOR0
 1790              		.cfi_endproc
 1791              	.LFE563:
 1793              		.section	.text.mpu_get_gyro_reg,"ax",%progbits
 1794              		.align	1
 1795              		.global	mpu_get_gyro_reg
 1796              		.syntax unified
 1797              		.thumb
 1798              		.thumb_func
 1800              	mpu_get_gyro_reg:
 1801              	.LVL128:
 1802              	.LFB566:
1016:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[6];
 1803              		.loc 1 1016 1 is_stmt 1 view -0
 1804              		.cfi_startproc
 1805              		@ args = 0, pretend = 0, frame = 8
 1806              		@ frame_needed = 0, uses_anonymous_args = 0
1017:Drivers/MPU6050/inv_mpu.c **** 
 1807              		.loc 1 1017 5 view .LVU544
1019:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1808              		.loc 1 1019 5 view .LVU545
1019:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1809              		.loc 1 1019 22 is_stmt 0 view .LVU546
 1810 0000 1B4B     		ldr	r3, .L140
 1811 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1019:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1812              		.loc 1 1019 8 view .LVU547
 1813 0004 13F0700F 		tst	r3, #112
 1814 0008 29D0     		beq	.L133
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 76


1016:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[6];
 1815              		.loc 1 1016 1 view .LVU548
 1816 000a 30B5     		push	{r4, r5, lr}
 1817              	.LCFI26:
 1818              		.cfi_def_cfa_offset 12
 1819              		.cfi_offset 4, -12
 1820              		.cfi_offset 5, -8
 1821              		.cfi_offset 14, -4
 1822 000c 83B0     		sub	sp, sp, #12
 1823              	.LCFI27:
 1824              		.cfi_def_cfa_offset 24
 1825 000e 0446     		mov	r4, r0
 1826 0010 0D46     		mov	r5, r1
1022:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1827              		.loc 1 1022 5 is_stmt 1 view .LVU549
1022:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1828              		.loc 1 1022 20 is_stmt 0 view .LVU550
 1829 0012 174B     		ldr	r3, .L140
 1830 0014 5868     		ldr	r0, [r3, #4]
 1831              	.LVL129:
1022:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1832              		.loc 1 1022 33 view .LVU551
 1833 0016 1968     		ldr	r1, [r3]
 1834              	.LVL130:
1022:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1835              		.loc 1 1022 9 view .LVU552
 1836 0018 6B46     		mov	r3, sp
 1837 001a 0622     		movs	r2, #6
 1838 001c 097B     		ldrb	r1, [r1, #12]	@ zero_extendqisi2
 1839 001e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1840 0020 FFF7FEFF 		bl	i2cread
 1841              	.LVL131:
1022:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1842              		.loc 1 1022 8 view .LVU553
 1843 0024 F0B9     		cbnz	r0, .L134
1024:Drivers/MPU6050/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 1844              		.loc 1 1024 5 is_stmt 1 view .LVU554
1024:Drivers/MPU6050/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 1845              		.loc 1 1024 19 is_stmt 0 view .LVU555
 1846 0026 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
1024:Drivers/MPU6050/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 1847              		.loc 1 1024 34 view .LVU556
 1848 002a 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
1024:Drivers/MPU6050/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 1849              		.loc 1 1024 29 view .LVU557
 1850 002e 43EA0223 		orr	r3, r3, r2, lsl #8
1024:Drivers/MPU6050/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 1851              		.loc 1 1024 13 view .LVU558
 1852 0032 2380     		strh	r3, [r4]	@ movhi
1025:Drivers/MPU6050/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 1853              		.loc 1 1025 5 is_stmt 1 view .LVU559
1025:Drivers/MPU6050/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 1854              		.loc 1 1025 19 is_stmt 0 view .LVU560
 1855 0034 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
1025:Drivers/MPU6050/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 1856              		.loc 1 1025 34 view .LVU561
 1857 0038 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 77


1025:Drivers/MPU6050/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 1858              		.loc 1 1025 29 view .LVU562
 1859 003c 43EA0223 		orr	r3, r3, r2, lsl #8
1025:Drivers/MPU6050/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 1860              		.loc 1 1025 13 view .LVU563
 1861 0040 6380     		strh	r3, [r4, #2]	@ movhi
1026:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 1862              		.loc 1 1026 5 is_stmt 1 view .LVU564
1026:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 1863              		.loc 1 1026 19 is_stmt 0 view .LVU565
 1864 0042 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
1026:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 1865              		.loc 1 1026 34 view .LVU566
 1866 0046 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
1026:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 1867              		.loc 1 1026 29 view .LVU567
 1868 004a 43EA0223 		orr	r3, r3, r2, lsl #8
1026:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 1869              		.loc 1 1026 13 view .LVU568
 1870 004e A380     		strh	r3, [r4, #4]	@ movhi
1027:Drivers/MPU6050/inv_mpu.c ****         get_ms(timestamp);
 1871              		.loc 1 1027 5 is_stmt 1 view .LVU569
1027:Drivers/MPU6050/inv_mpu.c ****         get_ms(timestamp);
 1872              		.loc 1 1027 8 is_stmt 0 view .LVU570
 1873 0050 5DB1     		cbz	r5, .L135
1028:Drivers/MPU6050/inv_mpu.c ****     return 0;
 1874              		.loc 1 1028 9 is_stmt 1 view .LVU571
 1875 0052 2846     		mov	r0, r5
 1876 0054 FFF7FEFF 		bl	get_ms
 1877              	.LVL132:
1029:Drivers/MPU6050/inv_mpu.c **** }
 1878              		.loc 1 1029 12 is_stmt 0 view .LVU572
 1879 0058 0020     		movs	r0, #0
 1880              	.L131:
1030:Drivers/MPU6050/inv_mpu.c **** 
 1881              		.loc 1 1030 1 view .LVU573
 1882 005a 03B0     		add	sp, sp, #12
 1883              	.LCFI28:
 1884              		.cfi_def_cfa_offset 12
 1885              		@ sp needed
 1886 005c 30BD     		pop	{r4, r5, pc}
 1887              	.LVL133:
 1888              	.L133:
 1889              	.LCFI29:
 1890              		.cfi_def_cfa_offset 0
 1891              		.cfi_restore 4
 1892              		.cfi_restore 5
 1893              		.cfi_restore 14
1020:Drivers/MPU6050/inv_mpu.c **** 
 1894              		.loc 1 1020 16 view .LVU574
 1895 005e 4FF0FF30 		mov	r0, #-1
 1896              	.LVL134:
1030:Drivers/MPU6050/inv_mpu.c **** 
 1897              		.loc 1 1030 1 view .LVU575
 1898 0062 7047     		bx	lr
 1899              	.LVL135:
 1900              	.L134:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 78


 1901              	.LCFI30:
 1902              		.cfi_def_cfa_offset 24
 1903              		.cfi_offset 4, -12
 1904              		.cfi_offset 5, -8
 1905              		.cfi_offset 14, -4
1023:Drivers/MPU6050/inv_mpu.c ****     data[0] = (tmp[0] << 8) | tmp[1];
 1906              		.loc 1 1023 16 view .LVU576
 1907 0064 4FF0FF30 		mov	r0, #-1
 1908 0068 F7E7     		b	.L131
 1909              	.L135:
1029:Drivers/MPU6050/inv_mpu.c **** }
 1910              		.loc 1 1029 12 view .LVU577
 1911 006a 0020     		movs	r0, #0
 1912 006c F5E7     		b	.L131
 1913              	.L141:
 1914 006e 00BF     		.align	2
 1915              	.L140:
 1916 0070 00000000 		.word	.LANCHOR0
 1917              		.cfi_endproc
 1918              	.LFE566:
 1920              		.section	.text.mpu_get_accel_reg,"ax",%progbits
 1921              		.align	1
 1922              		.global	mpu_get_accel_reg
 1923              		.syntax unified
 1924              		.thumb
 1925              		.thumb_func
 1927              	mpu_get_accel_reg:
 1928              	.LVL136:
 1929              	.LFB567:
1039:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[6];
 1930              		.loc 1 1039 1 is_stmt 1 view -0
 1931              		.cfi_startproc
 1932              		@ args = 0, pretend = 0, frame = 8
 1933              		@ frame_needed = 0, uses_anonymous_args = 0
1040:Drivers/MPU6050/inv_mpu.c **** 
 1934              		.loc 1 1040 5 view .LVU579
1042:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1935              		.loc 1 1042 5 view .LVU580
1042:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1936              		.loc 1 1042 22 is_stmt 0 view .LVU581
 1937 0000 1B4B     		ldr	r3, .L151
 1938 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1042:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1939              		.loc 1 1042 8 view .LVU582
 1940 0004 13F0080F 		tst	r3, #8
 1941 0008 29D0     		beq	.L144
1039:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[6];
 1942              		.loc 1 1039 1 view .LVU583
 1943 000a 30B5     		push	{r4, r5, lr}
 1944              	.LCFI31:
 1945              		.cfi_def_cfa_offset 12
 1946              		.cfi_offset 4, -12
 1947              		.cfi_offset 5, -8
 1948              		.cfi_offset 14, -4
 1949 000c 83B0     		sub	sp, sp, #12
 1950              	.LCFI32:
 1951              		.cfi_def_cfa_offset 24
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 79


 1952 000e 0446     		mov	r4, r0
 1953 0010 0D46     		mov	r5, r1
1045:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1954              		.loc 1 1045 5 is_stmt 1 view .LVU584
1045:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1955              		.loc 1 1045 20 is_stmt 0 view .LVU585
 1956 0012 174B     		ldr	r3, .L151
 1957 0014 5868     		ldr	r0, [r3, #4]
 1958              	.LVL137:
1045:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1959              		.loc 1 1045 33 view .LVU586
 1960 0016 1968     		ldr	r1, [r3]
 1961              	.LVL138:
1045:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1962              		.loc 1 1045 9 view .LVU587
 1963 0018 6B46     		mov	r3, sp
 1964 001a 0622     		movs	r2, #6
 1965 001c 497B     		ldrb	r1, [r1, #13]	@ zero_extendqisi2
 1966 001e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1967 0020 FFF7FEFF 		bl	i2cread
 1968              	.LVL139:
1045:Drivers/MPU6050/inv_mpu.c ****         return -1;
 1969              		.loc 1 1045 8 view .LVU588
 1970 0024 F0B9     		cbnz	r0, .L145
1047:Drivers/MPU6050/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 1971              		.loc 1 1047 5 is_stmt 1 view .LVU589
1047:Drivers/MPU6050/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 1972              		.loc 1 1047 19 is_stmt 0 view .LVU590
 1973 0026 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
1047:Drivers/MPU6050/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 1974              		.loc 1 1047 34 view .LVU591
 1975 002a 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
1047:Drivers/MPU6050/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 1976              		.loc 1 1047 29 view .LVU592
 1977 002e 43EA0223 		orr	r3, r3, r2, lsl #8
1047:Drivers/MPU6050/inv_mpu.c ****     data[1] = (tmp[2] << 8) | tmp[3];
 1978              		.loc 1 1047 13 view .LVU593
 1979 0032 2380     		strh	r3, [r4]	@ movhi
1048:Drivers/MPU6050/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 1980              		.loc 1 1048 5 is_stmt 1 view .LVU594
1048:Drivers/MPU6050/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 1981              		.loc 1 1048 19 is_stmt 0 view .LVU595
 1982 0034 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
1048:Drivers/MPU6050/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 1983              		.loc 1 1048 34 view .LVU596
 1984 0038 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
1048:Drivers/MPU6050/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 1985              		.loc 1 1048 29 view .LVU597
 1986 003c 43EA0223 		orr	r3, r3, r2, lsl #8
1048:Drivers/MPU6050/inv_mpu.c ****     data[2] = (tmp[4] << 8) | tmp[5];
 1987              		.loc 1 1048 13 view .LVU598
 1988 0040 6380     		strh	r3, [r4, #2]	@ movhi
1049:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 1989              		.loc 1 1049 5 is_stmt 1 view .LVU599
1049:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 1990              		.loc 1 1049 19 is_stmt 0 view .LVU600
 1991 0042 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 80


1049:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 1992              		.loc 1 1049 34 view .LVU601
 1993 0046 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
1049:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 1994              		.loc 1 1049 29 view .LVU602
 1995 004a 43EA0223 		orr	r3, r3, r2, lsl #8
1049:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 1996              		.loc 1 1049 13 view .LVU603
 1997 004e A380     		strh	r3, [r4, #4]	@ movhi
1050:Drivers/MPU6050/inv_mpu.c ****         get_ms(timestamp);
 1998              		.loc 1 1050 5 is_stmt 1 view .LVU604
1050:Drivers/MPU6050/inv_mpu.c ****         get_ms(timestamp);
 1999              		.loc 1 1050 8 is_stmt 0 view .LVU605
 2000 0050 5DB1     		cbz	r5, .L146
1051:Drivers/MPU6050/inv_mpu.c ****     return 0;
 2001              		.loc 1 1051 9 is_stmt 1 view .LVU606
 2002 0052 2846     		mov	r0, r5
 2003 0054 FFF7FEFF 		bl	get_ms
 2004              	.LVL140:
1052:Drivers/MPU6050/inv_mpu.c **** }
 2005              		.loc 1 1052 12 is_stmt 0 view .LVU607
 2006 0058 0020     		movs	r0, #0
 2007              	.L142:
1053:Drivers/MPU6050/inv_mpu.c **** 
 2008              		.loc 1 1053 1 view .LVU608
 2009 005a 03B0     		add	sp, sp, #12
 2010              	.LCFI33:
 2011              		.cfi_def_cfa_offset 12
 2012              		@ sp needed
 2013 005c 30BD     		pop	{r4, r5, pc}
 2014              	.LVL141:
 2015              	.L144:
 2016              	.LCFI34:
 2017              		.cfi_def_cfa_offset 0
 2018              		.cfi_restore 4
 2019              		.cfi_restore 5
 2020              		.cfi_restore 14
1043:Drivers/MPU6050/inv_mpu.c **** 
 2021              		.loc 1 1043 16 view .LVU609
 2022 005e 4FF0FF30 		mov	r0, #-1
 2023              	.LVL142:
1053:Drivers/MPU6050/inv_mpu.c **** 
 2024              		.loc 1 1053 1 view .LVU610
 2025 0062 7047     		bx	lr
 2026              	.LVL143:
 2027              	.L145:
 2028              	.LCFI35:
 2029              		.cfi_def_cfa_offset 24
 2030              		.cfi_offset 4, -12
 2031              		.cfi_offset 5, -8
 2032              		.cfi_offset 14, -4
1046:Drivers/MPU6050/inv_mpu.c ****     data[0] = (tmp[0] << 8) | tmp[1];
 2033              		.loc 1 1046 16 view .LVU611
 2034 0064 4FF0FF30 		mov	r0, #-1
 2035 0068 F7E7     		b	.L142
 2036              	.L146:
1052:Drivers/MPU6050/inv_mpu.c **** }
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 81


 2037              		.loc 1 1052 12 view .LVU612
 2038 006a 0020     		movs	r0, #0
 2039 006c F5E7     		b	.L142
 2040              	.L152:
 2041 006e 00BF     		.align	2
 2042              	.L151:
 2043 0070 00000000 		.word	.LANCHOR0
 2044              		.cfi_endproc
 2045              	.LFE567:
 2047              		.section	.text.mpu_get_temperature,"ax",%progbits
 2048              		.align	1
 2049              		.global	mpu_get_temperature
 2050              		.syntax unified
 2051              		.thumb
 2052              		.thumb_func
 2054              	mpu_get_temperature:
 2055              	.LVL144:
 2056              	.LFB568:
1062:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
 2057              		.loc 1 1062 1 is_stmt 1 view -0
 2058              		.cfi_startproc
 2059              		@ args = 0, pretend = 0, frame = 8
 2060              		@ frame_needed = 0, uses_anonymous_args = 0
1063:Drivers/MPU6050/inv_mpu.c ****     short raw;
 2061              		.loc 1 1063 5 view .LVU614
1064:Drivers/MPU6050/inv_mpu.c **** 
 2062              		.loc 1 1064 5 view .LVU615
1066:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2063              		.loc 1 1066 5 view .LVU616
1066:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2064              		.loc 1 1066 22 is_stmt 0 view .LVU617
 2065 0000 214B     		ldr	r3, .L162
 2066 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1066:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2067              		.loc 1 1066 8 view .LVU618
 2068 0004 002B     		cmp	r3, #0
 2069 0006 38D0     		beq	.L156
1062:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
 2070              		.loc 1 1062 1 view .LVU619
 2071 0008 70B5     		push	{r4, r5, r6, lr}
 2072              	.LCFI36:
 2073              		.cfi_def_cfa_offset 16
 2074              		.cfi_offset 4, -16
 2075              		.cfi_offset 5, -12
 2076              		.cfi_offset 6, -8
 2077              		.cfi_offset 14, -4
 2078 000a 82B0     		sub	sp, sp, #8
 2079              	.LCFI37:
 2080              		.cfi_def_cfa_offset 24
 2081 000c 0646     		mov	r6, r0
 2082 000e 0D46     		mov	r5, r1
1069:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2083              		.loc 1 1069 5 is_stmt 1 view .LVU620
1069:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2084              		.loc 1 1069 20 is_stmt 0 view .LVU621
 2085 0010 1D4B     		ldr	r3, .L162
 2086 0012 5868     		ldr	r0, [r3, #4]
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 82


 2087              	.LVL145:
1069:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2088              		.loc 1 1069 33 view .LVU622
 2089 0014 1968     		ldr	r1, [r3]
 2090              	.LVL146:
1069:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2091              		.loc 1 1069 9 view .LVU623
 2092 0016 01AB     		add	r3, sp, #4
 2093 0018 0222     		movs	r2, #2
 2094 001a 897B     		ldrb	r1, [r1, #14]	@ zero_extendqisi2
 2095 001c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2096 001e FFF7FEFF 		bl	i2cread
 2097              	.LVL147:
1069:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2098              		.loc 1 1069 8 view .LVU624
 2099 0022 68BB     		cbnz	r0, .L157
1071:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 2100              		.loc 1 1071 5 is_stmt 1 view .LVU625
1071:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 2101              		.loc 1 1071 15 is_stmt 0 view .LVU626
 2102 0024 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
1071:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 2103              		.loc 1 1071 19 view .LVU627
 2104 0028 1B02     		lsls	r3, r3, #8
1071:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 2105              		.loc 1 1071 25 view .LVU628
 2106 002a 1BB2     		sxth	r3, r3
1071:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 2107              		.loc 1 1071 30 view .LVU629
 2108 002c 9DF80540 		ldrb	r4, [sp, #5]	@ zero_extendqisi2
1071:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 2109              		.loc 1 1071 9 view .LVU630
 2110 0030 1C43     		orrs	r4, r4, r3
 2111              	.LVL148:
1072:Drivers/MPU6050/inv_mpu.c ****         get_ms(timestamp);
 2112              		.loc 1 1072 5 is_stmt 1 view .LVU631
1072:Drivers/MPU6050/inv_mpu.c ****         get_ms(timestamp);
 2113              		.loc 1 1072 8 is_stmt 0 view .LVU632
 2114 0032 15B1     		cbz	r5, .L155
1073:Drivers/MPU6050/inv_mpu.c **** 
 2115              		.loc 1 1073 9 is_stmt 1 view .LVU633
 2116 0034 2846     		mov	r0, r5
 2117 0036 FFF7FEFF 		bl	get_ms
 2118              	.LVL149:
 2119              	.L155:
1075:Drivers/MPU6050/inv_mpu.c ****     return 0;
 2120              		.loc 1 1075 5 view .LVU634
1075:Drivers/MPU6050/inv_mpu.c ****     return 0;
 2121              		.loc 1 1075 45 is_stmt 0 view .LVU635
 2122 003a 134B     		ldr	r3, .L162
 2123 003c 5B68     		ldr	r3, [r3, #4]
1075:Drivers/MPU6050/inv_mpu.c ****     return 0;
 2124              		.loc 1 1075 48 view .LVU636
 2125 003e B3F90820 		ldrsh	r2, [r3, #8]
 2126 0042 07EE902A 		vmov	s15, r2	@ int
1075:Drivers/MPU6050/inv_mpu.c ****     return 0;
 2127              		.loc 1 1075 36 view .LVU637
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 83


 2128 0046 B8EEE77A 		vcvt.f32.s32	s14, s15
1075:Drivers/MPU6050/inv_mpu.c ****     return 0;
 2129              		.loc 1 1075 34 view .LVU638
 2130 004a 07EE904A 		vmov	s15, r4	@ int
 2131 004e F8EEE77A 		vcvt.f32.s32	s15, s15
 2132 0052 77EEC77A 		vsub.f32	s15, s15, s14
1075:Drivers/MPU6050/inv_mpu.c ****     return 0;
 2133              		.loc 1 1075 70 view .LVU639
 2134 0056 DB88     		ldrh	r3, [r3, #6]
 2135 0058 06EE903A 		vmov	s13, r3	@ int
1075:Drivers/MPU6050/inv_mpu.c ****     return 0;
 2136              		.loc 1 1075 63 view .LVU640
 2137 005c F8EEE66A 		vcvt.f32.s32	s13, s13
 2138 0060 87EEA67A 		vdiv.f32	s14, s15, s13
1075:Drivers/MPU6050/inv_mpu.c ****     return 0;
 2139              		.loc 1 1075 26 view .LVU641
 2140 0064 DFED097A 		vldr.32	s15, .L162+4
 2141 0068 77EE277A 		vadd.f32	s15, s14, s15
1075:Drivers/MPU6050/inv_mpu.c ****     return 0;
 2142              		.loc 1 1075 15 view .LVU642
 2143 006c FEEEC87A 		vcvt.s32.f32	s15, s15, #16
1075:Drivers/MPU6050/inv_mpu.c ****     return 0;
 2144              		.loc 1 1075 13 view .LVU643
 2145 0070 C6ED007A 		vstr.32	s15, [r6]	@ int
1076:Drivers/MPU6050/inv_mpu.c **** }
 2146              		.loc 1 1076 5 is_stmt 1 view .LVU644
1076:Drivers/MPU6050/inv_mpu.c **** }
 2147              		.loc 1 1076 12 is_stmt 0 view .LVU645
 2148 0074 0020     		movs	r0, #0
 2149              	.LVL150:
 2150              	.L153:
1077:Drivers/MPU6050/inv_mpu.c **** 
 2151              		.loc 1 1077 1 view .LVU646
 2152 0076 02B0     		add	sp, sp, #8
 2153              	.LCFI38:
 2154              		.cfi_def_cfa_offset 16
 2155              		@ sp needed
 2156 0078 70BD     		pop	{r4, r5, r6, pc}
 2157              	.LVL151:
 2158              	.L156:
 2159              	.LCFI39:
 2160              		.cfi_def_cfa_offset 0
 2161              		.cfi_restore 4
 2162              		.cfi_restore 5
 2163              		.cfi_restore 6
 2164              		.cfi_restore 14
1067:Drivers/MPU6050/inv_mpu.c **** 
 2165              		.loc 1 1067 16 view .LVU647
 2166 007a 4FF0FF30 		mov	r0, #-1
 2167              	.LVL152:
1077:Drivers/MPU6050/inv_mpu.c **** 
 2168              		.loc 1 1077 1 view .LVU648
 2169 007e 7047     		bx	lr
 2170              	.LVL153:
 2171              	.L157:
 2172              	.LCFI40:
 2173              		.cfi_def_cfa_offset 24
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 84


 2174              		.cfi_offset 4, -16
 2175              		.cfi_offset 5, -12
 2176              		.cfi_offset 6, -8
 2177              		.cfi_offset 14, -4
1070:Drivers/MPU6050/inv_mpu.c ****     raw = (tmp[0] << 8) | tmp[1];
 2178              		.loc 1 1070 16 view .LVU649
 2179 0080 4FF0FF30 		mov	r0, #-1
 2180 0084 F7E7     		b	.L153
 2181              	.L163:
 2182 0086 00BF     		.align	2
 2183              	.L162:
 2184 0088 00000000 		.word	.LANCHOR0
 2185 008c 00000C42 		.word	1108082688
 2186              		.cfi_endproc
 2187              	.LFE568:
 2189              		.section	.text.mpu_get_temp_reg,"ax",%progbits
 2190              		.align	1
 2191              		.global	mpu_get_temp_reg
 2192              		.syntax unified
 2193              		.thumb
 2194              		.thumb_func
 2196              	mpu_get_temp_reg:
 2197              	.LVL154:
 2198              	.LFB569:
1080:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
 2199              		.loc 1 1080 1 is_stmt 1 view -0
 2200              		.cfi_startproc
 2201              		@ args = 0, pretend = 0, frame = 8
 2202              		@ frame_needed = 0, uses_anonymous_args = 0
1081:Drivers/MPU6050/inv_mpu.c ****     short raw;
 2203              		.loc 1 1081 5 view .LVU651
1082:Drivers/MPU6050/inv_mpu.c **** 
 2204              		.loc 1 1082 5 view .LVU652
1084:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2205              		.loc 1 1084 5 view .LVU653
1084:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2206              		.loc 1 1084 22 is_stmt 0 view .LVU654
 2207 0000 124B     		ldr	r3, .L173
 2208 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1084:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2209              		.loc 1 1084 8 view .LVU655
 2210 0004 E3B1     		cbz	r3, .L167
1080:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
 2211              		.loc 1 1080 1 view .LVU656
 2212 0006 70B5     		push	{r4, r5, r6, lr}
 2213              	.LCFI41:
 2214              		.cfi_def_cfa_offset 16
 2215              		.cfi_offset 4, -16
 2216              		.cfi_offset 5, -12
 2217              		.cfi_offset 6, -8
 2218              		.cfi_offset 14, -4
 2219 0008 82B0     		sub	sp, sp, #8
 2220              	.LCFI42:
 2221              		.cfi_def_cfa_offset 24
 2222 000a 0646     		mov	r6, r0
 2223 000c 0D46     		mov	r5, r1
1087:Drivers/MPU6050/inv_mpu.c ****         return -1;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 85


 2224              		.loc 1 1087 5 is_stmt 1 view .LVU657
1087:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2225              		.loc 1 1087 20 is_stmt 0 view .LVU658
 2226 000e 0F4B     		ldr	r3, .L173
 2227 0010 5868     		ldr	r0, [r3, #4]
 2228              	.LVL155:
1087:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2229              		.loc 1 1087 33 view .LVU659
 2230 0012 1968     		ldr	r1, [r3]
 2231              	.LVL156:
1087:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2232              		.loc 1 1087 9 view .LVU660
 2233 0014 01AB     		add	r3, sp, #4
 2234 0016 0222     		movs	r2, #2
 2235 0018 897B     		ldrb	r1, [r1, #14]	@ zero_extendqisi2
 2236 001a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2237 001c FFF7FEFF 		bl	i2cread
 2238              	.LVL157:
1087:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2239              		.loc 1 1087 8 view .LVU661
 2240 0020 88B9     		cbnz	r0, .L168
1089:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 2241              		.loc 1 1089 5 is_stmt 1 view .LVU662
1089:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 2242              		.loc 1 1089 15 is_stmt 0 view .LVU663
 2243 0022 9DF80440 		ldrb	r4, [sp, #4]	@ zero_extendqisi2
1089:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 2244              		.loc 1 1089 19 view .LVU664
 2245 0026 2402     		lsls	r4, r4, #8
1089:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 2246              		.loc 1 1089 25 view .LVU665
 2247 0028 24B2     		sxth	r4, r4
1089:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 2248              		.loc 1 1089 30 view .LVU666
 2249 002a 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
1089:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
 2250              		.loc 1 1089 9 view .LVU667
 2251 002e 1C43     		orrs	r4, r4, r3
 2252              	.LVL158:
1090:Drivers/MPU6050/inv_mpu.c ****         get_ms(timestamp);
 2253              		.loc 1 1090 5 is_stmt 1 view .LVU668
1090:Drivers/MPU6050/inv_mpu.c ****         get_ms(timestamp);
 2254              		.loc 1 1090 8 is_stmt 0 view .LVU669
 2255 0030 15B1     		cbz	r5, .L166
1091:Drivers/MPU6050/inv_mpu.c **** 
 2256              		.loc 1 1091 9 is_stmt 1 view .LVU670
 2257 0032 2846     		mov	r0, r5
 2258 0034 FFF7FEFF 		bl	get_ms
 2259              	.LVL159:
 2260              	.L166:
1093:Drivers/MPU6050/inv_mpu.c ****     return 0;
 2261              		.loc 1 1093 5 view .LVU671
1093:Drivers/MPU6050/inv_mpu.c ****     return 0;
 2262              		.loc 1 1093 13 is_stmt 0 view .LVU672
 2263 0038 3480     		strh	r4, [r6]	@ movhi
1094:Drivers/MPU6050/inv_mpu.c **** }
 2264              		.loc 1 1094 5 is_stmt 1 view .LVU673
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 86


1094:Drivers/MPU6050/inv_mpu.c **** }
 2265              		.loc 1 1094 12 is_stmt 0 view .LVU674
 2266 003a 0020     		movs	r0, #0
 2267              	.LVL160:
 2268              	.L164:
1095:Drivers/MPU6050/inv_mpu.c **** 
 2269              		.loc 1 1095 1 view .LVU675
 2270 003c 02B0     		add	sp, sp, #8
 2271              	.LCFI43:
 2272              		.cfi_def_cfa_offset 16
 2273              		@ sp needed
 2274 003e 70BD     		pop	{r4, r5, r6, pc}
 2275              	.LVL161:
 2276              	.L167:
 2277              	.LCFI44:
 2278              		.cfi_def_cfa_offset 0
 2279              		.cfi_restore 4
 2280              		.cfi_restore 5
 2281              		.cfi_restore 6
 2282              		.cfi_restore 14
1085:Drivers/MPU6050/inv_mpu.c **** 
 2283              		.loc 1 1085 16 view .LVU676
 2284 0040 4FF0FF30 		mov	r0, #-1
 2285              	.LVL162:
1095:Drivers/MPU6050/inv_mpu.c **** 
 2286              		.loc 1 1095 1 view .LVU677
 2287 0044 7047     		bx	lr
 2288              	.LVL163:
 2289              	.L168:
 2290              	.LCFI45:
 2291              		.cfi_def_cfa_offset 24
 2292              		.cfi_offset 4, -16
 2293              		.cfi_offset 5, -12
 2294              		.cfi_offset 6, -8
 2295              		.cfi_offset 14, -4
1088:Drivers/MPU6050/inv_mpu.c ****     raw = (tmp[0] << 8) | tmp[1];
 2296              		.loc 1 1088 16 view .LVU678
 2297 0046 4FF0FF30 		mov	r0, #-1
 2298 004a F7E7     		b	.L164
 2299              	.L174:
 2300              		.align	2
 2301              	.L173:
 2302 004c 00000000 		.word	.LANCHOR0
 2303              		.cfi_endproc
 2304              	.LFE569:
 2306              		.section	.text.mpu_set_accel_bias,"ax",%progbits
 2307              		.align	1
 2308              		.global	mpu_set_accel_bias
 2309              		.syntax unified
 2310              		.thumb
 2311              		.thumb_func
 2313              	mpu_set_accel_bias:
 2314              	.LVL164:
 2315              	.LFB570:
1105:Drivers/MPU6050/inv_mpu.c ****     unsigned char data[6];
 2316              		.loc 1 1105 1 is_stmt 1 view -0
 2317              		.cfi_startproc
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 87


 2318              		@ args = 0, pretend = 0, frame = 32
 2319              		@ frame_needed = 0, uses_anonymous_args = 0
1106:Drivers/MPU6050/inv_mpu.c ****     short accel_hw[3];
 2320              		.loc 1 1106 5 view .LVU680
1107:Drivers/MPU6050/inv_mpu.c ****     short got_accel[3];
 2321              		.loc 1 1107 5 view .LVU681
1108:Drivers/MPU6050/inv_mpu.c ****     short fg[3];
 2322              		.loc 1 1108 5 view .LVU682
1109:Drivers/MPU6050/inv_mpu.c **** 
 2323              		.loc 1 1109 5 view .LVU683
1111:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2324              		.loc 1 1111 5 view .LVU684
1111:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2325              		.loc 1 1111 8 is_stmt 0 view .LVU685
 2326 0000 0028     		cmp	r0, #0
 2327 0002 00F09580 		beq	.L178
1105:Drivers/MPU6050/inv_mpu.c ****     unsigned char data[6];
 2328              		.loc 1 1105 1 view .LVU686
 2329 0006 70B5     		push	{r4, r5, r6, lr}
 2330              	.LCFI46:
 2331              		.cfi_def_cfa_offset 16
 2332              		.cfi_offset 4, -16
 2333              		.cfi_offset 5, -12
 2334              		.cfi_offset 6, -8
 2335              		.cfi_offset 14, -4
 2336 0008 88B0     		sub	sp, sp, #32
 2337              	.LCFI47:
 2338              		.cfi_def_cfa_offset 48
 2339 000a 0446     		mov	r4, r0
1113:Drivers/MPU6050/inv_mpu.c ****         return 0;
 2340              		.loc 1 1113 5 is_stmt 1 view .LVU687
1113:Drivers/MPU6050/inv_mpu.c ****         return 0;
 2341              		.loc 1 1113 20 is_stmt 0 view .LVU688
 2342 000c 0368     		ldr	r3, [r0]
1113:Drivers/MPU6050/inv_mpu.c ****         return 0;
 2343              		.loc 1 1113 8 view .LVU689
 2344 000e 2BB9     		cbnz	r3, .L177
1113:Drivers/MPU6050/inv_mpu.c ****         return 0;
 2345              		.loc 1 1113 38 discriminator 1 view .LVU690
 2346 0010 4368     		ldr	r3, [r0, #4]
1113:Drivers/MPU6050/inv_mpu.c ****         return 0;
 2347              		.loc 1 1113 24 discriminator 1 view .LVU691
 2348 0012 1BB9     		cbnz	r3, .L177
1113:Drivers/MPU6050/inv_mpu.c ****         return 0;
 2349              		.loc 1 1113 56 discriminator 2 view .LVU692
 2350 0014 8068     		ldr	r0, [r0, #8]
 2351              	.LVL165:
1113:Drivers/MPU6050/inv_mpu.c ****         return 0;
 2352              		.loc 1 1113 42 discriminator 2 view .LVU693
 2353 0016 0028     		cmp	r0, #0
 2354 0018 00F08880 		beq	.L175
 2355              	.L177:
1116:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2356              		.loc 1 1116 5 is_stmt 1 view .LVU694
1116:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2357              		.loc 1 1116 20 is_stmt 0 view .LVU695
 2358 001c 4A4B     		ldr	r3, .L186
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 88


 2359 001e 5868     		ldr	r0, [r3, #4]
1116:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2360              		.loc 1 1116 9 view .LVU696
 2361 0020 06AB     		add	r3, sp, #24
 2362 0022 0322     		movs	r2, #3
 2363 0024 1146     		mov	r1, r2
 2364 0026 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2365 0028 FFF7FEFF 		bl	i2cread
 2366              	.LVL166:
1116:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2367              		.loc 1 1116 8 view .LVU697
 2368 002c 0028     		cmp	r0, #0
 2369 002e 40F08280 		bne	.L179
1118:Drivers/MPU6050/inv_mpu.c ****     fg[1] = ((data[1] >> 4) + 8) & 0xf;
 2370              		.loc 1 1118 5 is_stmt 1 view .LVU698
1118:Drivers/MPU6050/inv_mpu.c ****     fg[1] = ((data[1] >> 4) + 8) & 0xf;
 2371              		.loc 1 1118 19 is_stmt 0 view .LVU699
 2372 0032 9DF81820 		ldrb	r2, [sp, #24]	@ zero_extendqisi2
1118:Drivers/MPU6050/inv_mpu.c ****     fg[1] = ((data[1] >> 4) + 8) & 0xf;
 2373              		.loc 1 1118 29 view .LVU700
 2374 0036 1209     		lsrs	r2, r2, #4
 2375 0038 0832     		adds	r2, r2, #8
1118:Drivers/MPU6050/inv_mpu.c ****     fg[1] = ((data[1] >> 4) + 8) & 0xf;
 2376              		.loc 1 1118 34 view .LVU701
 2377 003a 02F00F02 		and	r2, r2, #15
1118:Drivers/MPU6050/inv_mpu.c ****     fg[1] = ((data[1] >> 4) + 8) & 0xf;
 2378              		.loc 1 1118 11 view .LVU702
 2379 003e ADF80020 		strh	r2, [sp]	@ movhi
1119:Drivers/MPU6050/inv_mpu.c ****     fg[2] = ((data[2] >> 4) + 8) & 0xf;
 2380              		.loc 1 1119 5 is_stmt 1 view .LVU703
1119:Drivers/MPU6050/inv_mpu.c ****     fg[2] = ((data[2] >> 4) + 8) & 0xf;
 2381              		.loc 1 1119 19 is_stmt 0 view .LVU704
 2382 0042 9DF81900 		ldrb	r0, [sp, #25]	@ zero_extendqisi2
1119:Drivers/MPU6050/inv_mpu.c ****     fg[2] = ((data[2] >> 4) + 8) & 0xf;
 2383              		.loc 1 1119 29 view .LVU705
 2384 0046 0009     		lsrs	r0, r0, #4
 2385 0048 0830     		adds	r0, r0, #8
1119:Drivers/MPU6050/inv_mpu.c ****     fg[2] = ((data[2] >> 4) + 8) & 0xf;
 2386              		.loc 1 1119 34 view .LVU706
 2387 004a 00F00F00 		and	r0, r0, #15
1119:Drivers/MPU6050/inv_mpu.c ****     fg[2] = ((data[2] >> 4) + 8) & 0xf;
 2388              		.loc 1 1119 11 view .LVU707
 2389 004e ADF80200 		strh	r0, [sp, #2]	@ movhi
1120:Drivers/MPU6050/inv_mpu.c **** 
 2390              		.loc 1 1120 5 is_stmt 1 view .LVU708
1120:Drivers/MPU6050/inv_mpu.c **** 
 2391              		.loc 1 1120 19 is_stmt 0 view .LVU709
 2392 0052 9DF81A10 		ldrb	r1, [sp, #26]	@ zero_extendqisi2
1120:Drivers/MPU6050/inv_mpu.c **** 
 2393              		.loc 1 1120 29 view .LVU710
 2394 0056 0909     		lsrs	r1, r1, #4
 2395 0058 0831     		adds	r1, r1, #8
1120:Drivers/MPU6050/inv_mpu.c **** 
 2396              		.loc 1 1120 34 view .LVU711
 2397 005a 01F00F01 		and	r1, r1, #15
1120:Drivers/MPU6050/inv_mpu.c **** 
 2398              		.loc 1 1120 11 view .LVU712
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 89


 2399 005e ADF80410 		strh	r1, [sp, #4]	@ movhi
1122:Drivers/MPU6050/inv_mpu.c ****     accel_hw[1] = (short)(accel_bias[1] * 2 / (64 + fg[1]));
 2400              		.loc 1 1122 5 is_stmt 1 view .LVU713
1122:Drivers/MPU6050/inv_mpu.c ****     accel_hw[1] = (short)(accel_bias[1] * 2 / (64 + fg[1]));
 2401              		.loc 1 1122 37 is_stmt 0 view .LVU714
 2402 0062 2668     		ldr	r6, [r4]
1122:Drivers/MPU6050/inv_mpu.c ****     accel_hw[1] = (short)(accel_bias[1] * 2 / (64 + fg[1]));
 2403              		.loc 1 1122 41 view .LVU715
 2404 0064 7600     		lsls	r6, r6, #1
1122:Drivers/MPU6050/inv_mpu.c ****     accel_hw[1] = (short)(accel_bias[1] * 2 / (64 + fg[1]));
 2405              		.loc 1 1122 51 view .LVU716
 2406 0066 4032     		adds	r2, r2, #64
1122:Drivers/MPU6050/inv_mpu.c ****     accel_hw[1] = (short)(accel_bias[1] * 2 / (64 + fg[1]));
 2407              		.loc 1 1122 45 view .LVU717
 2408 0068 96FBF2F2 		sdiv	r2, r6, r2
1122:Drivers/MPU6050/inv_mpu.c ****     accel_hw[1] = (short)(accel_bias[1] * 2 / (64 + fg[1]));
 2409              		.loc 1 1122 19 view .LVU718
 2410 006c 16B2     		sxth	r6, r2
1122:Drivers/MPU6050/inv_mpu.c ****     accel_hw[1] = (short)(accel_bias[1] * 2 / (64 + fg[1]));
 2411              		.loc 1 1122 17 view .LVU719
 2412 006e ADF81060 		strh	r6, [sp, #16]	@ movhi
1123:Drivers/MPU6050/inv_mpu.c ****     accel_hw[2] = (short)(accel_bias[2] * 2 / (64 + fg[2]));
 2413              		.loc 1 1123 5 is_stmt 1 view .LVU720
1123:Drivers/MPU6050/inv_mpu.c ****     accel_hw[2] = (short)(accel_bias[2] * 2 / (64 + fg[2]));
 2414              		.loc 1 1123 37 is_stmt 0 view .LVU721
 2415 0072 6268     		ldr	r2, [r4, #4]
1123:Drivers/MPU6050/inv_mpu.c ****     accel_hw[2] = (short)(accel_bias[2] * 2 / (64 + fg[2]));
 2416              		.loc 1 1123 41 view .LVU722
 2417 0074 5200     		lsls	r2, r2, #1
1123:Drivers/MPU6050/inv_mpu.c ****     accel_hw[2] = (short)(accel_bias[2] * 2 / (64 + fg[2]));
 2418              		.loc 1 1123 51 view .LVU723
 2419 0076 4030     		adds	r0, r0, #64
1123:Drivers/MPU6050/inv_mpu.c ****     accel_hw[2] = (short)(accel_bias[2] * 2 / (64 + fg[2]));
 2420              		.loc 1 1123 45 view .LVU724
 2421 0078 92FBF0F0 		sdiv	r0, r2, r0
1123:Drivers/MPU6050/inv_mpu.c ****     accel_hw[2] = (short)(accel_bias[2] * 2 / (64 + fg[2]));
 2422              		.loc 1 1123 19 view .LVU725
 2423 007c 05B2     		sxth	r5, r0
1123:Drivers/MPU6050/inv_mpu.c ****     accel_hw[2] = (short)(accel_bias[2] * 2 / (64 + fg[2]));
 2424              		.loc 1 1123 17 view .LVU726
 2425 007e ADF81250 		strh	r5, [sp, #18]	@ movhi
1124:Drivers/MPU6050/inv_mpu.c **** 
 2426              		.loc 1 1124 5 is_stmt 1 view .LVU727
1124:Drivers/MPU6050/inv_mpu.c **** 
 2427              		.loc 1 1124 37 is_stmt 0 view .LVU728
 2428 0082 A368     		ldr	r3, [r4, #8]
1124:Drivers/MPU6050/inv_mpu.c **** 
 2429              		.loc 1 1124 41 view .LVU729
 2430 0084 5B00     		lsls	r3, r3, #1
1124:Drivers/MPU6050/inv_mpu.c **** 
 2431              		.loc 1 1124 51 view .LVU730
 2432 0086 01F14004 		add	r4, r1, #64
 2433              	.LVL167:
1124:Drivers/MPU6050/inv_mpu.c **** 
 2434              		.loc 1 1124 45 view .LVU731
 2435 008a 93FBF4F3 		sdiv	r3, r3, r4
1124:Drivers/MPU6050/inv_mpu.c **** 
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 90


 2436              		.loc 1 1124 19 view .LVU732
 2437 008e 1CB2     		sxth	r4, r3
1124:Drivers/MPU6050/inv_mpu.c **** 
 2438              		.loc 1 1124 17 view .LVU733
 2439 0090 ADF81440 		strh	r4, [sp, #20]	@ movhi
1126:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2440              		.loc 1 1126 5 is_stmt 1 view .LVU734
1126:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2441              		.loc 1 1126 20 is_stmt 0 view .LVU735
 2442 0094 2C4B     		ldr	r3, .L186
 2443 0096 5868     		ldr	r0, [r3, #4]
1126:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2444              		.loc 1 1126 9 view .LVU736
 2445 0098 06AB     		add	r3, sp, #24
 2446 009a 0622     		movs	r2, #6
 2447 009c 1146     		mov	r1, r2
 2448 009e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2449 00a0 FFF7FEFF 		bl	i2cread
 2450              	.LVL168:
1126:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2451              		.loc 1 1126 8 view .LVU737
 2452 00a4 0028     		cmp	r0, #0
 2453 00a6 49D1     		bne	.L180
1129:Drivers/MPU6050/inv_mpu.c ****     got_accel[1] = ((short)data[2] << 8) | data[3];
 2454              		.loc 1 1129 5 is_stmt 1 view .LVU738
1129:Drivers/MPU6050/inv_mpu.c ****     got_accel[1] = ((short)data[2] << 8) | data[3];
 2455              		.loc 1 1129 32 is_stmt 0 view .LVU739
 2456 00a8 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
1129:Drivers/MPU6050/inv_mpu.c ****     got_accel[1] = ((short)data[2] << 8) | data[3];
 2457              		.loc 1 1129 48 view .LVU740
 2458 00ac 9DF81910 		ldrb	r1, [sp, #25]	@ zero_extendqisi2
1129:Drivers/MPU6050/inv_mpu.c ****     got_accel[1] = ((short)data[2] << 8) | data[3];
 2459              		.loc 1 1129 42 view .LVU741
 2460 00b0 41EA0321 		orr	r1, r1, r3, lsl #8
 2461 00b4 09B2     		sxth	r1, r1
1129:Drivers/MPU6050/inv_mpu.c ****     got_accel[1] = ((short)data[2] << 8) | data[3];
 2462              		.loc 1 1129 18 view .LVU742
 2463 00b6 ADF80810 		strh	r1, [sp, #8]	@ movhi
1130:Drivers/MPU6050/inv_mpu.c ****     got_accel[2] = ((short)data[4] << 8) | data[5];
 2464              		.loc 1 1130 5 is_stmt 1 view .LVU743
1130:Drivers/MPU6050/inv_mpu.c ****     got_accel[2] = ((short)data[4] << 8) | data[5];
 2465              		.loc 1 1130 32 is_stmt 0 view .LVU744
 2466 00ba 9DF81A30 		ldrb	r3, [sp, #26]	@ zero_extendqisi2
1130:Drivers/MPU6050/inv_mpu.c ****     got_accel[2] = ((short)data[4] << 8) | data[5];
 2467              		.loc 1 1130 48 view .LVU745
 2468 00be 9DF81B20 		ldrb	r2, [sp, #27]	@ zero_extendqisi2
1130:Drivers/MPU6050/inv_mpu.c ****     got_accel[2] = ((short)data[4] << 8) | data[5];
 2469              		.loc 1 1130 42 view .LVU746
 2470 00c2 42EA0322 		orr	r2, r2, r3, lsl #8
 2471 00c6 12B2     		sxth	r2, r2
1130:Drivers/MPU6050/inv_mpu.c ****     got_accel[2] = ((short)data[4] << 8) | data[5];
 2472              		.loc 1 1130 18 view .LVU747
 2473 00c8 ADF80A20 		strh	r2, [sp, #10]	@ movhi
1131:Drivers/MPU6050/inv_mpu.c **** 
 2474              		.loc 1 1131 5 is_stmt 1 view .LVU748
1131:Drivers/MPU6050/inv_mpu.c **** 
 2475              		.loc 1 1131 32 is_stmt 0 view .LVU749
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 91


 2476 00cc 9DF81C00 		ldrb	r0, [sp, #28]	@ zero_extendqisi2
1131:Drivers/MPU6050/inv_mpu.c **** 
 2477              		.loc 1 1131 48 view .LVU750
 2478 00d0 9DF81D30 		ldrb	r3, [sp, #29]	@ zero_extendqisi2
1131:Drivers/MPU6050/inv_mpu.c **** 
 2479              		.loc 1 1131 42 view .LVU751
 2480 00d4 43EA0023 		orr	r3, r3, r0, lsl #8
 2481 00d8 1BB2     		sxth	r3, r3
1131:Drivers/MPU6050/inv_mpu.c **** 
 2482              		.loc 1 1131 18 view .LVU752
 2483 00da ADF80C30 		strh	r3, [sp, #12]	@ movhi
1133:Drivers/MPU6050/inv_mpu.c ****     accel_hw[1] += got_accel[1];
 2484              		.loc 1 1133 5 is_stmt 1 view .LVU753
1133:Drivers/MPU6050/inv_mpu.c ****     accel_hw[1] += got_accel[1];
 2485              		.loc 1 1133 17 is_stmt 0 view .LVU754
 2486 00de 16FA81F6 		uxtah	r6, r6, r1
 2487 00e2 36B2     		sxth	r6, r6
 2488 00e4 ADF81060 		strh	r6, [sp, #16]	@ movhi
1134:Drivers/MPU6050/inv_mpu.c ****     accel_hw[2] += got_accel[2];
 2489              		.loc 1 1134 5 is_stmt 1 view .LVU755
1134:Drivers/MPU6050/inv_mpu.c ****     accel_hw[2] += got_accel[2];
 2490              		.loc 1 1134 17 is_stmt 0 view .LVU756
 2491 00e8 15FA82F2 		uxtah	r2, r5, r2
 2492 00ec 12B2     		sxth	r2, r2
 2493 00ee ADF81220 		strh	r2, [sp, #18]	@ movhi
1135:Drivers/MPU6050/inv_mpu.c **** 
 2494              		.loc 1 1135 5 is_stmt 1 view .LVU757
1135:Drivers/MPU6050/inv_mpu.c **** 
 2495              		.loc 1 1135 17 is_stmt 0 view .LVU758
 2496 00f2 14FA83F3 		uxtah	r3, r4, r3
 2497 00f6 1BB2     		sxth	r3, r3
 2498 00f8 ADF81430 		strh	r3, [sp, #20]	@ movhi
1137:Drivers/MPU6050/inv_mpu.c ****     data[1] = (accel_hw[0]) & 0xff;
 2499              		.loc 1 1137 5 is_stmt 1 view .LVU759
1137:Drivers/MPU6050/inv_mpu.c ****     data[1] = (accel_hw[0]) & 0xff;
 2500              		.loc 1 1137 13 is_stmt 0 view .LVU760
 2501 00fc 3112     		asrs	r1, r6, #8
 2502 00fe 8DF81810 		strb	r1, [sp, #24]
1138:Drivers/MPU6050/inv_mpu.c ****     data[2] = (accel_hw[1] >> 8) & 0xff;
 2503              		.loc 1 1138 5 is_stmt 1 view .LVU761
1138:Drivers/MPU6050/inv_mpu.c ****     data[2] = (accel_hw[1] >> 8) & 0xff;
 2504              		.loc 1 1138 13 is_stmt 0 view .LVU762
 2505 0102 8DF81960 		strb	r6, [sp, #25]
1139:Drivers/MPU6050/inv_mpu.c ****     data[3] = (accel_hw[1]) & 0xff;
 2506              		.loc 1 1139 5 is_stmt 1 view .LVU763
1139:Drivers/MPU6050/inv_mpu.c ****     data[3] = (accel_hw[1]) & 0xff;
 2507              		.loc 1 1139 13 is_stmt 0 view .LVU764
 2508 0106 1112     		asrs	r1, r2, #8
 2509 0108 8DF81A10 		strb	r1, [sp, #26]
1140:Drivers/MPU6050/inv_mpu.c ****     data[4] = (accel_hw[2] >> 8) & 0xff;
 2510              		.loc 1 1140 5 is_stmt 1 view .LVU765
1140:Drivers/MPU6050/inv_mpu.c ****     data[4] = (accel_hw[2] >> 8) & 0xff;
 2511              		.loc 1 1140 13 is_stmt 0 view .LVU766
 2512 010c 8DF81B20 		strb	r2, [sp, #27]
1141:Drivers/MPU6050/inv_mpu.c ****     data[5] = (accel_hw[2]) & 0xff;
 2513              		.loc 1 1141 5 is_stmt 1 view .LVU767
1141:Drivers/MPU6050/inv_mpu.c ****     data[5] = (accel_hw[2]) & 0xff;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 92


 2514              		.loc 1 1141 13 is_stmt 0 view .LVU768
 2515 0110 1A12     		asrs	r2, r3, #8
 2516 0112 8DF81C20 		strb	r2, [sp, #28]
1142:Drivers/MPU6050/inv_mpu.c **** 
 2517              		.loc 1 1142 5 is_stmt 1 view .LVU769
1142:Drivers/MPU6050/inv_mpu.c **** 
 2518              		.loc 1 1142 13 is_stmt 0 view .LVU770
 2519 0116 8DF81D30 		strb	r3, [sp, #29]
1144:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2520              		.loc 1 1144 5 is_stmt 1 view .LVU771
1144:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2521              		.loc 1 1144 21 is_stmt 0 view .LVU772
 2522 011a 0B4B     		ldr	r3, .L186
 2523 011c 5868     		ldr	r0, [r3, #4]
1144:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2524              		.loc 1 1144 9 view .LVU773
 2525 011e 06AB     		add	r3, sp, #24
 2526 0120 0622     		movs	r2, #6
 2527 0122 1146     		mov	r1, r2
 2528 0124 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2529 0126 FFF7FEFF 		bl	i2cwrite
 2530              	.LVL169:
1144:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2531              		.loc 1 1144 8 view .LVU774
 2532 012a 50B9     		cbnz	r0, .L181
 2533              	.L175:
1147:Drivers/MPU6050/inv_mpu.c **** 
 2534              		.loc 1 1147 1 view .LVU775
 2535 012c 08B0     		add	sp, sp, #32
 2536              	.LCFI48:
 2537              		.cfi_def_cfa_offset 16
 2538              		@ sp needed
 2539 012e 70BD     		pop	{r4, r5, r6, pc}
 2540              	.LVL170:
 2541              	.L178:
 2542              	.LCFI49:
 2543              		.cfi_def_cfa_offset 0
 2544              		.cfi_restore 4
 2545              		.cfi_restore 5
 2546              		.cfi_restore 6
 2547              		.cfi_restore 14
1112:Drivers/MPU6050/inv_mpu.c ****     if (!accel_bias[0] && !accel_bias[1] && !accel_bias[2])
 2548              		.loc 1 1112 16 view .LVU776
 2549 0130 4FF0FF30 		mov	r0, #-1
 2550              	.LVL171:
1147:Drivers/MPU6050/inv_mpu.c **** 
 2551              		.loc 1 1147 1 view .LVU777
 2552 0134 7047     		bx	lr
 2553              	.LVL172:
 2554              	.L179:
 2555              	.LCFI50:
 2556              		.cfi_def_cfa_offset 48
 2557              		.cfi_offset 4, -16
 2558              		.cfi_offset 5, -12
 2559              		.cfi_offset 6, -8
 2560              		.cfi_offset 14, -4
1117:Drivers/MPU6050/inv_mpu.c ****     fg[0] = ((data[0] >> 4) + 8) & 0xf;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 93


 2561              		.loc 1 1117 16 view .LVU778
 2562 0136 4FF0FF30 		mov	r0, #-1
 2563 013a F7E7     		b	.L175
 2564              	.LVL173:
 2565              	.L180:
1127:Drivers/MPU6050/inv_mpu.c **** 
 2566              		.loc 1 1127 16 view .LVU779
 2567 013c 4FF0FF30 		mov	r0, #-1
 2568 0140 F4E7     		b	.L175
 2569              	.L181:
1145:Drivers/MPU6050/inv_mpu.c ****     return 0;
 2570              		.loc 1 1145 16 view .LVU780
 2571 0142 4FF0FF30 		mov	r0, #-1
 2572 0146 F1E7     		b	.L175
 2573              	.L187:
 2574              		.align	2
 2575              	.L186:
 2576 0148 00000000 		.word	.LANCHOR0
 2577              		.cfi_endproc
 2578              	.LFE570:
 2580              		.section	.text.mpu_reset_fifo,"ax",%progbits
 2581              		.align	1
 2582              		.global	mpu_reset_fifo
 2583              		.syntax unified
 2584              		.thumb
 2585              		.thumb_func
 2587              	mpu_reset_fifo:
 2588              	.LFB571:
1154:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
 2589              		.loc 1 1154 1 is_stmt 1 view -0
 2590              		.cfi_startproc
 2591              		@ args = 0, pretend = 0, frame = 8
 2592              		@ frame_needed = 0, uses_anonymous_args = 0
1155:Drivers/MPU6050/inv_mpu.c **** 
 2593              		.loc 1 1155 5 view .LVU782
1157:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2594              		.loc 1 1157 5 view .LVU783
1157:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2595              		.loc 1 1157 22 is_stmt 0 view .LVU784
 2596 0000 7C4B     		ldr	r3, .L215
 2597 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1157:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2598              		.loc 1 1157 8 view .LVU785
 2599 0004 002B     		cmp	r3, #0
 2600 0006 00F0D480 		beq	.L199
1154:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
 2601              		.loc 1 1154 1 view .LVU786
 2602 000a 00B5     		push	{lr}
 2603              	.LCFI51:
 2604              		.cfi_def_cfa_offset 4
 2605              		.cfi_offset 14, -4
 2606 000c 83B0     		sub	sp, sp, #12
 2607              	.LCFI52:
 2608              		.cfi_def_cfa_offset 16
1160:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
 2609              		.loc 1 1160 5 is_stmt 1 view .LVU787
1160:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 94


 2610              		.loc 1 1160 10 is_stmt 0 view .LVU788
 2611 000e 0023     		movs	r3, #0
 2612 0010 8DF80730 		strb	r3, [sp, #7]
1161:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2613              		.loc 1 1161 5 is_stmt 1 view .LVU789
1161:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2614              		.loc 1 1161 21 is_stmt 0 view .LVU790
 2615 0014 774B     		ldr	r3, .L215
 2616 0016 5868     		ldr	r0, [r3, #4]
1161:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2617              		.loc 1 1161 34 view .LVU791
 2618 0018 1968     		ldr	r1, [r3]
1161:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2619              		.loc 1 1161 9 view .LVU792
 2620 001a 0DF10703 		add	r3, sp, #7
 2621 001e 0122     		movs	r2, #1
 2622 0020 C97B     		ldrb	r1, [r1, #15]	@ zero_extendqisi2
 2623 0022 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2624 0024 FFF7FEFF 		bl	i2cwrite
 2625              	.LVL174:
1161:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2626              		.loc 1 1161 8 view .LVU793
 2627 0028 0028     		cmp	r0, #0
 2628 002a 40F0C580 		bne	.L200
1163:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2629              		.loc 1 1163 5 is_stmt 1 view .LVU794
1163:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2630              		.loc 1 1163 21 is_stmt 0 view .LVU795
 2631 002e 714B     		ldr	r3, .L215
 2632 0030 5868     		ldr	r0, [r3, #4]
1163:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2633              		.loc 1 1163 34 view .LVU796
 2634 0032 1968     		ldr	r1, [r3]
1163:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2635              		.loc 1 1163 9 view .LVU797
 2636 0034 0DF10703 		add	r3, sp, #7
 2637 0038 0122     		movs	r2, #1
 2638 003a 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 2639 003c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2640 003e FFF7FEFF 		bl	i2cwrite
 2641              	.LVL175:
1163:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2642              		.loc 1 1163 8 view .LVU798
 2643 0042 0028     		cmp	r0, #0
 2644 0044 40F0BB80 		bne	.L201
1165:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2645              		.loc 1 1165 5 is_stmt 1 view .LVU799
1165:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2646              		.loc 1 1165 21 is_stmt 0 view .LVU800
 2647 0048 6A4B     		ldr	r3, .L215
 2648 004a 5868     		ldr	r0, [r3, #4]
1165:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2649              		.loc 1 1165 34 view .LVU801
 2650 004c 1968     		ldr	r1, [r3]
1165:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2651              		.loc 1 1165 9 view .LVU802
 2652 004e 0DF10703 		add	r3, sp, #7
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 95


 2653 0052 0122     		movs	r2, #1
 2654 0054 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 2655 0056 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2656 0058 FFF7FEFF 		bl	i2cwrite
 2657              	.LVL176:
1165:Drivers/MPU6050/inv_mpu.c ****         return -1;
 2658              		.loc 1 1165 8 view .LVU803
 2659 005c 0028     		cmp	r0, #0
 2660 005e 40F0B180 		bne	.L202
1168:Drivers/MPU6050/inv_mpu.c ****         data = BIT_FIFO_RST | BIT_DMP_RST;
 2661              		.loc 1 1168 5 is_stmt 1 view .LVU804
1168:Drivers/MPU6050/inv_mpu.c ****         data = BIT_FIFO_RST | BIT_DMP_RST;
 2662              		.loc 1 1168 20 is_stmt 0 view .LVU805
 2663 0062 644B     		ldr	r3, .L215
 2664 0064 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1168:Drivers/MPU6050/inv_mpu.c ****         data = BIT_FIFO_RST | BIT_DMP_RST;
 2665              		.loc 1 1168 8 view .LVU806
 2666 0068 002B     		cmp	r3, #0
 2667 006a 52D0     		beq	.L190
1169:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 2668              		.loc 1 1169 9 is_stmt 1 view .LVU807
1169:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 2669              		.loc 1 1169 14 is_stmt 0 view .LVU808
 2670 006c 0C23     		movs	r3, #12
 2671 006e 8DF80730 		strb	r3, [sp, #7]
1170:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2672              		.loc 1 1170 9 is_stmt 1 view .LVU809
1170:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2673              		.loc 1 1170 25 is_stmt 0 view .LVU810
 2674 0072 604B     		ldr	r3, .L215
 2675 0074 5868     		ldr	r0, [r3, #4]
1170:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2676              		.loc 1 1170 38 view .LVU811
 2677 0076 1968     		ldr	r1, [r3]
1170:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2678              		.loc 1 1170 13 view .LVU812
 2679 0078 0DF10703 		add	r3, sp, #7
 2680 007c 0122     		movs	r2, #1
 2681 007e 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 2682 0080 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2683 0082 FFF7FEFF 		bl	i2cwrite
 2684              	.LVL177:
1170:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2685              		.loc 1 1170 12 view .LVU813
 2686 0086 0028     		cmp	r0, #0
 2687 0088 40F09F80 		bne	.L203
1172:Drivers/MPU6050/inv_mpu.c ****         data = BIT_DMP_EN | BIT_FIFO_EN;
 2688              		.loc 1 1172 9 is_stmt 1 view .LVU814
 2689 008c 3220     		movs	r0, #50
 2690 008e FFF7FEFF 		bl	delay_ms
 2691              	.LVL178:
1173:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.sensors & INV_XYZ_COMPASS)
 2692              		.loc 1 1173 9 view .LVU815
1173:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.sensors & INV_XYZ_COMPASS)
 2693              		.loc 1 1173 14 is_stmt 0 view .LVU816
 2694 0092 C023     		movs	r3, #192
 2695 0094 8DF80730 		strb	r3, [sp, #7]
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 96


1174:Drivers/MPU6050/inv_mpu.c ****             data |= BIT_AUX_IF_EN;
 2696              		.loc 1 1174 9 is_stmt 1 view .LVU817
1174:Drivers/MPU6050/inv_mpu.c ****             data |= BIT_AUX_IF_EN;
 2697              		.loc 1 1174 24 is_stmt 0 view .LVU818
 2698 0098 564B     		ldr	r3, .L215
 2699 009a 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1174:Drivers/MPU6050/inv_mpu.c ****             data |= BIT_AUX_IF_EN;
 2700              		.loc 1 1174 12 view .LVU819
 2701 009c 13F0010F 		tst	r3, #1
 2702 00a0 02D0     		beq	.L191
1175:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 2703              		.loc 1 1175 13 is_stmt 1 view .LVU820
1175:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 2704              		.loc 1 1175 18 is_stmt 0 view .LVU821
 2705 00a2 E023     		movs	r3, #224
 2706 00a4 8DF80730 		strb	r3, [sp, #7]
 2707              	.L191:
1176:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2708              		.loc 1 1176 9 is_stmt 1 view .LVU822
1176:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2709              		.loc 1 1176 25 is_stmt 0 view .LVU823
 2710 00a8 524B     		ldr	r3, .L215
 2711 00aa 5868     		ldr	r0, [r3, #4]
1176:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2712              		.loc 1 1176 38 view .LVU824
 2713 00ac 1968     		ldr	r1, [r3]
1176:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2714              		.loc 1 1176 13 view .LVU825
 2715 00ae 0DF10703 		add	r3, sp, #7
 2716 00b2 0122     		movs	r2, #1
 2717 00b4 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 2718 00b6 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2719 00b8 FFF7FEFF 		bl	i2cwrite
 2720              	.LVL179:
1176:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2721              		.loc 1 1176 12 view .LVU826
 2722 00bc 0028     		cmp	r0, #0
 2723 00be 40F08780 		bne	.L204
1178:Drivers/MPU6050/inv_mpu.c ****             data = BIT_DMP_INT_EN;
 2724              		.loc 1 1178 9 is_stmt 1 view .LVU827
1178:Drivers/MPU6050/inv_mpu.c ****             data = BIT_DMP_INT_EN;
 2725              		.loc 1 1178 24 is_stmt 0 view .LVU828
 2726 00c2 4C4B     		ldr	r3, .L215
 2727 00c4 5B7C     		ldrb	r3, [r3, #17]	@ zero_extendqisi2
1178:Drivers/MPU6050/inv_mpu.c ****             data = BIT_DMP_INT_EN;
 2728              		.loc 1 1178 12 view .LVU829
 2729 00c6 03B3     		cbz	r3, .L192
1179:Drivers/MPU6050/inv_mpu.c ****         else
 2730              		.loc 1 1179 13 is_stmt 1 view .LVU830
1179:Drivers/MPU6050/inv_mpu.c ****         else
 2731              		.loc 1 1179 18 is_stmt 0 view .LVU831
 2732 00c8 0223     		movs	r3, #2
 2733 00ca 8DF80730 		strb	r3, [sp, #7]
 2734              	.L193:
1182:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2735              		.loc 1 1182 9 is_stmt 1 view .LVU832
1182:Drivers/MPU6050/inv_mpu.c ****             return -1;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 97


 2736              		.loc 1 1182 25 is_stmt 0 view .LVU833
 2737 00ce 494B     		ldr	r3, .L215
 2738 00d0 5868     		ldr	r0, [r3, #4]
1182:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2739              		.loc 1 1182 38 view .LVU834
 2740 00d2 1968     		ldr	r1, [r3]
1182:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2741              		.loc 1 1182 13 view .LVU835
 2742 00d4 0DF10703 		add	r3, sp, #7
 2743 00d8 0122     		movs	r2, #1
 2744 00da C97B     		ldrb	r1, [r1, #15]	@ zero_extendqisi2
 2745 00dc 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2746 00de FFF7FEFF 		bl	i2cwrite
 2747              	.LVL180:
1182:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2748              		.loc 1 1182 12 view .LVU836
 2749 00e2 0028     		cmp	r0, #0
 2750 00e4 77D1     		bne	.L205
1184:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &data))
 2751              		.loc 1 1184 9 is_stmt 1 view .LVU837
1184:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &data))
 2752              		.loc 1 1184 14 is_stmt 0 view .LVU838
 2753 00e6 0023     		movs	r3, #0
 2754 00e8 8DF80730 		strb	r3, [sp, #7]
1185:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2755              		.loc 1 1185 9 is_stmt 1 view .LVU839
1185:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2756              		.loc 1 1185 25 is_stmt 0 view .LVU840
 2757 00ec 414B     		ldr	r3, .L215
 2758 00ee 5868     		ldr	r0, [r3, #4]
1185:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2759              		.loc 1 1185 38 view .LVU841
 2760 00f0 1968     		ldr	r1, [r3]
1185:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2761              		.loc 1 1185 13 view .LVU842
 2762 00f2 0DF10703 		add	r3, sp, #7
 2763 00f6 0122     		movs	r2, #1
 2764 00f8 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 2765 00fa 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2766 00fc FFF7FEFF 		bl	i2cwrite
 2767              	.LVL181:
1185:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2768              		.loc 1 1185 12 view .LVU843
 2769 0100 0028     		cmp	r0, #0
 2770 0102 6BD1     		bne	.L206
 2771              	.L188:
1208:Drivers/MPU6050/inv_mpu.c **** 
 2772              		.loc 1 1208 1 view .LVU844
 2773 0104 03B0     		add	sp, sp, #12
 2774              	.LCFI53:
 2775              		.cfi_remember_state
 2776              		.cfi_def_cfa_offset 4
 2777              		@ sp needed
 2778 0106 5DF804FB 		ldr	pc, [sp], #4
 2779              	.L192:
 2780              	.LCFI54:
 2781              		.cfi_restore_state
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 98


1181:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
 2782              		.loc 1 1181 13 is_stmt 1 view .LVU845
1181:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
 2783              		.loc 1 1181 18 is_stmt 0 view .LVU846
 2784 010a 0023     		movs	r3, #0
 2785 010c 8DF80730 		strb	r3, [sp, #7]
 2786 0110 DDE7     		b	.L193
 2787              	.L190:
1188:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 2788              		.loc 1 1188 9 is_stmt 1 view .LVU847
1188:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 2789              		.loc 1 1188 14 is_stmt 0 view .LVU848
 2790 0112 0423     		movs	r3, #4
 2791 0114 8DF80730 		strb	r3, [sp, #7]
1189:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2792              		.loc 1 1189 9 is_stmt 1 view .LVU849
1189:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2793              		.loc 1 1189 25 is_stmt 0 view .LVU850
 2794 0118 364B     		ldr	r3, .L215
 2795 011a 5868     		ldr	r0, [r3, #4]
1189:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2796              		.loc 1 1189 38 view .LVU851
 2797 011c 1968     		ldr	r1, [r3]
1189:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2798              		.loc 1 1189 13 view .LVU852
 2799 011e 0DF10703 		add	r3, sp, #7
 2800 0122 0122     		movs	r2, #1
 2801 0124 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 2802 0126 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2803 0128 FFF7FEFF 		bl	i2cwrite
 2804              	.LVL182:
1189:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2805              		.loc 1 1189 12 view .LVU853
 2806 012c 0028     		cmp	r0, #0
 2807 012e 58D1     		bne	.L207
1191:Drivers/MPU6050/inv_mpu.c ****             data = BIT_FIFO_EN;
 2808              		.loc 1 1191 9 is_stmt 1 view .LVU854
1191:Drivers/MPU6050/inv_mpu.c ****             data = BIT_FIFO_EN;
 2809              		.loc 1 1191 24 is_stmt 0 view .LVU855
 2810 0130 304B     		ldr	r3, .L215
 2811 0132 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
1191:Drivers/MPU6050/inv_mpu.c ****             data = BIT_FIFO_EN;
 2812              		.loc 1 1191 12 view .LVU856
 2813 0134 23B9     		cbnz	r3, .L194
1191:Drivers/MPU6050/inv_mpu.c ****             data = BIT_FIFO_EN;
 2814              		.loc 1 1191 53 discriminator 1 view .LVU857
 2815 0136 2F4B     		ldr	r3, .L215
 2816 0138 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1191:Drivers/MPU6050/inv_mpu.c ****             data = BIT_FIFO_EN;
 2817              		.loc 1 1191 37 discriminator 1 view .LVU858
 2818 013a 13F0010F 		tst	r3, #1
 2819 013e 30D1     		bne	.L195
 2820              	.L194:
1192:Drivers/MPU6050/inv_mpu.c ****         else
 2821              		.loc 1 1192 13 is_stmt 1 view .LVU859
1192:Drivers/MPU6050/inv_mpu.c ****         else
 2822              		.loc 1 1192 18 is_stmt 0 view .LVU860
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 99


 2823 0140 4023     		movs	r3, #64
 2824 0142 8DF80730 		strb	r3, [sp, #7]
 2825              	.L196:
1195:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2826              		.loc 1 1195 9 is_stmt 1 view .LVU861
1195:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2827              		.loc 1 1195 25 is_stmt 0 view .LVU862
 2828 0146 2B4B     		ldr	r3, .L215
 2829 0148 5868     		ldr	r0, [r3, #4]
1195:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2830              		.loc 1 1195 38 view .LVU863
 2831 014a 1968     		ldr	r1, [r3]
1195:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2832              		.loc 1 1195 13 view .LVU864
 2833 014c 0DF10703 		add	r3, sp, #7
 2834 0150 0122     		movs	r2, #1
 2835 0152 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 2836 0154 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2837 0156 FFF7FEFF 		bl	i2cwrite
 2838              	.LVL183:
1195:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2839              		.loc 1 1195 12 view .LVU865
 2840 015a 0028     		cmp	r0, #0
 2841 015c 44D1     		bne	.L208
1197:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.int_enable)
 2842              		.loc 1 1197 9 is_stmt 1 view .LVU866
 2843 015e 3220     		movs	r0, #50
 2844 0160 FFF7FEFF 		bl	delay_ms
 2845              	.LVL184:
1198:Drivers/MPU6050/inv_mpu.c ****             data = BIT_DATA_RDY_EN;
 2846              		.loc 1 1198 9 view .LVU867
1198:Drivers/MPU6050/inv_mpu.c ****             data = BIT_DATA_RDY_EN;
 2847              		.loc 1 1198 24 is_stmt 0 view .LVU868
 2848 0164 234B     		ldr	r3, .L215
 2849 0166 5B7C     		ldrb	r3, [r3, #17]	@ zero_extendqisi2
1198:Drivers/MPU6050/inv_mpu.c ****             data = BIT_DATA_RDY_EN;
 2850              		.loc 1 1198 12 view .LVU869
 2851 0168 FBB1     		cbz	r3, .L197
1199:Drivers/MPU6050/inv_mpu.c ****         else
 2852              		.loc 1 1199 13 is_stmt 1 view .LVU870
1199:Drivers/MPU6050/inv_mpu.c ****         else
 2853              		.loc 1 1199 18 is_stmt 0 view .LVU871
 2854 016a 0123     		movs	r3, #1
 2855 016c 8DF80730 		strb	r3, [sp, #7]
 2856              	.L198:
1202:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2857              		.loc 1 1202 9 is_stmt 1 view .LVU872
1202:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2858              		.loc 1 1202 25 is_stmt 0 view .LVU873
 2859 0170 204B     		ldr	r3, .L215
 2860 0172 5868     		ldr	r0, [r3, #4]
1202:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2861              		.loc 1 1202 38 view .LVU874
 2862 0174 1968     		ldr	r1, [r3]
1202:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2863              		.loc 1 1202 13 view .LVU875
 2864 0176 0DF10703 		add	r3, sp, #7
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 100


 2865 017a 0122     		movs	r2, #1
 2866 017c C97B     		ldrb	r1, [r1, #15]	@ zero_extendqisi2
 2867 017e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2868 0180 FFF7FEFF 		bl	i2cwrite
 2869              	.LVL185:
1202:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2870              		.loc 1 1202 12 view .LVU876
 2871 0184 98BB     		cbnz	r0, .L209
1204:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2872              		.loc 1 1204 9 is_stmt 1 view .LVU877
1204:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2873              		.loc 1 1204 25 is_stmt 0 view .LVU878
 2874 0186 1B4B     		ldr	r3, .L215
 2875 0188 5868     		ldr	r0, [r3, #4]
1204:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2876              		.loc 1 1204 38 view .LVU879
 2877 018a 53F8101B 		ldr	r1, [r3], #16
1204:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2878              		.loc 1 1204 13 view .LVU880
 2879 018e 0122     		movs	r2, #1
 2880 0190 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 2881 0192 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2882 0194 FFF7FEFF 		bl	i2cwrite
 2883              	.LVL186:
1204:Drivers/MPU6050/inv_mpu.c ****             return -1;
 2884              		.loc 1 1204 12 view .LVU881
 2885 0198 0028     		cmp	r0, #0
 2886 019a B3D0     		beq	.L188
1205:Drivers/MPU6050/inv_mpu.c ****     }
 2887              		.loc 1 1205 20 view .LVU882
 2888 019c 4FF0FF30 		mov	r0, #-1
 2889 01a0 B0E7     		b	.L188
 2890              	.L195:
1194:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 2891              		.loc 1 1194 13 is_stmt 1 view .LVU883
1194:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 2892              		.loc 1 1194 18 is_stmt 0 view .LVU884
 2893 01a2 6023     		movs	r3, #96
 2894 01a4 8DF80730 		strb	r3, [sp, #7]
 2895 01a8 CDE7     		b	.L196
 2896              	.L197:
1201:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
 2897              		.loc 1 1201 13 is_stmt 1 view .LVU885
1201:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
 2898              		.loc 1 1201 18 is_stmt 0 view .LVU886
 2899 01aa 0023     		movs	r3, #0
 2900 01ac 8DF80730 		strb	r3, [sp, #7]
 2901 01b0 DEE7     		b	.L198
 2902              	.L199:
 2903              	.LCFI55:
 2904              		.cfi_def_cfa_offset 0
 2905              		.cfi_restore 14
1158:Drivers/MPU6050/inv_mpu.c **** 
 2906              		.loc 1 1158 16 view .LVU887
 2907 01b2 4FF0FF30 		mov	r0, #-1
1208:Drivers/MPU6050/inv_mpu.c **** 
 2908              		.loc 1 1208 1 view .LVU888
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 101


 2909 01b6 7047     		bx	lr
 2910              	.L200:
 2911              	.LCFI56:
 2912              		.cfi_def_cfa_offset 16
 2913              		.cfi_offset 14, -4
1162:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &data))
 2914              		.loc 1 1162 16 view .LVU889
 2915 01b8 4FF0FF30 		mov	r0, #-1
 2916 01bc A2E7     		b	.L188
 2917              	.L201:
1164:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 2918              		.loc 1 1164 16 view .LVU890
 2919 01be 4FF0FF30 		mov	r0, #-1
 2920 01c2 9FE7     		b	.L188
 2921              	.L202:
1166:Drivers/MPU6050/inv_mpu.c **** 
 2922              		.loc 1 1166 16 view .LVU891
 2923 01c4 4FF0FF30 		mov	r0, #-1
 2924 01c8 9CE7     		b	.L188
 2925              	.L203:
1171:Drivers/MPU6050/inv_mpu.c ****         delay_ms(50);
 2926              		.loc 1 1171 20 view .LVU892
 2927 01ca 4FF0FF30 		mov	r0, #-1
 2928 01ce 99E7     		b	.L188
 2929              	.L204:
1177:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.int_enable)
 2930              		.loc 1 1177 20 view .LVU893
 2931 01d0 4FF0FF30 		mov	r0, #-1
 2932 01d4 96E7     		b	.L188
 2933              	.L205:
1183:Drivers/MPU6050/inv_mpu.c ****         data = 0;
 2934              		.loc 1 1183 20 view .LVU894
 2935 01d6 4FF0FF30 		mov	r0, #-1
 2936 01da 93E7     		b	.L188
 2937              	.L206:
1186:Drivers/MPU6050/inv_mpu.c ****     } else {
 2938              		.loc 1 1186 20 view .LVU895
 2939 01dc 4FF0FF30 		mov	r0, #-1
 2940 01e0 90E7     		b	.L188
 2941              	.L207:
1190:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.bypass_mode || !(st.chip_cfg.sensors & INV_XYZ_COMPASS))
 2942              		.loc 1 1190 20 view .LVU896
 2943 01e2 4FF0FF30 		mov	r0, #-1
 2944 01e6 8DE7     		b	.L188
 2945              	.L208:
1196:Drivers/MPU6050/inv_mpu.c ****         delay_ms(50);
 2946              		.loc 1 1196 20 view .LVU897
 2947 01e8 4FF0FF30 		mov	r0, #-1
 2948 01ec 8AE7     		b	.L188
 2949              	.L209:
1203:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &st.chip_cfg.fifo_enable))
 2950              		.loc 1 1203 20 view .LVU898
 2951 01ee 4FF0FF30 		mov	r0, #-1
 2952 01f2 87E7     		b	.L188
 2953              	.L216:
 2954              		.align	2
 2955              	.L215:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 102


 2956 01f4 00000000 		.word	.LANCHOR0
 2957              		.cfi_endproc
 2958              	.LFE571:
 2960              		.section	.text.mpu_get_gyro_fsr,"ax",%progbits
 2961              		.align	1
 2962              		.global	mpu_get_gyro_fsr
 2963              		.syntax unified
 2964              		.thumb
 2965              		.thumb_func
 2967              	mpu_get_gyro_fsr:
 2968              	.LVL187:
 2969              	.LFB572:
1216:Drivers/MPU6050/inv_mpu.c ****     switch (st.chip_cfg.gyro_fsr) {
 2970              		.loc 1 1216 1 is_stmt 1 view -0
 2971              		.cfi_startproc
 2972              		@ args = 0, pretend = 0, frame = 0
 2973              		@ frame_needed = 0, uses_anonymous_args = 0
 2974              		@ link register save eliminated.
1217:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_250DPS:
 2975              		.loc 1 1217 5 view .LVU900
1217:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_250DPS:
 2976              		.loc 1 1217 24 is_stmt 0 view .LVU901
 2977 0000 0D4B     		ldr	r3, .L225
 2978 0002 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
1217:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_250DPS:
 2979              		.loc 1 1217 5 view .LVU902
 2980 0004 032B     		cmp	r3, #3
 2981 0006 13D8     		bhi	.L218
 2982 0008 DFE803F0 		tbb	[pc, r3]
 2983              	.L220:
 2984 000c 02       		.byte	(.L223-.L220)/2
 2985 000d 06       		.byte	(.L222-.L220)/2
 2986 000e 0A       		.byte	(.L221-.L220)/2
 2987 000f 0E       		.byte	(.L219-.L220)/2
 2988              		.p2align 1
 2989              	.L223:
1219:Drivers/MPU6050/inv_mpu.c ****         break;
 2990              		.loc 1 1219 9 is_stmt 1 view .LVU903
1219:Drivers/MPU6050/inv_mpu.c ****         break;
 2991              		.loc 1 1219 16 is_stmt 0 view .LVU904
 2992 0010 FA23     		movs	r3, #250
 2993 0012 0380     		strh	r3, [r0]	@ movhi
1220:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_500DPS:
 2994              		.loc 1 1220 9 is_stmt 1 view .LVU905
 2995              	.L224:
1234:Drivers/MPU6050/inv_mpu.c **** }
 2996              		.loc 1 1234 5 view .LVU906
1235:Drivers/MPU6050/inv_mpu.c **** 
 2997              		.loc 1 1235 1 is_stmt 0 view .LVU907
 2998 0014 0020     		movs	r0, #0
 2999              	.LVL188:
1235:Drivers/MPU6050/inv_mpu.c **** 
 3000              		.loc 1 1235 1 view .LVU908
 3001 0016 7047     		bx	lr
 3002              	.LVL189:
 3003              	.L222:
1222:Drivers/MPU6050/inv_mpu.c ****         break;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 103


 3004              		.loc 1 1222 9 is_stmt 1 view .LVU909
1222:Drivers/MPU6050/inv_mpu.c ****         break;
 3005              		.loc 1 1222 16 is_stmt 0 view .LVU910
 3006 0018 4FF4FA73 		mov	r3, #500
 3007 001c 0380     		strh	r3, [r0]	@ movhi
1223:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_1000DPS:
 3008              		.loc 1 1223 9 is_stmt 1 view .LVU911
 3009 001e F9E7     		b	.L224
 3010              	.L221:
1225:Drivers/MPU6050/inv_mpu.c ****         break;
 3011              		.loc 1 1225 9 view .LVU912
1225:Drivers/MPU6050/inv_mpu.c ****         break;
 3012              		.loc 1 1225 16 is_stmt 0 view .LVU913
 3013 0020 4FF47A73 		mov	r3, #1000
 3014 0024 0380     		strh	r3, [r0]	@ movhi
1226:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_2000DPS:
 3015              		.loc 1 1226 9 is_stmt 1 view .LVU914
 3016 0026 F5E7     		b	.L224
 3017              	.L219:
1228:Drivers/MPU6050/inv_mpu.c ****         break;
 3018              		.loc 1 1228 9 view .LVU915
1228:Drivers/MPU6050/inv_mpu.c ****         break;
 3019              		.loc 1 1228 16 is_stmt 0 view .LVU916
 3020 0028 4FF4FA63 		mov	r3, #2000
 3021 002c 0380     		strh	r3, [r0]	@ movhi
1229:Drivers/MPU6050/inv_mpu.c ****     default:
 3022              		.loc 1 1229 9 is_stmt 1 view .LVU917
 3023 002e F1E7     		b	.L224
 3024              	.L218:
1231:Drivers/MPU6050/inv_mpu.c ****         break;
 3025              		.loc 1 1231 9 view .LVU918
1231:Drivers/MPU6050/inv_mpu.c ****         break;
 3026              		.loc 1 1231 16 is_stmt 0 view .LVU919
 3027 0030 0023     		movs	r3, #0
 3028 0032 0380     		strh	r3, [r0]	@ movhi
1232:Drivers/MPU6050/inv_mpu.c ****     }
 3029              		.loc 1 1232 9 is_stmt 1 view .LVU920
 3030 0034 EEE7     		b	.L224
 3031              	.L226:
 3032 0036 00BF     		.align	2
 3033              	.L225:
 3034 0038 00000000 		.word	.LANCHOR0
 3035              		.cfi_endproc
 3036              	.LFE572:
 3038              		.section	.text.mpu_set_gyro_fsr,"ax",%progbits
 3039              		.align	1
 3040              		.global	mpu_set_gyro_fsr
 3041              		.syntax unified
 3042              		.thumb
 3043              		.thumb_func
 3045              	mpu_set_gyro_fsr:
 3046              	.LVL190:
 3047              	.LFB573:
1243:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
 3048              		.loc 1 1243 1 view -0
 3049              		.cfi_startproc
 3050              		@ args = 0, pretend = 0, frame = 8
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 104


 3051              		@ frame_needed = 0, uses_anonymous_args = 0
1244:Drivers/MPU6050/inv_mpu.c **** 
 3052              		.loc 1 1244 5 view .LVU922
1246:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3053              		.loc 1 1246 5 view .LVU923
1246:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3054              		.loc 1 1246 22 is_stmt 0 view .LVU924
 3055 0000 244B     		ldr	r3, .L244
 3056 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1246:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3057              		.loc 1 1246 8 view .LVU925
 3058 0004 002B     		cmp	r3, #0
 3059 0006 3CD0     		beq	.L235
1243:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
 3060              		.loc 1 1243 1 view .LVU926
 3061 0008 00B5     		push	{lr}
 3062              	.LCFI57:
 3063              		.cfi_def_cfa_offset 4
 3064              		.cfi_offset 14, -4
 3065 000a 83B0     		sub	sp, sp, #12
 3066              	.LCFI58:
 3067              		.cfi_def_cfa_offset 16
1249:Drivers/MPU6050/inv_mpu.c ****     case 250:
 3068              		.loc 1 1249 5 is_stmt 1 view .LVU927
 3069 000c B0F57A7F 		cmp	r0, #1000
 3070 0010 33D0     		beq	.L229
 3071 0012 0BD8     		bhi	.L230
 3072 0014 FA28     		cmp	r0, #250
 3073 0016 13D0     		beq	.L231
 3074 0018 B0F5FA7F 		cmp	r0, #500
 3075 001c 03D1     		bne	.L242
1254:Drivers/MPU6050/inv_mpu.c ****         break;
 3076              		.loc 1 1254 9 view .LVU928
1254:Drivers/MPU6050/inv_mpu.c ****         break;
 3077              		.loc 1 1254 14 is_stmt 0 view .LVU929
 3078 001e 0823     		movs	r3, #8
 3079 0020 8DF80730 		strb	r3, [sp, #7]
1255:Drivers/MPU6050/inv_mpu.c ****     case 1000:
 3080              		.loc 1 1255 9 is_stmt 1 view .LVU930
 3081 0024 0FE0     		b	.L234
 3082              	.L242:
1249:Drivers/MPU6050/inv_mpu.c ****     case 250:
 3083              		.loc 1 1249 5 is_stmt 0 view .LVU931
 3084 0026 4FF0FF30 		mov	r0, #-1
 3085              	.LVL191:
1249:Drivers/MPU6050/inv_mpu.c ****     case 250:
 3086              		.loc 1 1249 5 view .LVU932
 3087 002a 23E0     		b	.L227
 3088              	.LVL192:
 3089              	.L230:
1249:Drivers/MPU6050/inv_mpu.c ****     case 250:
 3090              		.loc 1 1249 5 view .LVU933
 3091 002c B0F5FA6F 		cmp	r0, #2000
 3092 0030 03D1     		bne	.L243
1260:Drivers/MPU6050/inv_mpu.c ****         break;
 3093              		.loc 1 1260 9 is_stmt 1 view .LVU934
1260:Drivers/MPU6050/inv_mpu.c ****         break;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 105


 3094              		.loc 1 1260 14 is_stmt 0 view .LVU935
 3095 0032 1823     		movs	r3, #24
 3096 0034 8DF80730 		strb	r3, [sp, #7]
1261:Drivers/MPU6050/inv_mpu.c ****     default:
 3097              		.loc 1 1261 9 is_stmt 1 view .LVU936
 3098 0038 05E0     		b	.L234
 3099              	.L243:
1249:Drivers/MPU6050/inv_mpu.c ****     case 250:
 3100              		.loc 1 1249 5 is_stmt 0 view .LVU937
 3101 003a 4FF0FF30 		mov	r0, #-1
 3102              	.LVL193:
1249:Drivers/MPU6050/inv_mpu.c ****     case 250:
 3103              		.loc 1 1249 5 view .LVU938
 3104 003e 19E0     		b	.L227
 3105              	.LVL194:
 3106              	.L231:
1251:Drivers/MPU6050/inv_mpu.c ****         break;
 3107              		.loc 1 1251 9 is_stmt 1 view .LVU939
1251:Drivers/MPU6050/inv_mpu.c ****         break;
 3108              		.loc 1 1251 14 is_stmt 0 view .LVU940
 3109 0040 0023     		movs	r3, #0
 3110 0042 8DF80730 		strb	r3, [sp, #7]
1252:Drivers/MPU6050/inv_mpu.c ****     case 500:
 3111              		.loc 1 1252 9 is_stmt 1 view .LVU941
 3112              	.L234:
1266:Drivers/MPU6050/inv_mpu.c ****         return 0;
 3113              		.loc 1 1266 5 view .LVU942
1266:Drivers/MPU6050/inv_mpu.c ****         return 0;
 3114              		.loc 1 1266 20 is_stmt 0 view .LVU943
 3115 0046 134B     		ldr	r3, .L244
 3116 0048 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
1266:Drivers/MPU6050/inv_mpu.c ****         return 0;
 3117              		.loc 1 1266 30 view .LVU944
 3118 004a 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
1266:Drivers/MPU6050/inv_mpu.c ****         return 0;
 3119              		.loc 1 1266 8 view .LVU945
 3120 004e B3EBD20F 		cmp	r3, r2, lsr #3
 3121 0052 19D0     		beq	.L236
1268:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3122              		.loc 1 1268 5 is_stmt 1 view .LVU946
1268:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3123              		.loc 1 1268 21 is_stmt 0 view .LVU947
 3124 0054 0F4B     		ldr	r3, .L244
 3125 0056 5868     		ldr	r0, [r3, #4]
 3126              	.LVL195:
1268:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3127              		.loc 1 1268 34 view .LVU948
 3128 0058 1968     		ldr	r1, [r3]
1268:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3129              		.loc 1 1268 9 view .LVU949
 3130 005a 0DF10703 		add	r3, sp, #7
 3131 005e 0122     		movs	r2, #1
 3132 0060 8979     		ldrb	r1, [r1, #6]	@ zero_extendqisi2
 3133 0062 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3134 0064 FFF7FEFF 		bl	i2cwrite
 3135              	.LVL196:
1268:Drivers/MPU6050/inv_mpu.c ****         return -1;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 106


 3136              		.loc 1 1268 8 view .LVU950
 3137 0068 80B9     		cbnz	r0, .L237
1270:Drivers/MPU6050/inv_mpu.c ****     return 0;
 3138              		.loc 1 1270 5 is_stmt 1 view .LVU951
1270:Drivers/MPU6050/inv_mpu.c ****     return 0;
 3139              		.loc 1 1270 26 is_stmt 0 view .LVU952
 3140 006a 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 3141 006e DB08     		lsrs	r3, r3, #3
 3142 0070 084A     		ldr	r2, .L244
 3143 0072 1372     		strb	r3, [r2, #8]
1271:Drivers/MPU6050/inv_mpu.c **** }
 3144              		.loc 1 1271 5 is_stmt 1 view .LVU953
 3145              	.L227:
1272:Drivers/MPU6050/inv_mpu.c **** 
 3146              		.loc 1 1272 1 is_stmt 0 view .LVU954
 3147 0074 03B0     		add	sp, sp, #12
 3148              	.LCFI59:
 3149              		.cfi_remember_state
 3150              		.cfi_def_cfa_offset 4
 3151              		@ sp needed
 3152 0076 5DF804FB 		ldr	pc, [sp], #4
 3153              	.LVL197:
 3154              	.L229:
 3155              	.LCFI60:
 3156              		.cfi_restore_state
1257:Drivers/MPU6050/inv_mpu.c ****         break;
 3157              		.loc 1 1257 9 is_stmt 1 view .LVU955
1257:Drivers/MPU6050/inv_mpu.c ****         break;
 3158              		.loc 1 1257 14 is_stmt 0 view .LVU956
 3159 007a 1023     		movs	r3, #16
 3160 007c 8DF80730 		strb	r3, [sp, #7]
1258:Drivers/MPU6050/inv_mpu.c ****     case 2000:
 3161              		.loc 1 1258 9 is_stmt 1 view .LVU957
 3162 0080 E1E7     		b	.L234
 3163              	.L235:
 3164              	.LCFI61:
 3165              		.cfi_def_cfa_offset 0
 3166              		.cfi_restore 14
1247:Drivers/MPU6050/inv_mpu.c **** 
 3167              		.loc 1 1247 16 is_stmt 0 view .LVU958
 3168 0082 4FF0FF30 		mov	r0, #-1
 3169              	.LVL198:
1272:Drivers/MPU6050/inv_mpu.c **** 
 3170              		.loc 1 1272 1 view .LVU959
 3171 0086 7047     		bx	lr
 3172              	.LVL199:
 3173              	.L236:
 3174              	.LCFI62:
 3175              		.cfi_def_cfa_offset 16
 3176              		.cfi_offset 14, -4
1267:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, &data))
 3177              		.loc 1 1267 16 view .LVU960
 3178 0088 0020     		movs	r0, #0
 3179              	.LVL200:
1267:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, &data))
 3180              		.loc 1 1267 16 view .LVU961
 3181 008a F3E7     		b	.L227
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 107


 3182              	.L237:
1269:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.gyro_fsr = data >> 3;
 3183              		.loc 1 1269 16 view .LVU962
 3184 008c 4FF0FF30 		mov	r0, #-1
 3185 0090 F0E7     		b	.L227
 3186              	.L245:
 3187 0092 00BF     		.align	2
 3188              	.L244:
 3189 0094 00000000 		.word	.LANCHOR0
 3190              		.cfi_endproc
 3191              	.LFE573:
 3193              		.section	.text.mpu_get_accel_fsr,"ax",%progbits
 3194              		.align	1
 3195              		.global	mpu_get_accel_fsr
 3196              		.syntax unified
 3197              		.thumb
 3198              		.thumb_func
 3200              	mpu_get_accel_fsr:
 3201              	.LVL201:
 3202              	.LFB574:
1280:Drivers/MPU6050/inv_mpu.c ****     switch (st.chip_cfg.accel_fsr) {
 3203              		.loc 1 1280 1 is_stmt 1 view -0
 3204              		.cfi_startproc
 3205              		@ args = 0, pretend = 0, frame = 0
 3206              		@ frame_needed = 0, uses_anonymous_args = 0
 3207              		@ link register save eliminated.
1281:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_2G:
 3208              		.loc 1 1281 5 view .LVU964
1281:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_2G:
 3209              		.loc 1 1281 24 is_stmt 0 view .LVU965
 3210 0000 0F4B     		ldr	r3, .L256
 3211 0002 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
1281:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_2G:
 3212              		.loc 1 1281 5 view .LVU966
 3213 0004 032B     		cmp	r3, #3
 3214 0006 16D8     		bhi	.L254
 3215 0008 DFE803F0 		tbb	[pc, r3]
 3216              	.L249:
 3217 000c 02       		.byte	(.L252-.L249)/2
 3218 000d 0C       		.byte	(.L251-.L249)/2
 3219 000e 0F       		.byte	(.L250-.L249)/2
 3220 000f 12       		.byte	(.L248-.L249)/2
 3221              		.p2align 1
 3222              	.L252:
1283:Drivers/MPU6050/inv_mpu.c ****         break;
 3223              		.loc 1 1283 9 is_stmt 1 view .LVU967
1283:Drivers/MPU6050/inv_mpu.c ****         break;
 3224              		.loc 1 1283 16 is_stmt 0 view .LVU968
 3225 0010 0223     		movs	r3, #2
 3226 0012 0370     		strb	r3, [r0]
1284:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_4G:
 3227              		.loc 1 1284 9 is_stmt 1 view .LVU969
 3228              	.L253:
1297:Drivers/MPU6050/inv_mpu.c ****         fsr[0] <<= 1;
 3229              		.loc 1 1297 5 view .LVU970
1297:Drivers/MPU6050/inv_mpu.c ****         fsr[0] <<= 1;
 3230              		.loc 1 1297 20 is_stmt 0 view .LVU971
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 108


 3231 0014 0A4B     		ldr	r3, .L256
 3232 0016 DB7C     		ldrb	r3, [r3, #19]	@ zero_extendqisi2
1297:Drivers/MPU6050/inv_mpu.c ****         fsr[0] <<= 1;
 3233              		.loc 1 1297 8 view .LVU972
 3234 0018 83B1     		cbz	r3, .L255
1298:Drivers/MPU6050/inv_mpu.c ****     return 0;
 3235              		.loc 1 1298 9 is_stmt 1 view .LVU973
1298:Drivers/MPU6050/inv_mpu.c ****     return 0;
 3236              		.loc 1 1298 16 is_stmt 0 view .LVU974
 3237 001a 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 3238 001c 5B00     		lsls	r3, r3, #1
 3239 001e 0370     		strb	r3, [r0]
1299:Drivers/MPU6050/inv_mpu.c **** }
 3240              		.loc 1 1299 12 view .LVU975
 3241 0020 0020     		movs	r0, #0
 3242              	.LVL202:
1299:Drivers/MPU6050/inv_mpu.c **** }
 3243              		.loc 1 1299 12 view .LVU976
 3244 0022 7047     		bx	lr
 3245              	.LVL203:
 3246              	.L251:
1286:Drivers/MPU6050/inv_mpu.c ****         break;
 3247              		.loc 1 1286 9 is_stmt 1 view .LVU977
1286:Drivers/MPU6050/inv_mpu.c ****         break;
 3248              		.loc 1 1286 16 is_stmt 0 view .LVU978
 3249 0024 0423     		movs	r3, #4
 3250 0026 0370     		strb	r3, [r0]
1287:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_8G:
 3251              		.loc 1 1287 9 is_stmt 1 view .LVU979
 3252 0028 F4E7     		b	.L253
 3253              	.L250:
1289:Drivers/MPU6050/inv_mpu.c ****         break;
 3254              		.loc 1 1289 9 view .LVU980
1289:Drivers/MPU6050/inv_mpu.c ****         break;
 3255              		.loc 1 1289 16 is_stmt 0 view .LVU981
 3256 002a 0823     		movs	r3, #8
 3257 002c 0370     		strb	r3, [r0]
1290:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_16G:
 3258              		.loc 1 1290 9 is_stmt 1 view .LVU982
 3259 002e F1E7     		b	.L253
 3260              	.L248:
1292:Drivers/MPU6050/inv_mpu.c ****         break;
 3261              		.loc 1 1292 9 view .LVU983
1292:Drivers/MPU6050/inv_mpu.c ****         break;
 3262              		.loc 1 1292 16 is_stmt 0 view .LVU984
 3263 0030 1023     		movs	r3, #16
 3264 0032 0370     		strb	r3, [r0]
1293:Drivers/MPU6050/inv_mpu.c ****     default:
 3265              		.loc 1 1293 9 is_stmt 1 view .LVU985
 3266 0034 EEE7     		b	.L253
 3267              	.L254:
1281:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_2G:
 3268              		.loc 1 1281 5 is_stmt 0 view .LVU986
 3269 0036 4FF0FF30 		mov	r0, #-1
 3270              	.LVL204:
1281:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_2G:
 3271              		.loc 1 1281 5 view .LVU987
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 109


 3272 003a 7047     		bx	lr
 3273              	.LVL205:
 3274              	.L255:
1299:Drivers/MPU6050/inv_mpu.c **** }
 3275              		.loc 1 1299 12 view .LVU988
 3276 003c 0020     		movs	r0, #0
 3277              	.LVL206:
1300:Drivers/MPU6050/inv_mpu.c **** 
 3278              		.loc 1 1300 1 view .LVU989
 3279 003e 7047     		bx	lr
 3280              	.L257:
 3281              		.align	2
 3282              	.L256:
 3283 0040 00000000 		.word	.LANCHOR0
 3284              		.cfi_endproc
 3285              	.LFE574:
 3287              		.section	.text.mpu_set_accel_fsr,"ax",%progbits
 3288              		.align	1
 3289              		.global	mpu_set_accel_fsr
 3290              		.syntax unified
 3291              		.thumb
 3292              		.thumb_func
 3294              	mpu_set_accel_fsr:
 3295              	.LVL207:
 3296              	.LFB575:
1308:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
 3297              		.loc 1 1308 1 is_stmt 1 view -0
 3298              		.cfi_startproc
 3299              		@ args = 0, pretend = 0, frame = 8
 3300              		@ frame_needed = 0, uses_anonymous_args = 0
1309:Drivers/MPU6050/inv_mpu.c **** 
 3301              		.loc 1 1309 5 view .LVU991
1311:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3302              		.loc 1 1311 5 view .LVU992
1311:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3303              		.loc 1 1311 22 is_stmt 0 view .LVU993
 3304 0000 234B     		ldr	r3, .L274
 3305 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1311:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3306              		.loc 1 1311 8 view .LVU994
 3307 0004 002B     		cmp	r3, #0
 3308 0006 35D0     		beq	.L266
1308:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
 3309              		.loc 1 1308 1 view .LVU995
 3310 0008 00B5     		push	{lr}
 3311              	.LCFI63:
 3312              		.cfi_def_cfa_offset 4
 3313              		.cfi_offset 14, -4
 3314 000a 83B0     		sub	sp, sp, #12
 3315              	.LCFI64:
 3316              		.cfi_def_cfa_offset 16
1314:Drivers/MPU6050/inv_mpu.c ****     case 2:
 3317              		.loc 1 1314 5 is_stmt 1 view .LVU996
 3318 000c 0238     		subs	r0, r0, #2
 3319              	.LVL208:
1314:Drivers/MPU6050/inv_mpu.c ****     case 2:
 3320              		.loc 1 1314 5 is_stmt 0 view .LVU997
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 110


 3321 000e 0E28     		cmp	r0, #14
 3322 0010 33D8     		bhi	.L267
 3323 0012 DFE800F0 		tbb	[pc, r0]
 3324              	.L261:
 3325 0016 08       		.byte	(.L264-.L261)/2
 3326 0017 32       		.byte	(.L267-.L261)/2
 3327 0018 23       		.byte	(.L263-.L261)/2
 3328 0019 32       		.byte	(.L267-.L261)/2
 3329 001a 32       		.byte	(.L267-.L261)/2
 3330 001b 32       		.byte	(.L267-.L261)/2
 3331 001c 27       		.byte	(.L262-.L261)/2
 3332 001d 32       		.byte	(.L267-.L261)/2
 3333 001e 32       		.byte	(.L267-.L261)/2
 3334 001f 32       		.byte	(.L267-.L261)/2
 3335 0020 32       		.byte	(.L267-.L261)/2
 3336 0021 32       		.byte	(.L267-.L261)/2
 3337 0022 32       		.byte	(.L267-.L261)/2
 3338 0023 32       		.byte	(.L267-.L261)/2
 3339 0024 2B       		.byte	(.L260-.L261)/2
 3340 0025 00       		.p2align 1
 3341              	.L264:
1316:Drivers/MPU6050/inv_mpu.c ****         break;
 3342              		.loc 1 1316 9 is_stmt 1 view .LVU998
1316:Drivers/MPU6050/inv_mpu.c ****         break;
 3343              		.loc 1 1316 14 is_stmt 0 view .LVU999
 3344 0026 0023     		movs	r3, #0
 3345 0028 8DF80730 		strb	r3, [sp, #7]
1317:Drivers/MPU6050/inv_mpu.c ****     case 4:
 3346              		.loc 1 1317 9 is_stmt 1 view .LVU1000
 3347              	.L265:
1331:Drivers/MPU6050/inv_mpu.c ****         return 0;
 3348              		.loc 1 1331 5 view .LVU1001
1331:Drivers/MPU6050/inv_mpu.c ****         return 0;
 3349              		.loc 1 1331 20 is_stmt 0 view .LVU1002
 3350 002c 184B     		ldr	r3, .L274
 3351 002e 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
1331:Drivers/MPU6050/inv_mpu.c ****         return 0;
 3352              		.loc 1 1331 31 view .LVU1003
 3353 0030 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
1331:Drivers/MPU6050/inv_mpu.c ****         return 0;
 3354              		.loc 1 1331 8 view .LVU1004
 3355 0034 B3EBD20F 		cmp	r3, r2, lsr #3
 3356 0038 24D0     		beq	.L268
1333:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3357              		.loc 1 1333 5 is_stmt 1 view .LVU1005
1333:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3358              		.loc 1 1333 21 is_stmt 0 view .LVU1006
 3359 003a 154B     		ldr	r3, .L274
 3360 003c 5868     		ldr	r0, [r3, #4]
1333:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3361              		.loc 1 1333 34 view .LVU1007
 3362 003e 1968     		ldr	r1, [r3]
1333:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3363              		.loc 1 1333 9 view .LVU1008
 3364 0040 0DF10703 		add	r3, sp, #7
 3365 0044 0122     		movs	r2, #1
 3366 0046 C979     		ldrb	r1, [r1, #7]	@ zero_extendqisi2
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 111


 3367 0048 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3368 004a FFF7FEFF 		bl	i2cwrite
 3369              	.LVL209:
1333:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3370              		.loc 1 1333 8 view .LVU1009
 3371 004e D8B9     		cbnz	r0, .L269
1335:Drivers/MPU6050/inv_mpu.c ****     return 0;
 3372              		.loc 1 1335 5 is_stmt 1 view .LVU1010
1335:Drivers/MPU6050/inv_mpu.c ****     return 0;
 3373              		.loc 1 1335 27 is_stmt 0 view .LVU1011
 3374 0050 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 3375 0054 DB08     		lsrs	r3, r3, #3
 3376 0056 0E4A     		ldr	r2, .L274
 3377 0058 5372     		strb	r3, [r2, #9]
1336:Drivers/MPU6050/inv_mpu.c **** }
 3378              		.loc 1 1336 5 is_stmt 1 view .LVU1012
1336:Drivers/MPU6050/inv_mpu.c **** }
 3379              		.loc 1 1336 12 is_stmt 0 view .LVU1013
 3380 005a 10E0     		b	.L258
 3381              	.L263:
1319:Drivers/MPU6050/inv_mpu.c ****         break;
 3382              		.loc 1 1319 9 is_stmt 1 view .LVU1014
1319:Drivers/MPU6050/inv_mpu.c ****         break;
 3383              		.loc 1 1319 14 is_stmt 0 view .LVU1015
 3384 005c 0823     		movs	r3, #8
 3385 005e 8DF80730 		strb	r3, [sp, #7]
1320:Drivers/MPU6050/inv_mpu.c ****     case 8:
 3386              		.loc 1 1320 9 is_stmt 1 view .LVU1016
 3387 0062 E3E7     		b	.L265
 3388              	.L262:
1322:Drivers/MPU6050/inv_mpu.c ****         break;
 3389              		.loc 1 1322 9 view .LVU1017
1322:Drivers/MPU6050/inv_mpu.c ****         break;
 3390              		.loc 1 1322 14 is_stmt 0 view .LVU1018
 3391 0064 1023     		movs	r3, #16
 3392 0066 8DF80730 		strb	r3, [sp, #7]
1323:Drivers/MPU6050/inv_mpu.c ****     case 16:
 3393              		.loc 1 1323 9 is_stmt 1 view .LVU1019
 3394 006a DFE7     		b	.L265
 3395              	.L260:
1325:Drivers/MPU6050/inv_mpu.c ****         break;
 3396              		.loc 1 1325 9 view .LVU1020
1325:Drivers/MPU6050/inv_mpu.c ****         break;
 3397              		.loc 1 1325 14 is_stmt 0 view .LVU1021
 3398 006c 1823     		movs	r3, #24
 3399 006e 8DF80730 		strb	r3, [sp, #7]
1326:Drivers/MPU6050/inv_mpu.c ****     default:
 3400              		.loc 1 1326 9 is_stmt 1 view .LVU1022
 3401 0072 DBE7     		b	.L265
 3402              	.LVL210:
 3403              	.L266:
 3404              	.LCFI65:
 3405              		.cfi_def_cfa_offset 0
 3406              		.cfi_restore 14
1312:Drivers/MPU6050/inv_mpu.c **** 
 3407              		.loc 1 1312 16 is_stmt 0 view .LVU1023
 3408 0074 4FF0FF30 		mov	r0, #-1
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 112


 3409              	.LVL211:
1337:Drivers/MPU6050/inv_mpu.c **** 
 3410              		.loc 1 1337 1 view .LVU1024
 3411 0078 7047     		bx	lr
 3412              	.L267:
 3413              	.LCFI66:
 3414              		.cfi_def_cfa_offset 16
 3415              		.cfi_offset 14, -4
1314:Drivers/MPU6050/inv_mpu.c ****     case 2:
 3416              		.loc 1 1314 5 view .LVU1025
 3417 007a 4FF0FF30 		mov	r0, #-1
 3418              	.L258:
1337:Drivers/MPU6050/inv_mpu.c **** 
 3419              		.loc 1 1337 1 view .LVU1026
 3420 007e 03B0     		add	sp, sp, #12
 3421              	.LCFI67:
 3422              		.cfi_remember_state
 3423              		.cfi_def_cfa_offset 4
 3424              		@ sp needed
 3425 0080 5DF804FB 		ldr	pc, [sp], #4
 3426              	.L268:
 3427              	.LCFI68:
 3428              		.cfi_restore_state
1332:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, &data))
 3429              		.loc 1 1332 16 view .LVU1027
 3430 0084 0020     		movs	r0, #0
 3431 0086 FAE7     		b	.L258
 3432              	.L269:
1334:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.accel_fsr = data >> 3;
 3433              		.loc 1 1334 16 view .LVU1028
 3434 0088 4FF0FF30 		mov	r0, #-1
 3435 008c F7E7     		b	.L258
 3436              	.L275:
 3437 008e 00BF     		.align	2
 3438              	.L274:
 3439 0090 00000000 		.word	.LANCHOR0
 3440              		.cfi_endproc
 3441              	.LFE575:
 3443              		.section	.text.mpu_get_lpf,"ax",%progbits
 3444              		.align	1
 3445              		.global	mpu_get_lpf
 3446              		.syntax unified
 3447              		.thumb
 3448              		.thumb_func
 3450              	mpu_get_lpf:
 3451              	.LVL212:
 3452              	.LFB576:
1345:Drivers/MPU6050/inv_mpu.c ****     switch (st.chip_cfg.lpf) {
 3453              		.loc 1 1345 1 is_stmt 1 view -0
 3454              		.cfi_startproc
 3455              		@ args = 0, pretend = 0, frame = 0
 3456              		@ frame_needed = 0, uses_anonymous_args = 0
 3457              		@ link register save eliminated.
1346:Drivers/MPU6050/inv_mpu.c ****     case INV_FILTER_188HZ:
 3458              		.loc 1 1346 5 view .LVU1030
1346:Drivers/MPU6050/inv_mpu.c ****     case INV_FILTER_188HZ:
 3459              		.loc 1 1346 24 is_stmt 0 view .LVU1031
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 113


 3460 0000 0F4B     		ldr	r3, .L286
 3461 0002 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
1346:Drivers/MPU6050/inv_mpu.c ****     case INV_FILTER_188HZ:
 3462              		.loc 1 1346 5 view .LVU1032
 3463 0004 013B     		subs	r3, r3, #1
 3464 0006 052B     		cmp	r3, #5
 3465 0008 17D8     		bhi	.L277
 3466 000a DFE803F0 		tbb	[pc, r3]
 3467              	.L279:
 3468 000e 03       		.byte	(.L284-.L279)/2
 3469 000f 07       		.byte	(.L283-.L279)/2
 3470 0010 0A       		.byte	(.L282-.L279)/2
 3471 0011 0D       		.byte	(.L281-.L279)/2
 3472 0012 10       		.byte	(.L280-.L279)/2
 3473 0013 13       		.byte	(.L278-.L279)/2
 3474              		.p2align 1
 3475              	.L284:
1348:Drivers/MPU6050/inv_mpu.c ****         break;
 3476              		.loc 1 1348 9 is_stmt 1 view .LVU1033
1348:Drivers/MPU6050/inv_mpu.c ****         break;
 3477              		.loc 1 1348 16 is_stmt 0 view .LVU1034
 3478 0014 BC23     		movs	r3, #188
 3479 0016 0380     		strh	r3, [r0]	@ movhi
1349:Drivers/MPU6050/inv_mpu.c ****     case INV_FILTER_98HZ:
 3480              		.loc 1 1349 9 is_stmt 1 view .LVU1035
 3481              	.L285:
1371:Drivers/MPU6050/inv_mpu.c **** }
 3482              		.loc 1 1371 5 view .LVU1036
1372:Drivers/MPU6050/inv_mpu.c **** 
 3483              		.loc 1 1372 1 is_stmt 0 view .LVU1037
 3484 0018 0020     		movs	r0, #0
 3485              	.LVL213:
1372:Drivers/MPU6050/inv_mpu.c **** 
 3486              		.loc 1 1372 1 view .LVU1038
 3487 001a 7047     		bx	lr
 3488              	.LVL214:
 3489              	.L283:
1351:Drivers/MPU6050/inv_mpu.c ****         break;
 3490              		.loc 1 1351 9 is_stmt 1 view .LVU1039
1351:Drivers/MPU6050/inv_mpu.c ****         break;
 3491              		.loc 1 1351 16 is_stmt 0 view .LVU1040
 3492 001c 6223     		movs	r3, #98
 3493 001e 0380     		strh	r3, [r0]	@ movhi
1352:Drivers/MPU6050/inv_mpu.c ****     case INV_FILTER_42HZ:
 3494              		.loc 1 1352 9 is_stmt 1 view .LVU1041
 3495 0020 FAE7     		b	.L285
 3496              	.L282:
1354:Drivers/MPU6050/inv_mpu.c ****         break;
 3497              		.loc 1 1354 9 view .LVU1042
1354:Drivers/MPU6050/inv_mpu.c ****         break;
 3498              		.loc 1 1354 16 is_stmt 0 view .LVU1043
 3499 0022 2A23     		movs	r3, #42
 3500 0024 0380     		strh	r3, [r0]	@ movhi
1355:Drivers/MPU6050/inv_mpu.c ****     case INV_FILTER_20HZ:
 3501              		.loc 1 1355 9 is_stmt 1 view .LVU1044
 3502 0026 F7E7     		b	.L285
 3503              	.L281:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 114


1357:Drivers/MPU6050/inv_mpu.c ****         break;
 3504              		.loc 1 1357 9 view .LVU1045
1357:Drivers/MPU6050/inv_mpu.c ****         break;
 3505              		.loc 1 1357 16 is_stmt 0 view .LVU1046
 3506 0028 1423     		movs	r3, #20
 3507 002a 0380     		strh	r3, [r0]	@ movhi
1358:Drivers/MPU6050/inv_mpu.c ****     case INV_FILTER_10HZ:
 3508              		.loc 1 1358 9 is_stmt 1 view .LVU1047
 3509 002c F4E7     		b	.L285
 3510              	.L280:
1360:Drivers/MPU6050/inv_mpu.c ****         break;
 3511              		.loc 1 1360 9 view .LVU1048
1360:Drivers/MPU6050/inv_mpu.c ****         break;
 3512              		.loc 1 1360 16 is_stmt 0 view .LVU1049
 3513 002e 0A23     		movs	r3, #10
 3514 0030 0380     		strh	r3, [r0]	@ movhi
1361:Drivers/MPU6050/inv_mpu.c ****     case INV_FILTER_5HZ:
 3515              		.loc 1 1361 9 is_stmt 1 view .LVU1050
 3516 0032 F1E7     		b	.L285
 3517              	.L278:
1363:Drivers/MPU6050/inv_mpu.c ****         break;
 3518              		.loc 1 1363 9 view .LVU1051
1363:Drivers/MPU6050/inv_mpu.c ****         break;
 3519              		.loc 1 1363 16 is_stmt 0 view .LVU1052
 3520 0034 0523     		movs	r3, #5
 3521 0036 0380     		strh	r3, [r0]	@ movhi
1364:Drivers/MPU6050/inv_mpu.c ****     case INV_FILTER_256HZ_NOLPF2:
 3522              		.loc 1 1364 9 is_stmt 1 view .LVU1053
 3523 0038 EEE7     		b	.L285
 3524              	.L277:
1368:Drivers/MPU6050/inv_mpu.c ****         break;
 3525              		.loc 1 1368 9 view .LVU1054
1368:Drivers/MPU6050/inv_mpu.c ****         break;
 3526              		.loc 1 1368 16 is_stmt 0 view .LVU1055
 3527 003a 0023     		movs	r3, #0
 3528 003c 0380     		strh	r3, [r0]	@ movhi
1369:Drivers/MPU6050/inv_mpu.c ****     }
 3529              		.loc 1 1369 9 is_stmt 1 view .LVU1056
 3530 003e EBE7     		b	.L285
 3531              	.L287:
 3532              		.align	2
 3533              	.L286:
 3534 0040 00000000 		.word	.LANCHOR0
 3535              		.cfi_endproc
 3536              	.LFE576:
 3538              		.section	.text.mpu_set_lpf,"ax",%progbits
 3539              		.align	1
 3540              		.global	mpu_set_lpf
 3541              		.syntax unified
 3542              		.thumb
 3543              		.thumb_func
 3545              	mpu_set_lpf:
 3546              	.LVL215:
 3547              	.LFB577:
1381:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
 3548              		.loc 1 1381 1 view -0
 3549              		.cfi_startproc
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 115


 3550              		@ args = 0, pretend = 0, frame = 8
 3551              		@ frame_needed = 0, uses_anonymous_args = 0
1382:Drivers/MPU6050/inv_mpu.c **** 
 3552              		.loc 1 1382 5 view .LVU1058
1384:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3553              		.loc 1 1384 5 view .LVU1059
1384:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3554              		.loc 1 1384 22 is_stmt 0 view .LVU1060
 3555 0000 234B     		ldr	r3, .L303
 3556 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1384:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3557              		.loc 1 1384 8 view .LVU1061
 3558 0004 002B     		cmp	r3, #0
 3559 0006 3AD0     		beq	.L296
1381:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
 3560              		.loc 1 1381 1 view .LVU1062
 3561 0008 00B5     		push	{lr}
 3562              	.LCFI69:
 3563              		.cfi_def_cfa_offset 4
 3564              		.cfi_offset 14, -4
 3565 000a 83B0     		sub	sp, sp, #12
 3566              	.LCFI70:
 3567              		.cfi_def_cfa_offset 16
1387:Drivers/MPU6050/inv_mpu.c ****         data = INV_FILTER_188HZ;
 3568              		.loc 1 1387 5 is_stmt 1 view .LVU1063
1387:Drivers/MPU6050/inv_mpu.c ****         data = INV_FILTER_188HZ;
 3569              		.loc 1 1387 8 is_stmt 0 view .LVU1064
 3570 000c BB28     		cmp	r0, #187
 3571 000e 1AD9     		bls	.L290
1388:Drivers/MPU6050/inv_mpu.c ****     else if (lpf >= 98)
 3572              		.loc 1 1388 9 is_stmt 1 view .LVU1065
1388:Drivers/MPU6050/inv_mpu.c ****     else if (lpf >= 98)
 3573              		.loc 1 1388 14 is_stmt 0 view .LVU1066
 3574 0010 0123     		movs	r3, #1
 3575 0012 8DF80730 		strb	r3, [sp, #7]
 3576              	.L291:
1400:Drivers/MPU6050/inv_mpu.c ****         return 0;
 3577              		.loc 1 1400 5 is_stmt 1 view .LVU1067
1400:Drivers/MPU6050/inv_mpu.c ****         return 0;
 3578              		.loc 1 1400 20 is_stmt 0 view .LVU1068
 3579 0016 1E4B     		ldr	r3, .L303
 3580 0018 DA7A     		ldrb	r2, [r3, #11]	@ zero_extendqisi2
1400:Drivers/MPU6050/inv_mpu.c ****         return 0;
 3581              		.loc 1 1400 25 view .LVU1069
 3582 001a 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
1400:Drivers/MPU6050/inv_mpu.c ****         return 0;
 3583              		.loc 1 1400 8 view .LVU1070
 3584 001e 9A42     		cmp	r2, r3
 3585 0020 30D0     		beq	.L297
1402:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3586              		.loc 1 1402 5 is_stmt 1 view .LVU1071
1402:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3587              		.loc 1 1402 21 is_stmt 0 view .LVU1072
 3588 0022 1B4B     		ldr	r3, .L303
 3589 0024 5868     		ldr	r0, [r3, #4]
 3590              	.LVL216:
1402:Drivers/MPU6050/inv_mpu.c ****         return -1;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 116


 3591              		.loc 1 1402 34 view .LVU1073
 3592 0026 1968     		ldr	r1, [r3]
1402:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3593              		.loc 1 1402 9 view .LVU1074
 3594 0028 0DF10703 		add	r3, sp, #7
 3595 002c 0122     		movs	r2, #1
 3596 002e 8978     		ldrb	r1, [r1, #2]	@ zero_extendqisi2
 3597 0030 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3598 0032 FFF7FEFF 		bl	i2cwrite
 3599              	.LVL217:
1402:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3600              		.loc 1 1402 8 view .LVU1075
 3601 0036 38BB     		cbnz	r0, .L298
1404:Drivers/MPU6050/inv_mpu.c ****     return 0;
 3602              		.loc 1 1404 5 is_stmt 1 view .LVU1076
1404:Drivers/MPU6050/inv_mpu.c ****     return 0;
 3603              		.loc 1 1404 21 is_stmt 0 view .LVU1077
 3604 0038 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 3605 003c 144B     		ldr	r3, .L303
 3606 003e DA72     		strb	r2, [r3, #11]
1405:Drivers/MPU6050/inv_mpu.c **** }
 3607              		.loc 1 1405 5 is_stmt 1 view .LVU1078
 3608              	.L288:
1406:Drivers/MPU6050/inv_mpu.c **** 
 3609              		.loc 1 1406 1 is_stmt 0 view .LVU1079
 3610 0040 03B0     		add	sp, sp, #12
 3611              	.LCFI71:
 3612              		.cfi_remember_state
 3613              		.cfi_def_cfa_offset 4
 3614              		@ sp needed
 3615 0042 5DF804FB 		ldr	pc, [sp], #4
 3616              	.LVL218:
 3617              	.L290:
 3618              	.LCFI72:
 3619              		.cfi_restore_state
1389:Drivers/MPU6050/inv_mpu.c ****         data = INV_FILTER_98HZ;
 3620              		.loc 1 1389 10 is_stmt 1 view .LVU1080
1389:Drivers/MPU6050/inv_mpu.c ****         data = INV_FILTER_98HZ;
 3621              		.loc 1 1389 13 is_stmt 0 view .LVU1081
 3622 0046 6128     		cmp	r0, #97
 3623 0048 03D9     		bls	.L292
1390:Drivers/MPU6050/inv_mpu.c ****     else if (lpf >= 42)
 3624              		.loc 1 1390 9 is_stmt 1 view .LVU1082
1390:Drivers/MPU6050/inv_mpu.c ****     else if (lpf >= 42)
 3625              		.loc 1 1390 14 is_stmt 0 view .LVU1083
 3626 004a 0223     		movs	r3, #2
 3627 004c 8DF80730 		strb	r3, [sp, #7]
 3628 0050 E1E7     		b	.L291
 3629              	.L292:
1391:Drivers/MPU6050/inv_mpu.c ****         data = INV_FILTER_42HZ;
 3630              		.loc 1 1391 10 is_stmt 1 view .LVU1084
1391:Drivers/MPU6050/inv_mpu.c ****         data = INV_FILTER_42HZ;
 3631              		.loc 1 1391 13 is_stmt 0 view .LVU1085
 3632 0052 2928     		cmp	r0, #41
 3633 0054 03D9     		bls	.L293
1392:Drivers/MPU6050/inv_mpu.c ****     else if (lpf >= 20)
 3634              		.loc 1 1392 9 is_stmt 1 view .LVU1086
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 117


1392:Drivers/MPU6050/inv_mpu.c ****     else if (lpf >= 20)
 3635              		.loc 1 1392 14 is_stmt 0 view .LVU1087
 3636 0056 0323     		movs	r3, #3
 3637 0058 8DF80730 		strb	r3, [sp, #7]
 3638 005c DBE7     		b	.L291
 3639              	.L293:
1393:Drivers/MPU6050/inv_mpu.c ****         data = INV_FILTER_20HZ;
 3640              		.loc 1 1393 10 is_stmt 1 view .LVU1088
1393:Drivers/MPU6050/inv_mpu.c ****         data = INV_FILTER_20HZ;
 3641              		.loc 1 1393 13 is_stmt 0 view .LVU1089
 3642 005e 1328     		cmp	r0, #19
 3643 0060 03D9     		bls	.L294
1394:Drivers/MPU6050/inv_mpu.c ****     else if (lpf >= 10)
 3644              		.loc 1 1394 9 is_stmt 1 view .LVU1090
1394:Drivers/MPU6050/inv_mpu.c ****     else if (lpf >= 10)
 3645              		.loc 1 1394 14 is_stmt 0 view .LVU1091
 3646 0062 0423     		movs	r3, #4
 3647 0064 8DF80730 		strb	r3, [sp, #7]
 3648 0068 D5E7     		b	.L291
 3649              	.L294:
1395:Drivers/MPU6050/inv_mpu.c ****         data = INV_FILTER_10HZ;
 3650              		.loc 1 1395 10 is_stmt 1 view .LVU1092
1395:Drivers/MPU6050/inv_mpu.c ****         data = INV_FILTER_10HZ;
 3651              		.loc 1 1395 13 is_stmt 0 view .LVU1093
 3652 006a 0928     		cmp	r0, #9
 3653 006c 03D9     		bls	.L295
1396:Drivers/MPU6050/inv_mpu.c ****     else
 3654              		.loc 1 1396 9 is_stmt 1 view .LVU1094
1396:Drivers/MPU6050/inv_mpu.c ****     else
 3655              		.loc 1 1396 14 is_stmt 0 view .LVU1095
 3656 006e 0523     		movs	r3, #5
 3657 0070 8DF80730 		strb	r3, [sp, #7]
 3658 0074 CFE7     		b	.L291
 3659              	.L295:
1398:Drivers/MPU6050/inv_mpu.c **** 
 3660              		.loc 1 1398 9 is_stmt 1 view .LVU1096
1398:Drivers/MPU6050/inv_mpu.c **** 
 3661              		.loc 1 1398 14 is_stmt 0 view .LVU1097
 3662 0076 0623     		movs	r3, #6
 3663 0078 8DF80730 		strb	r3, [sp, #7]
 3664 007c CBE7     		b	.L291
 3665              	.L296:
 3666              	.LCFI73:
 3667              		.cfi_def_cfa_offset 0
 3668              		.cfi_restore 14
1385:Drivers/MPU6050/inv_mpu.c **** 
 3669              		.loc 1 1385 16 view .LVU1098
 3670 007e 4FF0FF30 		mov	r0, #-1
 3671              	.LVL219:
1406:Drivers/MPU6050/inv_mpu.c **** 
 3672              		.loc 1 1406 1 view .LVU1099
 3673 0082 7047     		bx	lr
 3674              	.LVL220:
 3675              	.L297:
 3676              	.LCFI74:
 3677              		.cfi_def_cfa_offset 16
 3678              		.cfi_offset 14, -4
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 118


1401:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->lpf, 1, &data))
 3679              		.loc 1 1401 16 view .LVU1100
 3680 0084 0020     		movs	r0, #0
 3681              	.LVL221:
1401:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->lpf, 1, &data))
 3682              		.loc 1 1401 16 view .LVU1101
 3683 0086 DBE7     		b	.L288
 3684              	.L298:
1403:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lpf = data;
 3685              		.loc 1 1403 16 view .LVU1102
 3686 0088 4FF0FF30 		mov	r0, #-1
 3687 008c D8E7     		b	.L288
 3688              	.L304:
 3689 008e 00BF     		.align	2
 3690              	.L303:
 3691 0090 00000000 		.word	.LANCHOR0
 3692              		.cfi_endproc
 3693              	.LFE577:
 3695              		.section	.text.mpu_get_sample_rate,"ax",%progbits
 3696              		.align	1
 3697              		.global	mpu_get_sample_rate
 3698              		.syntax unified
 3699              		.thumb
 3700              		.thumb_func
 3702              	mpu_get_sample_rate:
 3703              	.LVL222:
 3704              	.LFB578:
1414:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.dmp_on)
 3705              		.loc 1 1414 1 is_stmt 1 view -0
 3706              		.cfi_startproc
 3707              		@ args = 0, pretend = 0, frame = 0
 3708              		@ frame_needed = 0, uses_anonymous_args = 0
 3709              		@ link register save eliminated.
1415:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3710              		.loc 1 1415 5 view .LVU1104
1415:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3711              		.loc 1 1415 20 is_stmt 0 view .LVU1105
 3712 0000 054B     		ldr	r3, .L308
 3713 0002 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1415:Drivers/MPU6050/inv_mpu.c ****         return -1;
 3714              		.loc 1 1415 8 view .LVU1106
 3715 0006 23B9     		cbnz	r3, .L307
1418:Drivers/MPU6050/inv_mpu.c ****     return 0;
 3716              		.loc 1 1418 9 is_stmt 1 view .LVU1107
1418:Drivers/MPU6050/inv_mpu.c ****     return 0;
 3717              		.loc 1 1418 30 is_stmt 0 view .LVU1108
 3718 0008 034B     		ldr	r3, .L308
 3719 000a DB89     		ldrh	r3, [r3, #14]
1418:Drivers/MPU6050/inv_mpu.c ****     return 0;
 3720              		.loc 1 1418 17 view .LVU1109
 3721 000c 0380     		strh	r3, [r0]	@ movhi
1419:Drivers/MPU6050/inv_mpu.c **** }
 3722              		.loc 1 1419 5 is_stmt 1 view .LVU1110
1419:Drivers/MPU6050/inv_mpu.c **** }
 3723              		.loc 1 1419 12 is_stmt 0 view .LVU1111
 3724 000e 0020     		movs	r0, #0
 3725              	.LVL223:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 119


1419:Drivers/MPU6050/inv_mpu.c **** }
 3726              		.loc 1 1419 12 view .LVU1112
 3727 0010 7047     		bx	lr
 3728              	.LVL224:
 3729              	.L307:
1416:Drivers/MPU6050/inv_mpu.c ****     else
 3730              		.loc 1 1416 16 view .LVU1113
 3731 0012 4FF0FF30 		mov	r0, #-1
 3732              	.LVL225:
1420:Drivers/MPU6050/inv_mpu.c **** 
 3733              		.loc 1 1420 1 view .LVU1114
 3734 0016 7047     		bx	lr
 3735              	.L309:
 3736              		.align	2
 3737              	.L308:
 3738 0018 00000000 		.word	.LANCHOR0
 3739              		.cfi_endproc
 3740              	.LFE578:
 3742              		.section	.text.mpu_get_compass_sample_rate,"ax",%progbits
 3743              		.align	1
 3744              		.global	mpu_get_compass_sample_rate
 3745              		.syntax unified
 3746              		.thumb
 3747              		.thumb_func
 3749              	mpu_get_compass_sample_rate:
 3750              	.LVL226:
 3751              	.LFB580:
1476:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 3752              		.loc 1 1476 1 is_stmt 1 view -0
 3753              		.cfi_startproc
 3754              		@ args = 0, pretend = 0, frame = 0
 3755              		@ frame_needed = 0, uses_anonymous_args = 0
 3756              		@ link register save eliminated.
1481:Drivers/MPU6050/inv_mpu.c ****     return -1;
 3757              		.loc 1 1481 5 view .LVU1116
1481:Drivers/MPU6050/inv_mpu.c ****     return -1;
 3758              		.loc 1 1481 13 is_stmt 0 view .LVU1117
 3759 0000 0023     		movs	r3, #0
 3760 0002 0380     		strh	r3, [r0]	@ movhi
1482:Drivers/MPU6050/inv_mpu.c **** #endif
 3761              		.loc 1 1482 5 is_stmt 1 view .LVU1118
1484:Drivers/MPU6050/inv_mpu.c **** 
 3762              		.loc 1 1484 1 is_stmt 0 view .LVU1119
 3763 0004 4FF0FF30 		mov	r0, #-1
 3764              	.LVL227:
1484:Drivers/MPU6050/inv_mpu.c **** 
 3765              		.loc 1 1484 1 view .LVU1120
 3766 0008 7047     		bx	lr
 3767              		.cfi_endproc
 3768              	.LFE580:
 3770              		.section	.text.mpu_set_compass_sample_rate,"ax",%progbits
 3771              		.align	1
 3772              		.global	mpu_set_compass_sample_rate
 3773              		.syntax unified
 3774              		.thumb
 3775              		.thumb_func
 3777              	mpu_set_compass_sample_rate:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 120


 3778              	.LVL228:
 3779              	.LFB581:
1498:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 3780              		.loc 1 1498 1 is_stmt 1 view -0
 3781              		.cfi_startproc
 3782              		@ args = 0, pretend = 0, frame = 0
 3783              		@ frame_needed = 0, uses_anonymous_args = 0
 3784              		@ link register save eliminated.
1510:Drivers/MPU6050/inv_mpu.c **** #endif
 3785              		.loc 1 1510 5 view .LVU1122
1512:Drivers/MPU6050/inv_mpu.c **** 
 3786              		.loc 1 1512 1 is_stmt 0 view .LVU1123
 3787 0000 4FF0FF30 		mov	r0, #-1
 3788              	.LVL229:
1512:Drivers/MPU6050/inv_mpu.c **** 
 3789              		.loc 1 1512 1 view .LVU1124
 3790 0004 7047     		bx	lr
 3791              		.cfi_endproc
 3792              	.LFE581:
 3794              		.section	.text.mpu_get_gyro_sens,"ax",%progbits
 3795              		.align	1
 3796              		.global	mpu_get_gyro_sens
 3797              		.syntax unified
 3798              		.thumb
 3799              		.thumb_func
 3801              	mpu_get_gyro_sens:
 3802              	.LVL230:
 3803              	.LFB582:
1520:Drivers/MPU6050/inv_mpu.c ****     switch (st.chip_cfg.gyro_fsr) {
 3804              		.loc 1 1520 1 is_stmt 1 view -0
 3805              		.cfi_startproc
 3806              		@ args = 0, pretend = 0, frame = 0
 3807              		@ frame_needed = 0, uses_anonymous_args = 0
 3808              		@ link register save eliminated.
1521:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_250DPS:
 3809              		.loc 1 1521 5 view .LVU1126
1521:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_250DPS:
 3810              		.loc 1 1521 24 is_stmt 0 view .LVU1127
 3811 0000 0D4B     		ldr	r3, .L320
 3812 0002 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
1521:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_250DPS:
 3813              		.loc 1 1521 5 view .LVU1128
 3814 0004 032B     		cmp	r3, #3
 3815 0006 13D8     		bhi	.L319
 3816 0008 DFE803F0 		tbb	[pc, r3]
 3817              	.L315:
 3818 000c 02       		.byte	(.L318-.L315)/2
 3819 000d 06       		.byte	(.L317-.L315)/2
 3820 000e 0A       		.byte	(.L316-.L315)/2
 3821 000f 0E       		.byte	(.L314-.L315)/2
 3822              		.p2align 1
 3823              	.L318:
1523:Drivers/MPU6050/inv_mpu.c ****         break;
 3824              		.loc 1 1523 9 is_stmt 1 view .LVU1129
1523:Drivers/MPU6050/inv_mpu.c ****         break;
 3825              		.loc 1 1523 17 is_stmt 0 view .LVU1130
 3826 0010 0A4B     		ldr	r3, .L320+4
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 121


 3827 0012 0360     		str	r3, [r0]	@ float
1524:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_500DPS:
 3828              		.loc 1 1524 9 is_stmt 1 view .LVU1131
1537:Drivers/MPU6050/inv_mpu.c **** }
 3829              		.loc 1 1537 12 is_stmt 0 view .LVU1132
 3830 0014 0020     		movs	r0, #0
 3831              	.LVL231:
1524:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_500DPS:
 3832              		.loc 1 1524 9 view .LVU1133
 3833 0016 7047     		bx	lr
 3834              	.LVL232:
 3835              	.L317:
1526:Drivers/MPU6050/inv_mpu.c ****         break;
 3836              		.loc 1 1526 9 is_stmt 1 view .LVU1134
1526:Drivers/MPU6050/inv_mpu.c ****         break;
 3837              		.loc 1 1526 17 is_stmt 0 view .LVU1135
 3838 0018 094B     		ldr	r3, .L320+8
 3839 001a 0360     		str	r3, [r0]	@ float
1527:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_1000DPS:
 3840              		.loc 1 1527 9 is_stmt 1 view .LVU1136
1537:Drivers/MPU6050/inv_mpu.c **** }
 3841              		.loc 1 1537 12 is_stmt 0 view .LVU1137
 3842 001c 0020     		movs	r0, #0
 3843              	.LVL233:
1527:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_1000DPS:
 3844              		.loc 1 1527 9 view .LVU1138
 3845 001e 7047     		bx	lr
 3846              	.LVL234:
 3847              	.L316:
1529:Drivers/MPU6050/inv_mpu.c ****         break;
 3848              		.loc 1 1529 9 is_stmt 1 view .LVU1139
1529:Drivers/MPU6050/inv_mpu.c ****         break;
 3849              		.loc 1 1529 17 is_stmt 0 view .LVU1140
 3850 0020 084B     		ldr	r3, .L320+12
 3851 0022 0360     		str	r3, [r0]	@ float
1530:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_2000DPS:
 3852              		.loc 1 1530 9 is_stmt 1 view .LVU1141
1537:Drivers/MPU6050/inv_mpu.c **** }
 3853              		.loc 1 1537 12 is_stmt 0 view .LVU1142
 3854 0024 0020     		movs	r0, #0
 3855              	.LVL235:
1530:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_2000DPS:
 3856              		.loc 1 1530 9 view .LVU1143
 3857 0026 7047     		bx	lr
 3858              	.LVL236:
 3859              	.L314:
1532:Drivers/MPU6050/inv_mpu.c ****         break;
 3860              		.loc 1 1532 9 is_stmt 1 view .LVU1144
1532:Drivers/MPU6050/inv_mpu.c ****         break;
 3861              		.loc 1 1532 17 is_stmt 0 view .LVU1145
 3862 0028 074B     		ldr	r3, .L320+16
 3863 002a 0360     		str	r3, [r0]	@ float
1533:Drivers/MPU6050/inv_mpu.c ****     default:
 3864              		.loc 1 1533 9 is_stmt 1 view .LVU1146
1537:Drivers/MPU6050/inv_mpu.c **** }
 3865              		.loc 1 1537 12 is_stmt 0 view .LVU1147
 3866 002c 0020     		movs	r0, #0
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 122


 3867              	.LVL237:
1533:Drivers/MPU6050/inv_mpu.c ****     default:
 3868              		.loc 1 1533 9 view .LVU1148
 3869 002e 7047     		bx	lr
 3870              	.LVL238:
 3871              	.L319:
1521:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_250DPS:
 3872              		.loc 1 1521 5 view .LVU1149
 3873 0030 4FF0FF30 		mov	r0, #-1
 3874              	.LVL239:
1538:Drivers/MPU6050/inv_mpu.c **** 
 3875              		.loc 1 1538 1 view .LVU1150
 3876 0034 7047     		bx	lr
 3877              	.L321:
 3878 0036 00BF     		.align	2
 3879              	.L320:
 3880 0038 00000000 		.word	.LANCHOR0
 3881 003c 00000343 		.word	1124270080
 3882 0040 00008342 		.word	1115881472
 3883 0044 33330342 		.word	1107505971
 3884 0048 33338341 		.word	1099117363
 3885              		.cfi_endproc
 3886              	.LFE582:
 3888              		.section	.text.mpu_get_accel_sens,"ax",%progbits
 3889              		.align	1
 3890              		.global	mpu_get_accel_sens
 3891              		.syntax unified
 3892              		.thumb
 3893              		.thumb_func
 3895              	mpu_get_accel_sens:
 3896              	.LVL240:
 3897              	.LFB583:
1546:Drivers/MPU6050/inv_mpu.c ****     switch (st.chip_cfg.accel_fsr) {
 3898              		.loc 1 1546 1 is_stmt 1 view -0
 3899              		.cfi_startproc
 3900              		@ args = 0, pretend = 0, frame = 0
 3901              		@ frame_needed = 0, uses_anonymous_args = 0
 3902              		@ link register save eliminated.
1547:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_2G:
 3903              		.loc 1 1547 5 view .LVU1152
1547:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_2G:
 3904              		.loc 1 1547 24 is_stmt 0 view .LVU1153
 3905 0000 114B     		ldr	r3, .L332
 3906 0002 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
1547:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_2G:
 3907              		.loc 1 1547 5 view .LVU1154
 3908 0004 032B     		cmp	r3, #3
 3909 0006 1AD8     		bhi	.L330
 3910 0008 DFE803F0 		tbb	[pc, r3]
 3911              	.L325:
 3912 000c 02       		.byte	(.L328-.L325)/2
 3913 000d 0D       		.byte	(.L327-.L325)/2
 3914 000e 11       		.byte	(.L326-.L325)/2
 3915 000f 15       		.byte	(.L324-.L325)/2
 3916              		.p2align 1
 3917              	.L328:
1549:Drivers/MPU6050/inv_mpu.c ****         break;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 123


 3918              		.loc 1 1549 9 is_stmt 1 view .LVU1155
1549:Drivers/MPU6050/inv_mpu.c ****         break;
 3919              		.loc 1 1549 17 is_stmt 0 view .LVU1156
 3920 0010 4FF48043 		mov	r3, #16384
 3921 0014 0380     		strh	r3, [r0]	@ movhi
1550:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_4G:
 3922              		.loc 1 1550 9 is_stmt 1 view .LVU1157
 3923              	.L329:
1563:Drivers/MPU6050/inv_mpu.c ****         sens[0] >>= 1;
 3924              		.loc 1 1563 5 view .LVU1158
1563:Drivers/MPU6050/inv_mpu.c ****         sens[0] >>= 1;
 3925              		.loc 1 1563 20 is_stmt 0 view .LVU1159
 3926 0016 0C4B     		ldr	r3, .L332
 3927 0018 DB7C     		ldrb	r3, [r3, #19]	@ zero_extendqisi2
1563:Drivers/MPU6050/inv_mpu.c ****         sens[0] >>= 1;
 3928              		.loc 1 1563 8 view .LVU1160
 3929 001a 9BB1     		cbz	r3, .L331
1564:Drivers/MPU6050/inv_mpu.c ****     return 0;
 3930              		.loc 1 1564 9 is_stmt 1 view .LVU1161
1564:Drivers/MPU6050/inv_mpu.c ****     return 0;
 3931              		.loc 1 1564 17 is_stmt 0 view .LVU1162
 3932 001c 0388     		ldrh	r3, [r0]
 3933 001e 5B08     		lsrs	r3, r3, #1
 3934 0020 0380     		strh	r3, [r0]	@ movhi
1565:Drivers/MPU6050/inv_mpu.c **** }
 3935              		.loc 1 1565 12 view .LVU1163
 3936 0022 0020     		movs	r0, #0
 3937              	.LVL241:
1565:Drivers/MPU6050/inv_mpu.c **** }
 3938              		.loc 1 1565 12 view .LVU1164
 3939 0024 7047     		bx	lr
 3940              	.LVL242:
 3941              	.L327:
1552:Drivers/MPU6050/inv_mpu.c ****         break;
 3942              		.loc 1 1552 9 is_stmt 1 view .LVU1165
1552:Drivers/MPU6050/inv_mpu.c ****         break;
 3943              		.loc 1 1552 17 is_stmt 0 view .LVU1166
 3944 0026 4FF40053 		mov	r3, #8192
 3945 002a 0380     		strh	r3, [r0]	@ movhi
1553:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_8G:
 3946              		.loc 1 1553 9 is_stmt 1 view .LVU1167
 3947 002c F3E7     		b	.L329
 3948              	.L326:
1555:Drivers/MPU6050/inv_mpu.c ****         break;
 3949              		.loc 1 1555 9 view .LVU1168
1555:Drivers/MPU6050/inv_mpu.c ****         break;
 3950              		.loc 1 1555 17 is_stmt 0 view .LVU1169
 3951 002e 4FF48053 		mov	r3, #4096
 3952 0032 0380     		strh	r3, [r0]	@ movhi
1556:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_16G:
 3953              		.loc 1 1556 9 is_stmt 1 view .LVU1170
 3954 0034 EFE7     		b	.L329
 3955              	.L324:
1558:Drivers/MPU6050/inv_mpu.c ****         break;
 3956              		.loc 1 1558 9 view .LVU1171
1558:Drivers/MPU6050/inv_mpu.c ****         break;
 3957              		.loc 1 1558 17 is_stmt 0 view .LVU1172
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 124


 3958 0036 4FF40063 		mov	r3, #2048
 3959 003a 0380     		strh	r3, [r0]	@ movhi
1559:Drivers/MPU6050/inv_mpu.c ****     default:
 3960              		.loc 1 1559 9 is_stmt 1 view .LVU1173
 3961 003c EBE7     		b	.L329
 3962              	.L330:
1547:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_2G:
 3963              		.loc 1 1547 5 is_stmt 0 view .LVU1174
 3964 003e 4FF0FF30 		mov	r0, #-1
 3965              	.LVL243:
1547:Drivers/MPU6050/inv_mpu.c ****     case INV_FSR_2G:
 3966              		.loc 1 1547 5 view .LVU1175
 3967 0042 7047     		bx	lr
 3968              	.LVL244:
 3969              	.L331:
1565:Drivers/MPU6050/inv_mpu.c **** }
 3970              		.loc 1 1565 12 view .LVU1176
 3971 0044 0020     		movs	r0, #0
 3972              	.LVL245:
1566:Drivers/MPU6050/inv_mpu.c **** 
 3973              		.loc 1 1566 1 view .LVU1177
 3974 0046 7047     		bx	lr
 3975              	.L333:
 3976              		.align	2
 3977              	.L332:
 3978 0048 00000000 		.word	.LANCHOR0
 3979              		.cfi_endproc
 3980              	.LFE583:
 3982              		.section	.text.mpu_get_fifo_config,"ax",%progbits
 3983              		.align	1
 3984              		.global	mpu_get_fifo_config
 3985              		.syntax unified
 3986              		.thumb
 3987              		.thumb_func
 3989              	mpu_get_fifo_config:
 3990              	.LVL246:
 3991              	.LFB584:
1578:Drivers/MPU6050/inv_mpu.c ****     sensors[0] = st.chip_cfg.fifo_enable;
 3992              		.loc 1 1578 1 is_stmt 1 view -0
 3993              		.cfi_startproc
 3994              		@ args = 0, pretend = 0, frame = 0
 3995              		@ frame_needed = 0, uses_anonymous_args = 0
 3996              		@ link register save eliminated.
1579:Drivers/MPU6050/inv_mpu.c ****     return 0;
 3997              		.loc 1 1579 5 view .LVU1179
1579:Drivers/MPU6050/inv_mpu.c ****     return 0;
 3998              		.loc 1 1579 29 is_stmt 0 view .LVU1180
 3999 0000 024B     		ldr	r3, .L335
 4000 0002 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
1579:Drivers/MPU6050/inv_mpu.c ****     return 0;
 4001              		.loc 1 1579 16 view .LVU1181
 4002 0004 0370     		strb	r3, [r0]
1580:Drivers/MPU6050/inv_mpu.c **** }
 4003              		.loc 1 1580 5 is_stmt 1 view .LVU1182
1581:Drivers/MPU6050/inv_mpu.c **** 
 4004              		.loc 1 1581 1 is_stmt 0 view .LVU1183
 4005 0006 0020     		movs	r0, #0
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 125


 4006              	.LVL247:
1581:Drivers/MPU6050/inv_mpu.c **** 
 4007              		.loc 1 1581 1 view .LVU1184
 4008 0008 7047     		bx	lr
 4009              	.L336:
 4010 000a 00BF     		.align	2
 4011              	.L335:
 4012 000c 00000000 		.word	.LANCHOR0
 4013              		.cfi_endproc
 4014              	.LFE584:
 4016              		.section	.text.mpu_configure_fifo,"ax",%progbits
 4017              		.align	1
 4018              		.global	mpu_configure_fifo
 4019              		.syntax unified
 4020              		.thumb
 4021              		.thumb_func
 4023              	mpu_configure_fifo:
 4024              	.LVL248:
 4025              	.LFB585:
1593:Drivers/MPU6050/inv_mpu.c ****     unsigned char prev;
 4026              		.loc 1 1593 1 is_stmt 1 view -0
 4027              		.cfi_startproc
 4028              		@ args = 0, pretend = 0, frame = 0
 4029              		@ frame_needed = 0, uses_anonymous_args = 0
1593:Drivers/MPU6050/inv_mpu.c ****     unsigned char prev;
 4030              		.loc 1 1593 1 is_stmt 0 view .LVU1186
 4031 0000 70B5     		push	{r4, r5, r6, lr}
 4032              	.LCFI75:
 4033              		.cfi_def_cfa_offset 16
 4034              		.cfi_offset 4, -16
 4035              		.cfi_offset 5, -12
 4036              		.cfi_offset 6, -8
 4037              		.cfi_offset 14, -4
1594:Drivers/MPU6050/inv_mpu.c ****     int result = 0;
 4038              		.loc 1 1594 5 is_stmt 1 view .LVU1187
1595:Drivers/MPU6050/inv_mpu.c **** 
 4039              		.loc 1 1595 5 view .LVU1188
 4040              	.LVL249:
1598:Drivers/MPU6050/inv_mpu.c **** 
 4041              		.loc 1 1598 5 view .LVU1189
1600:Drivers/MPU6050/inv_mpu.c ****         return 0;
 4042              		.loc 1 1600 5 view .LVU1190
1600:Drivers/MPU6050/inv_mpu.c ****         return 0;
 4043              		.loc 1 1600 20 is_stmt 0 view .LVU1191
 4044 0002 174B     		ldr	r3, .L348
 4045 0004 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1600:Drivers/MPU6050/inv_mpu.c ****         return 0;
 4046              		.loc 1 1600 8 view .LVU1192
 4047 0008 2BBB     		cbnz	r3, .L343
 4048 000a 00F0FE04 		and	r4, r0, #254
1603:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4049              		.loc 1 1603 9 is_stmt 1 view .LVU1193
1603:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4050              		.loc 1 1603 26 is_stmt 0 view .LVU1194
 4051 000e 144B     		ldr	r3, .L348
 4052 0010 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1603:Drivers/MPU6050/inv_mpu.c ****             return -1;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 126


 4053              		.loc 1 1603 12 view .LVU1195
 4054 0012 13B3     		cbz	r3, .L344
1605:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.fifo_enable = sensors & st.chip_cfg.sensors;
 4055              		.loc 1 1605 9 is_stmt 1 view .LVU1196
1605:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.fifo_enable = sensors & st.chip_cfg.sensors;
 4056              		.loc 1 1605 14 is_stmt 0 view .LVU1197
 4057 0014 124A     		ldr	r2, .L348
 4058 0016 167C     		ldrb	r6, [r2, #16]	@ zero_extendqisi2
 4059              	.LVL250:
1606:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.fifo_enable != sensors)
 4060              		.loc 1 1606 9 is_stmt 1 view .LVU1198
1606:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.fifo_enable != sensors)
 4061              		.loc 1 1606 33 is_stmt 0 view .LVU1199
 4062 0018 2340     		ands	r3, r3, r4
 4063 001a 1374     		strb	r3, [r2, #16]
1607:Drivers/MPU6050/inv_mpu.c ****             /* You're not getting what you asked for. Some sensors are
 4064              		.loc 1 1607 9 is_stmt 1 view .LVU1200
1607:Drivers/MPU6050/inv_mpu.c ****             /* You're not getting what you asked for. Some sensors are
 4065              		.loc 1 1607 12 is_stmt 0 view .LVU1201
 4066 001c A342     		cmp	r3, r4
 4067 001e 0BD0     		beq	.L345
1611:Drivers/MPU6050/inv_mpu.c ****         else
 4068              		.loc 1 1611 20 view .LVU1202
 4069 0020 4FF0FF35 		mov	r5, #-1
 4070              	.L339:
 4071              	.LVL251:
1614:Drivers/MPU6050/inv_mpu.c ****             set_int_enable(1);
 4072              		.loc 1 1614 9 is_stmt 1 view .LVU1203
1614:Drivers/MPU6050/inv_mpu.c ****             set_int_enable(1);
 4073              		.loc 1 1614 12 is_stmt 0 view .LVU1204
 4074 0024 14B9     		cbnz	r4, .L340
1614:Drivers/MPU6050/inv_mpu.c ****             set_int_enable(1);
 4075              		.loc 1 1614 35 discriminator 1 view .LVU1205
 4076 0026 0E4B     		ldr	r3, .L348
 4077 0028 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
1614:Drivers/MPU6050/inv_mpu.c ****             set_int_enable(1);
 4078              		.loc 1 1614 21 discriminator 1 view .LVU1206
 4079 002a 3BB1     		cbz	r3, .L341
 4080              	.L340:
1615:Drivers/MPU6050/inv_mpu.c ****         else
 4081              		.loc 1 1615 13 is_stmt 1 view .LVU1207
 4082 002c 0120     		movs	r0, #1
 4083              	.LVL252:
1615:Drivers/MPU6050/inv_mpu.c ****         else
 4084              		.loc 1 1615 13 is_stmt 0 view .LVU1208
 4085 002e FFF7FEFF 		bl	set_int_enable
 4086              	.LVL253:
 4087              	.L342:
1618:Drivers/MPU6050/inv_mpu.c ****             if (mpu_reset_fifo()) {
 4088              		.loc 1 1618 9 is_stmt 1 view .LVU1209
1618:Drivers/MPU6050/inv_mpu.c ****             if (mpu_reset_fifo()) {
 4089              		.loc 1 1618 12 is_stmt 0 view .LVU1210
 4090 0032 3CB9     		cbnz	r4, .L347
 4091              	.LVL254:
 4092              	.L337:
1627:Drivers/MPU6050/inv_mpu.c **** 
 4093              		.loc 1 1627 1 view .LVU1211
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 127


 4094 0034 2846     		mov	r0, r5
 4095 0036 70BD     		pop	{r4, r5, r6, pc}
 4096              	.LVL255:
 4097              	.L345:
1613:Drivers/MPU6050/inv_mpu.c ****         if (sensors || st.chip_cfg.lp_accel_mode)
 4098              		.loc 1 1613 20 view .LVU1212
 4099 0038 0025     		movs	r5, #0
 4100 003a F3E7     		b	.L339
 4101              	.LVL256:
 4102              	.L341:
1617:Drivers/MPU6050/inv_mpu.c ****         if (sensors) {
 4103              		.loc 1 1617 13 is_stmt 1 view .LVU1213
 4104 003c 0020     		movs	r0, #0
 4105              	.LVL257:
1617:Drivers/MPU6050/inv_mpu.c ****         if (sensors) {
 4106              		.loc 1 1617 13 is_stmt 0 view .LVU1214
 4107 003e FFF7FEFF 		bl	set_int_enable
 4108              	.LVL258:
 4109 0042 F6E7     		b	.L342
 4110              	.L347:
1619:Drivers/MPU6050/inv_mpu.c ****                 st.chip_cfg.fifo_enable = prev;
 4111              		.loc 1 1619 13 is_stmt 1 view .LVU1215
1619:Drivers/MPU6050/inv_mpu.c ****                 st.chip_cfg.fifo_enable = prev;
 4112              		.loc 1 1619 17 is_stmt 0 view .LVU1216
 4113 0044 FFF7FEFF 		bl	mpu_reset_fifo
 4114              	.LVL259:
1619:Drivers/MPU6050/inv_mpu.c ****                 st.chip_cfg.fifo_enable = prev;
 4115              		.loc 1 1619 16 view .LVU1217
 4116 0048 0028     		cmp	r0, #0
 4117 004a F3D0     		beq	.L337
1620:Drivers/MPU6050/inv_mpu.c ****                 return -1;
 4118              		.loc 1 1620 17 is_stmt 1 view .LVU1218
1620:Drivers/MPU6050/inv_mpu.c ****                 return -1;
 4119              		.loc 1 1620 41 is_stmt 0 view .LVU1219
 4120 004c 044B     		ldr	r3, .L348
 4121 004e 1E74     		strb	r6, [r3, #16]
1621:Drivers/MPU6050/inv_mpu.c ****             }
 4122              		.loc 1 1621 17 is_stmt 1 view .LVU1220
1621:Drivers/MPU6050/inv_mpu.c ****             }
 4123              		.loc 1 1621 24 is_stmt 0 view .LVU1221
 4124 0050 4FF0FF35 		mov	r5, #-1
 4125              	.LVL260:
1621:Drivers/MPU6050/inv_mpu.c ****             }
 4126              		.loc 1 1621 24 view .LVU1222
 4127 0054 EEE7     		b	.L337
 4128              	.LVL261:
 4129              	.L343:
1601:Drivers/MPU6050/inv_mpu.c ****     else {
 4130              		.loc 1 1601 16 view .LVU1223
 4131 0056 0025     		movs	r5, #0
 4132 0058 ECE7     		b	.L337
 4133              	.L344:
1604:Drivers/MPU6050/inv_mpu.c ****         prev = st.chip_cfg.fifo_enable;
 4134              		.loc 1 1604 20 view .LVU1224
 4135 005a 4FF0FF35 		mov	r5, #-1
 4136 005e E9E7     		b	.L337
 4137              	.L349:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 128


 4138              		.align	2
 4139              	.L348:
 4140 0060 00000000 		.word	.LANCHOR0
 4141              		.cfi_endproc
 4142              	.LFE585:
 4144              		.section	.text.mpu_get_power_state,"ax",%progbits
 4145              		.align	1
 4146              		.global	mpu_get_power_state
 4147              		.syntax unified
 4148              		.thumb
 4149              		.thumb_func
 4151              	mpu_get_power_state:
 4152              	.LVL262:
 4153              	.LFB586:
1635:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.sensors)
 4154              		.loc 1 1635 1 is_stmt 1 view -0
 4155              		.cfi_startproc
 4156              		@ args = 0, pretend = 0, frame = 0
 4157              		@ frame_needed = 0, uses_anonymous_args = 0
 4158              		@ link register save eliminated.
1636:Drivers/MPU6050/inv_mpu.c ****         power_on[0] = 1;
 4159              		.loc 1 1636 5 view .LVU1226
1636:Drivers/MPU6050/inv_mpu.c ****         power_on[0] = 1;
 4160              		.loc 1 1636 20 is_stmt 0 view .LVU1227
 4161 0000 044B     		ldr	r3, .L353
 4162 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1636:Drivers/MPU6050/inv_mpu.c ****         power_on[0] = 1;
 4163              		.loc 1 1636 8 view .LVU1228
 4164 0004 1BB1     		cbz	r3, .L351
1637:Drivers/MPU6050/inv_mpu.c ****     else
 4165              		.loc 1 1637 9 is_stmt 1 view .LVU1229
1637:Drivers/MPU6050/inv_mpu.c ****     else
 4166              		.loc 1 1637 21 is_stmt 0 view .LVU1230
 4167 0006 0123     		movs	r3, #1
 4168 0008 0370     		strb	r3, [r0]
 4169              	.L352:
1640:Drivers/MPU6050/inv_mpu.c **** }
 4170              		.loc 1 1640 5 is_stmt 1 view .LVU1231
1641:Drivers/MPU6050/inv_mpu.c **** 
 4171              		.loc 1 1641 1 is_stmt 0 view .LVU1232
 4172 000a 0020     		movs	r0, #0
 4173              	.LVL263:
1641:Drivers/MPU6050/inv_mpu.c **** 
 4174              		.loc 1 1641 1 view .LVU1233
 4175 000c 7047     		bx	lr
 4176              	.LVL264:
 4177              	.L351:
1639:Drivers/MPU6050/inv_mpu.c ****     return 0;
 4178              		.loc 1 1639 9 is_stmt 1 view .LVU1234
1639:Drivers/MPU6050/inv_mpu.c ****     return 0;
 4179              		.loc 1 1639 21 is_stmt 0 view .LVU1235
 4180 000e 0023     		movs	r3, #0
 4181 0010 0370     		strb	r3, [r0]
 4182 0012 FAE7     		b	.L352
 4183              	.L354:
 4184              		.align	2
 4185              	.L353:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 129


 4186 0014 00000000 		.word	.LANCHOR0
 4187              		.cfi_endproc
 4188              	.LFE586:
 4190              		.section	.text.mpu_get_int_status,"ax",%progbits
 4191              		.align	1
 4192              		.global	mpu_get_int_status
 4193              		.syntax unified
 4194              		.thumb
 4195              		.thumb_func
 4197              	mpu_get_int_status:
 4198              	.LVL265:
 4199              	.LFB588:
1731:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
 4200              		.loc 1 1731 1 is_stmt 1 view -0
 4201              		.cfi_startproc
 4202              		@ args = 0, pretend = 0, frame = 8
 4203              		@ frame_needed = 0, uses_anonymous_args = 0
1732:Drivers/MPU6050/inv_mpu.c ****     if (!st.chip_cfg.sensors)
 4204              		.loc 1 1732 5 view .LVU1237
1733:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4205              		.loc 1 1733 5 view .LVU1238
1733:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4206              		.loc 1 1733 21 is_stmt 0 view .LVU1239
 4207 0000 0F4B     		ldr	r3, .L363
 4208 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1733:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4209              		.loc 1 1733 8 view .LVU1240
 4210 0004 ABB1     		cbz	r3, .L357
1731:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
 4211              		.loc 1 1731 1 view .LVU1241
 4212 0006 10B5     		push	{r4, lr}
 4213              	.LCFI76:
 4214              		.cfi_def_cfa_offset 8
 4215              		.cfi_offset 4, -8
 4216              		.cfi_offset 14, -4
 4217 0008 82B0     		sub	sp, sp, #8
 4218              	.LCFI77:
 4219              		.cfi_def_cfa_offset 16
 4220 000a 0446     		mov	r4, r0
1735:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4221              		.loc 1 1735 5 is_stmt 1 view .LVU1242
1735:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4222              		.loc 1 1735 20 is_stmt 0 view .LVU1243
 4223 000c 0C4B     		ldr	r3, .L363
 4224 000e 5868     		ldr	r0, [r3, #4]
 4225              	.LVL266:
1735:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4226              		.loc 1 1735 33 view .LVU1244
 4227 0010 1968     		ldr	r1, [r3]
1735:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4228              		.loc 1 1735 9 view .LVU1245
 4229 0012 01AB     		add	r3, sp, #4
 4230 0014 0222     		movs	r2, #2
 4231 0016 097C     		ldrb	r1, [r1, #16]	@ zero_extendqisi2
 4232 0018 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4233 001a FFF7FEFF 		bl	i2cread
 4234              	.LVL267:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 130


1735:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4235              		.loc 1 1735 8 view .LVU1246
 4236 001e 58B9     		cbnz	r0, .L358
1737:Drivers/MPU6050/inv_mpu.c ****     return 0;
 4237              		.loc 1 1737 5 is_stmt 1 view .LVU1247
1737:Drivers/MPU6050/inv_mpu.c ****     return 0;
 4238              		.loc 1 1737 21 is_stmt 0 view .LVU1248
 4239 0020 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
1737:Drivers/MPU6050/inv_mpu.c ****     return 0;
 4240              		.loc 1 1737 36 view .LVU1249
 4241 0024 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
1737:Drivers/MPU6050/inv_mpu.c ****     return 0;
 4242              		.loc 1 1737 31 view .LVU1250
 4243 0028 43EA0223 		orr	r3, r3, r2, lsl #8
1737:Drivers/MPU6050/inv_mpu.c ****     return 0;
 4244              		.loc 1 1737 15 view .LVU1251
 4245 002c 2380     		strh	r3, [r4]	@ movhi
1738:Drivers/MPU6050/inv_mpu.c **** }
 4246              		.loc 1 1738 5 is_stmt 1 view .LVU1252
 4247              	.L355:
1739:Drivers/MPU6050/inv_mpu.c **** 
 4248              		.loc 1 1739 1 is_stmt 0 view .LVU1253
 4249 002e 02B0     		add	sp, sp, #8
 4250              	.LCFI78:
 4251              		.cfi_def_cfa_offset 8
 4252              		@ sp needed
 4253 0030 10BD     		pop	{r4, pc}
 4254              	.LVL268:
 4255              	.L357:
 4256              	.LCFI79:
 4257              		.cfi_def_cfa_offset 0
 4258              		.cfi_restore 4
 4259              		.cfi_restore 14
1734:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->dmp_int_status, 2, tmp))
 4260              		.loc 1 1734 16 view .LVU1254
 4261 0032 4FF0FF30 		mov	r0, #-1
 4262              	.LVL269:
1739:Drivers/MPU6050/inv_mpu.c **** 
 4263              		.loc 1 1739 1 view .LVU1255
 4264 0036 7047     		bx	lr
 4265              	.LVL270:
 4266              	.L358:
 4267              	.LCFI80:
 4268              		.cfi_def_cfa_offset 16
 4269              		.cfi_offset 4, -8
 4270              		.cfi_offset 14, -4
1736:Drivers/MPU6050/inv_mpu.c ****     status[0] = (tmp[0] << 8) | tmp[1];
 4271              		.loc 1 1736 16 view .LVU1256
 4272 0038 4FF0FF30 		mov	r0, #-1
 4273 003c F7E7     		b	.L355
 4274              	.L364:
 4275 003e 00BF     		.align	2
 4276              	.L363:
 4277 0040 00000000 		.word	.LANCHOR0
 4278              		.cfi_endproc
 4279              	.LFE588:
 4281              		.section	.text.mpu_read_fifo,"ax",%progbits
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 131


 4282              		.align	1
 4283              		.global	mpu_read_fifo
 4284              		.syntax unified
 4285              		.thumb
 4286              		.thumb_func
 4288              	mpu_read_fifo:
 4289              	.LVL271:
 4290              	.LFB589:
1761:Drivers/MPU6050/inv_mpu.c ****     /* Assumes maximum packet size is gyro (6) + accel (6). */
 4291              		.loc 1 1761 1 is_stmt 1 view -0
 4292              		.cfi_startproc
 4293              		@ args = 4, pretend = 0, frame = 16
 4294              		@ frame_needed = 0, uses_anonymous_args = 0
1761:Drivers/MPU6050/inv_mpu.c ****     /* Assumes maximum packet size is gyro (6) + accel (6). */
 4295              		.loc 1 1761 1 is_stmt 0 view .LVU1258
 4296 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 4297              	.LCFI81:
 4298              		.cfi_def_cfa_offset 32
 4299              		.cfi_offset 4, -32
 4300              		.cfi_offset 5, -28
 4301              		.cfi_offset 6, -24
 4302              		.cfi_offset 7, -20
 4303              		.cfi_offset 8, -16
 4304              		.cfi_offset 9, -12
 4305              		.cfi_offset 10, -8
 4306              		.cfi_offset 14, -4
 4307 0004 84B0     		sub	sp, sp, #16
 4308              	.LCFI82:
 4309              		.cfi_def_cfa_offset 48
 4310 0006 1E46     		mov	r6, r3
1763:Drivers/MPU6050/inv_mpu.c ****     unsigned char packet_size = 0;
 4311              		.loc 1 1763 5 is_stmt 1 view .LVU1259
1764:Drivers/MPU6050/inv_mpu.c ****     unsigned short fifo_count, index = 0;
 4312              		.loc 1 1764 5 view .LVU1260
 4313              	.LVL272:
1765:Drivers/MPU6050/inv_mpu.c **** 
 4314              		.loc 1 1765 5 view .LVU1261
1767:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4315              		.loc 1 1767 5 view .LVU1262
1767:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4316              		.loc 1 1767 20 is_stmt 0 view .LVU1263
 4317 0008 814B     		ldr	r3, .L389
 4318              	.LVL273:
1767:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4319              		.loc 1 1767 20 view .LVU1264
 4320 000a 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1767:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4321              		.loc 1 1767 8 view .LVU1265
 4322 000e 002B     		cmp	r3, #0
 4323 0010 40F0E380 		bne	.L375
 4324 0014 8046     		mov	r8, r0
 4325 0016 8946     		mov	r9, r1
 4326 0018 9246     		mov	r10, r2
1770:Drivers/MPU6050/inv_mpu.c ****     if (!st.chip_cfg.sensors)
 4327              		.loc 1 1770 5 is_stmt 1 view .LVU1266
1770:Drivers/MPU6050/inv_mpu.c ****     if (!st.chip_cfg.sensors)
 4328              		.loc 1 1770 16 is_stmt 0 view .LVU1267
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 132


 4329 001a 3370     		strb	r3, [r6]
1771:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4330              		.loc 1 1771 5 is_stmt 1 view .LVU1268
1771:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4331              		.loc 1 1771 21 is_stmt 0 view .LVU1269
 4332 001c 7C4B     		ldr	r3, .L389
 4333 001e 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1771:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4334              		.loc 1 1771 8 view .LVU1270
 4335 0020 002B     		cmp	r3, #0
 4336 0022 00F0DD80 		beq	.L376
1773:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4337              		.loc 1 1773 5 is_stmt 1 view .LVU1271
1773:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4338              		.loc 1 1773 21 is_stmt 0 view .LVU1272
 4339 0026 7A4B     		ldr	r3, .L389
 4340 0028 1D7C     		ldrb	r5, [r3, #16]	@ zero_extendqisi2
1773:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4341              		.loc 1 1773 8 view .LVU1273
 4342 002a 002D     		cmp	r5, #0
 4343 002c 00F0DB80 		beq	.L377
1776:Drivers/MPU6050/inv_mpu.c ****         packet_size += 2;
 4344              		.loc 1 1776 5 is_stmt 1 view .LVU1274
1776:Drivers/MPU6050/inv_mpu.c ****         packet_size += 2;
 4345              		.loc 1 1776 8 is_stmt 0 view .LVU1275
 4346 0030 15F04004 		ands	r4, r5, #64
 4347 0034 00D0     		beq	.L367
1777:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_Y_GYRO)
 4348              		.loc 1 1777 21 view .LVU1276
 4349 0036 0224     		movs	r4, #2
 4350              	.L367:
 4351              	.LVL274:
1778:Drivers/MPU6050/inv_mpu.c ****         packet_size += 2;
 4352              		.loc 1 1778 5 is_stmt 1 view .LVU1277
1778:Drivers/MPU6050/inv_mpu.c ****         packet_size += 2;
 4353              		.loc 1 1778 8 is_stmt 0 view .LVU1278
 4354 0038 15F0200F 		tst	r5, #32
 4355 003c 01D0     		beq	.L368
1779:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_Z_GYRO)
 4356              		.loc 1 1779 9 is_stmt 1 view .LVU1279
1779:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_Z_GYRO)
 4357              		.loc 1 1779 21 is_stmt 0 view .LVU1280
 4358 003e 0234     		adds	r4, r4, #2
 4359              	.LVL275:
1779:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_Z_GYRO)
 4360              		.loc 1 1779 21 view .LVU1281
 4361 0040 E4B2     		uxtb	r4, r4
 4362              	.LVL276:
 4363              	.L368:
1780:Drivers/MPU6050/inv_mpu.c ****         packet_size += 2;
 4364              		.loc 1 1780 5 is_stmt 1 view .LVU1282
1780:Drivers/MPU6050/inv_mpu.c ****         packet_size += 2;
 4365              		.loc 1 1780 8 is_stmt 0 view .LVU1283
 4366 0042 15F0100F 		tst	r5, #16
 4367 0046 01D0     		beq	.L369
1781:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_XYZ_ACCEL)
 4368              		.loc 1 1781 9 is_stmt 1 view .LVU1284
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 133


1781:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_XYZ_ACCEL)
 4369              		.loc 1 1781 21 is_stmt 0 view .LVU1285
 4370 0048 0234     		adds	r4, r4, #2
 4371              	.LVL277:
1781:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.fifo_enable & INV_XYZ_ACCEL)
 4372              		.loc 1 1781 21 view .LVU1286
 4373 004a E4B2     		uxtb	r4, r4
 4374              	.LVL278:
 4375              	.L369:
1782:Drivers/MPU6050/inv_mpu.c ****         packet_size += 6;
 4376              		.loc 1 1782 5 is_stmt 1 view .LVU1287
1782:Drivers/MPU6050/inv_mpu.c ****         packet_size += 6;
 4377              		.loc 1 1782 8 is_stmt 0 view .LVU1288
 4378 004c 15F0080F 		tst	r5, #8
 4379 0050 01D0     		beq	.L370
1783:Drivers/MPU6050/inv_mpu.c **** 
 4380              		.loc 1 1783 9 is_stmt 1 view .LVU1289
1783:Drivers/MPU6050/inv_mpu.c **** 
 4381              		.loc 1 1783 21 is_stmt 0 view .LVU1290
 4382 0052 0634     		adds	r4, r4, #6
 4383              	.LVL279:
1783:Drivers/MPU6050/inv_mpu.c **** 
 4384              		.loc 1 1783 21 view .LVU1291
 4385 0054 E4B2     		uxtb	r4, r4
 4386              	.LVL280:
 4387              	.L370:
1785:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4388              		.loc 1 1785 5 is_stmt 1 view .LVU1292
1785:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4389              		.loc 1 1785 20 is_stmt 0 view .LVU1293
 4390 0056 6E4B     		ldr	r3, .L389
 4391 0058 5868     		ldr	r0, [r3, #4]
 4392              	.LVL281:
1785:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4393              		.loc 1 1785 33 view .LVU1294
 4394 005a 1968     		ldr	r1, [r3]
 4395              	.LVL282:
1785:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4396              		.loc 1 1785 9 view .LVU1295
 4397 005c 01AB     		add	r3, sp, #4
 4398 005e 0222     		movs	r2, #2
 4399              	.LVL283:
1785:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4400              		.loc 1 1785 9 view .LVU1296
 4401 0060 897A     		ldrb	r1, [r1, #10]	@ zero_extendqisi2
 4402 0062 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4403 0064 FFF7FEFF 		bl	i2cread
 4404              	.LVL284:
1785:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4405              		.loc 1 1785 8 view .LVU1297
 4406 0068 0028     		cmp	r0, #0
 4407 006a 40F0BF80 		bne	.L379
1787:Drivers/MPU6050/inv_mpu.c ****     if (fifo_count < packet_size)
 4408              		.loc 1 1787 5 is_stmt 1 view .LVU1298
1787:Drivers/MPU6050/inv_mpu.c ****     if (fifo_count < packet_size)
 4409              		.loc 1 1787 23 is_stmt 0 view .LVU1299
 4410 006e 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 134


1787:Drivers/MPU6050/inv_mpu.c ****     if (fifo_count < packet_size)
 4411              		.loc 1 1787 39 view .LVU1300
 4412 0072 9DF80550 		ldrb	r5, [sp, #5]	@ zero_extendqisi2
1787:Drivers/MPU6050/inv_mpu.c ****     if (fifo_count < packet_size)
 4413              		.loc 1 1787 16 view .LVU1301
 4414 0076 45EA0325 		orr	r5, r5, r3, lsl #8
 4415              	.LVL285:
1788:Drivers/MPU6050/inv_mpu.c ****         return 0;
 4416              		.loc 1 1788 5 is_stmt 1 view .LVU1302
1788:Drivers/MPU6050/inv_mpu.c ****         return 0;
 4417              		.loc 1 1788 20 is_stmt 0 view .LVU1303
 4418 007a A7B2     		uxth	r7, r4
1788:Drivers/MPU6050/inv_mpu.c ****         return 0;
 4419              		.loc 1 1788 8 view .LVU1304
 4420 007c AF42     		cmp	r7, r5
 4421 007e 00F2B880 		bhi	.L380
1791:Drivers/MPU6050/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
 4422              		.loc 1 1791 5 is_stmt 1 view .LVU1305
1791:Drivers/MPU6050/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
 4423              		.loc 1 1791 25 is_stmt 0 view .LVU1306
 4424 0082 634B     		ldr	r3, .L389
 4425 0084 5868     		ldr	r0, [r3, #4]
1791:Drivers/MPU6050/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
 4426              		.loc 1 1791 28 view .LVU1307
 4427 0086 4388     		ldrh	r3, [r0, #2]
1791:Drivers/MPU6050/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
 4428              		.loc 1 1791 8 view .LVU1308
 4429 0088 B5EB530F 		cmp	r5, r3, lsr #1
 4430 008c 0FD9     		bls	.L371
1793:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4431              		.loc 1 1793 9 is_stmt 1 view .LVU1309
1793:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4432              		.loc 1 1793 37 is_stmt 0 view .LVU1310
 4433 008e 604B     		ldr	r3, .L389
 4434 0090 1968     		ldr	r1, [r3]
1793:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4435              		.loc 1 1793 13 view .LVU1311
 4436 0092 01AB     		add	r3, sp, #4
 4437 0094 0122     		movs	r2, #1
 4438 0096 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
 4439 0098 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4440 009a FFF7FEFF 		bl	i2cread
 4441              	.LVL286:
1793:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4442              		.loc 1 1793 12 view .LVU1312
 4443 009e 0028     		cmp	r0, #0
 4444 00a0 40F0AB80 		bne	.L381
1795:Drivers/MPU6050/inv_mpu.c ****             mpu_reset_fifo();
 4445              		.loc 1 1795 9 is_stmt 1 view .LVU1313
1795:Drivers/MPU6050/inv_mpu.c ****             mpu_reset_fifo();
 4446              		.loc 1 1795 17 is_stmt 0 view .LVU1314
 4447 00a4 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
1795:Drivers/MPU6050/inv_mpu.c ****             mpu_reset_fifo();
 4448              		.loc 1 1795 12 view .LVU1315
 4449 00a8 13F0100F 		tst	r3, #16
 4450 00ac 39D1     		bne	.L388
 4451              	.L371:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 135


1800:Drivers/MPU6050/inv_mpu.c **** 
 4452              		.loc 1 1800 5 is_stmt 1 view .LVU1316
 4453 00ae 5046     		mov	r0, r10
 4454 00b0 FFF7FEFF 		bl	get_ms
 4455              	.LVL287:
1802:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4456              		.loc 1 1802 5 view .LVU1317
1802:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4457              		.loc 1 1802 20 is_stmt 0 view .LVU1318
 4458 00b4 564B     		ldr	r3, .L389
 4459 00b6 5868     		ldr	r0, [r3, #4]
1802:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4460              		.loc 1 1802 33 view .LVU1319
 4461 00b8 1968     		ldr	r1, [r3]
1802:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4462              		.loc 1 1802 9 view .LVU1320
 4463 00ba 01AB     		add	r3, sp, #4
 4464 00bc 2246     		mov	r2, r4
 4465 00be C97A     		ldrb	r1, [r1, #11]	@ zero_extendqisi2
 4466 00c0 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4467 00c2 FFF7FEFF 		bl	i2cread
 4468              	.LVL288:
1802:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4469              		.loc 1 1802 8 view .LVU1321
 4470 00c6 0028     		cmp	r0, #0
 4471 00c8 40F09A80 		bne	.L382
1804:Drivers/MPU6050/inv_mpu.c ****     sensors[0] = 0;
 4472              		.loc 1 1804 5 is_stmt 1 view .LVU1322
1804:Drivers/MPU6050/inv_mpu.c ****     sensors[0] = 0;
 4473              		.loc 1 1804 26 is_stmt 0 view .LVU1323
 4474 00cc 95FBF4F5 		sdiv	r5, r5, r4
 4475              	.LVL289:
1804:Drivers/MPU6050/inv_mpu.c ****     sensors[0] = 0;
 4476              		.loc 1 1804 40 view .LVU1324
 4477 00d0 013D     		subs	r5, r5, #1
1804:Drivers/MPU6050/inv_mpu.c ****     sensors[0] = 0;
 4478              		.loc 1 1804 13 view .LVU1325
 4479 00d2 0C9B     		ldr	r3, [sp, #48]
 4480 00d4 1D70     		strb	r5, [r3]
1805:Drivers/MPU6050/inv_mpu.c **** 
 4481              		.loc 1 1805 5 is_stmt 1 view .LVU1326
1805:Drivers/MPU6050/inv_mpu.c **** 
 4482              		.loc 1 1805 16 is_stmt 0 view .LVU1327
 4483 00d6 0023     		movs	r3, #0
 4484 00d8 3370     		strb	r3, [r6]
1807:Drivers/MPU6050/inv_mpu.c ****         accel[0] = (data[index+0] << 8) | data[index+1];
 4485              		.loc 1 1807 5 is_stmt 1 view .LVU1328
1807:Drivers/MPU6050/inv_mpu.c ****         accel[0] = (data[index+0] << 8) | data[index+1];
 4486              		.loc 1 1807 8 is_stmt 0 view .LVU1329
 4487 00da 3CB3     		cbz	r4, .L383
1807:Drivers/MPU6050/inv_mpu.c ****         accel[0] = (data[index+0] << 8) | data[index+1];
 4488              		.loc 1 1807 46 discriminator 1 view .LVU1330
 4489 00dc 4C4B     		ldr	r3, .L389
 4490 00de 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
1807:Drivers/MPU6050/inv_mpu.c ****         accel[0] = (data[index+0] << 8) | data[index+1];
 4491              		.loc 1 1807 32 discriminator 1 view .LVU1331
 4492 00e0 13F0080F 		tst	r3, #8
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 136


 4493 00e4 77D0     		beq	.L384
1808:Drivers/MPU6050/inv_mpu.c ****         accel[1] = (data[index+2] << 8) | data[index+3];
 4494              		.loc 1 1808 9 is_stmt 1 view .LVU1332
1808:Drivers/MPU6050/inv_mpu.c ****         accel[1] = (data[index+2] << 8) | data[index+3];
 4495              		.loc 1 1808 25 is_stmt 0 view .LVU1333
 4496 00e6 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
1808:Drivers/MPU6050/inv_mpu.c ****         accel[1] = (data[index+2] << 8) | data[index+3];
 4497              		.loc 1 1808 47 view .LVU1334
 4498 00ea 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
1808:Drivers/MPU6050/inv_mpu.c ****         accel[1] = (data[index+2] << 8) | data[index+3];
 4499              		.loc 1 1808 41 view .LVU1335
 4500 00ee 43EA0223 		orr	r3, r3, r2, lsl #8
1808:Drivers/MPU6050/inv_mpu.c ****         accel[1] = (data[index+2] << 8) | data[index+3];
 4501              		.loc 1 1808 18 view .LVU1336
 4502 00f2 A9F80030 		strh	r3, [r9]	@ movhi
1809:Drivers/MPU6050/inv_mpu.c ****         accel[2] = (data[index+4] << 8) | data[index+5];
 4503              		.loc 1 1809 9 is_stmt 1 view .LVU1337
1809:Drivers/MPU6050/inv_mpu.c ****         accel[2] = (data[index+4] << 8) | data[index+5];
 4504              		.loc 1 1809 25 is_stmt 0 view .LVU1338
 4505 00f6 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
1809:Drivers/MPU6050/inv_mpu.c ****         accel[2] = (data[index+4] << 8) | data[index+5];
 4506              		.loc 1 1809 47 view .LVU1339
 4507 00fa 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
1809:Drivers/MPU6050/inv_mpu.c ****         accel[2] = (data[index+4] << 8) | data[index+5];
 4508              		.loc 1 1809 41 view .LVU1340
 4509 00fe 43EA0223 		orr	r3, r3, r2, lsl #8
1809:Drivers/MPU6050/inv_mpu.c ****         accel[2] = (data[index+4] << 8) | data[index+5];
 4510              		.loc 1 1809 18 view .LVU1341
 4511 0102 A9F80230 		strh	r3, [r9, #2]	@ movhi
1810:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_XYZ_ACCEL;
 4512              		.loc 1 1810 9 is_stmt 1 view .LVU1342
1810:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_XYZ_ACCEL;
 4513              		.loc 1 1810 25 is_stmt 0 view .LVU1343
 4514 0106 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
1810:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_XYZ_ACCEL;
 4515              		.loc 1 1810 47 view .LVU1344
 4516 010a 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
1810:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_XYZ_ACCEL;
 4517              		.loc 1 1810 41 view .LVU1345
 4518 010e 43EA0223 		orr	r3, r3, r2, lsl #8
1810:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_XYZ_ACCEL;
 4519              		.loc 1 1810 18 view .LVU1346
 4520 0112 A9F80430 		strh	r3, [r9, #4]	@ movhi
1811:Drivers/MPU6050/inv_mpu.c ****         index += 6;
 4521              		.loc 1 1811 9 is_stmt 1 view .LVU1347
1811:Drivers/MPU6050/inv_mpu.c ****         index += 6;
 4522              		.loc 1 1811 20 is_stmt 0 view .LVU1348
 4523 0116 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 4524 0118 43F00803 		orr	r3, r3, #8
 4525 011c 3370     		strb	r3, [r6]
1812:Drivers/MPU6050/inv_mpu.c ****     }
 4526              		.loc 1 1812 9 is_stmt 1 view .LVU1349
 4527              	.LVL290:
1812:Drivers/MPU6050/inv_mpu.c ****     }
 4528              		.loc 1 1812 15 is_stmt 0 view .LVU1350
 4529 011e 0622     		movs	r2, #6
 4530 0120 05E0     		b	.L372
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 137


 4531              	.LVL291:
 4532              	.L388:
1796:Drivers/MPU6050/inv_mpu.c ****             return -2;
 4533              		.loc 1 1796 13 is_stmt 1 view .LVU1351
 4534 0122 FFF7FEFF 		bl	mpu_reset_fifo
 4535              	.LVL292:
1797:Drivers/MPU6050/inv_mpu.c ****         }
 4536              		.loc 1 1797 13 view .LVU1352
1797:Drivers/MPU6050/inv_mpu.c ****         }
 4537              		.loc 1 1797 20 is_stmt 0 view .LVU1353
 4538 0126 6FF00100 		mvn	r0, #1
 4539 012a 63E0     		b	.L365
 4540              	.LVL293:
 4541              	.L383:
1765:Drivers/MPU6050/inv_mpu.c **** 
 4542              		.loc 1 1765 32 view .LVU1354
 4543 012c 0022     		movs	r2, #0
 4544              	.LVL294:
 4545              	.L372:
1814:Drivers/MPU6050/inv_mpu.c ****         gyro[0] = (data[index+0] << 8) | data[index+1];
 4546              		.loc 1 1814 5 is_stmt 1 view .LVU1355
1814:Drivers/MPU6050/inv_mpu.c ****         gyro[0] = (data[index+0] << 8) | data[index+1];
 4547              		.loc 1 1814 8 is_stmt 0 view .LVU1356
 4548 012e 9742     		cmp	r7, r2
 4549 0130 19D0     		beq	.L373
1814:Drivers/MPU6050/inv_mpu.c ****         gyro[0] = (data[index+0] << 8) | data[index+1];
 4550              		.loc 1 1814 46 discriminator 1 view .LVU1357
 4551 0132 374B     		ldr	r3, .L389
 4552 0134 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
1814:Drivers/MPU6050/inv_mpu.c ****         gyro[0] = (data[index+0] << 8) | data[index+1];
 4553              		.loc 1 1814 32 discriminator 1 view .LVU1358
 4554 0136 13F0400F 		tst	r3, #64
 4555 013a 14D0     		beq	.L373
1815:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_X_GYRO;
 4556              		.loc 1 1815 9 is_stmt 1 view .LVU1359
1815:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_X_GYRO;
 4557              		.loc 1 1815 24 is_stmt 0 view .LVU1360
 4558 013c 02F11003 		add	r3, r2, #16
 4559 0140 6B44     		add	r3, sp, r3
 4560 0142 13F80C0C 		ldrb	r0, [r3, #-12]	@ zero_extendqisi2
1815:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_X_GYRO;
 4561              		.loc 1 1815 46 view .LVU1361
 4562 0146 02F11103 		add	r3, r2, #17
 4563 014a 0DEB0301 		add	r1, sp, r3
 4564 014e 11F80C3C 		ldrb	r3, [r1, #-12]	@ zero_extendqisi2
1815:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_X_GYRO;
 4565              		.loc 1 1815 40 view .LVU1362
 4566 0152 43EA0023 		orr	r3, r3, r0, lsl #8
1815:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_X_GYRO;
 4567              		.loc 1 1815 17 view .LVU1363
 4568 0156 A8F80030 		strh	r3, [r8]	@ movhi
1816:Drivers/MPU6050/inv_mpu.c ****         index += 2;
 4569              		.loc 1 1816 9 is_stmt 1 view .LVU1364
1816:Drivers/MPU6050/inv_mpu.c ****         index += 2;
 4570              		.loc 1 1816 20 is_stmt 0 view .LVU1365
 4571 015a 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 4572 015c 43F04003 		orr	r3, r3, #64
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 138


 4573 0160 3370     		strb	r3, [r6]
1817:Drivers/MPU6050/inv_mpu.c ****     }
 4574              		.loc 1 1817 9 is_stmt 1 view .LVU1366
1817:Drivers/MPU6050/inv_mpu.c ****     }
 4575              		.loc 1 1817 15 is_stmt 0 view .LVU1367
 4576 0162 0232     		adds	r2, r2, #2
 4577              	.LVL295:
1817:Drivers/MPU6050/inv_mpu.c ****     }
 4578              		.loc 1 1817 15 view .LVU1368
 4579 0164 92B2     		uxth	r2, r2
 4580              	.LVL296:
 4581              	.L373:
1819:Drivers/MPU6050/inv_mpu.c ****         gyro[1] = (data[index+0] << 8) | data[index+1];
 4582              		.loc 1 1819 5 is_stmt 1 view .LVU1369
1819:Drivers/MPU6050/inv_mpu.c ****         gyro[1] = (data[index+0] << 8) | data[index+1];
 4583              		.loc 1 1819 8 is_stmt 0 view .LVU1370
 4584 0166 9742     		cmp	r7, r2
 4585 0168 19D0     		beq	.L374
1819:Drivers/MPU6050/inv_mpu.c ****         gyro[1] = (data[index+0] << 8) | data[index+1];
 4586              		.loc 1 1819 46 discriminator 1 view .LVU1371
 4587 016a 294B     		ldr	r3, .L389
 4588 016c 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
1819:Drivers/MPU6050/inv_mpu.c ****         gyro[1] = (data[index+0] << 8) | data[index+1];
 4589              		.loc 1 1819 32 discriminator 1 view .LVU1372
 4590 016e 13F0200F 		tst	r3, #32
 4591 0172 14D0     		beq	.L374
1820:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_Y_GYRO;
 4592              		.loc 1 1820 9 is_stmt 1 view .LVU1373
1820:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_Y_GYRO;
 4593              		.loc 1 1820 24 is_stmt 0 view .LVU1374
 4594 0174 02F11003 		add	r3, r2, #16
 4595 0178 6B44     		add	r3, sp, r3
 4596 017a 13F80C0C 		ldrb	r0, [r3, #-12]	@ zero_extendqisi2
1820:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_Y_GYRO;
 4597              		.loc 1 1820 46 view .LVU1375
 4598 017e 02F11103 		add	r3, r2, #17
 4599 0182 0DEB0301 		add	r1, sp, r3
 4600 0186 11F80C3C 		ldrb	r3, [r1, #-12]	@ zero_extendqisi2
1820:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_Y_GYRO;
 4601              		.loc 1 1820 40 view .LVU1376
 4602 018a 43EA0023 		orr	r3, r3, r0, lsl #8
1820:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_Y_GYRO;
 4603              		.loc 1 1820 17 view .LVU1377
 4604 018e A8F80230 		strh	r3, [r8, #2]	@ movhi
1821:Drivers/MPU6050/inv_mpu.c ****         index += 2;
 4605              		.loc 1 1821 9 is_stmt 1 view .LVU1378
1821:Drivers/MPU6050/inv_mpu.c ****         index += 2;
 4606              		.loc 1 1821 20 is_stmt 0 view .LVU1379
 4607 0192 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 4608 0194 43F02003 		orr	r3, r3, #32
 4609 0198 3370     		strb	r3, [r6]
1822:Drivers/MPU6050/inv_mpu.c ****     }
 4610              		.loc 1 1822 9 is_stmt 1 view .LVU1380
1822:Drivers/MPU6050/inv_mpu.c ****     }
 4611              		.loc 1 1822 15 is_stmt 0 view .LVU1381
 4612 019a 0232     		adds	r2, r2, #2
 4613              	.LVL297:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 139


1822:Drivers/MPU6050/inv_mpu.c ****     }
 4614              		.loc 1 1822 15 view .LVU1382
 4615 019c 92B2     		uxth	r2, r2
 4616              	.LVL298:
 4617              	.L374:
1824:Drivers/MPU6050/inv_mpu.c ****         gyro[2] = (data[index+0] << 8) | data[index+1];
 4618              		.loc 1 1824 5 is_stmt 1 view .LVU1383
1824:Drivers/MPU6050/inv_mpu.c ****         gyro[2] = (data[index+0] << 8) | data[index+1];
 4619              		.loc 1 1824 8 is_stmt 0 view .LVU1384
 4620 019e 9742     		cmp	r7, r2
 4621 01a0 31D0     		beq	.L385
1824:Drivers/MPU6050/inv_mpu.c ****         gyro[2] = (data[index+0] << 8) | data[index+1];
 4622              		.loc 1 1824 46 discriminator 1 view .LVU1385
 4623 01a2 1B4B     		ldr	r3, .L389
 4624 01a4 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
1824:Drivers/MPU6050/inv_mpu.c ****         gyro[2] = (data[index+0] << 8) | data[index+1];
 4625              		.loc 1 1824 32 discriminator 1 view .LVU1386
 4626 01a6 13F0100F 		tst	r3, #16
 4627 01aa 2ED0     		beq	.L386
1825:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_Z_GYRO;
 4628              		.loc 1 1825 9 is_stmt 1 view .LVU1387
1825:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_Z_GYRO;
 4629              		.loc 1 1825 24 is_stmt 0 view .LVU1388
 4630 01ac 02F11003 		add	r3, r2, #16
 4631 01b0 6B44     		add	r3, sp, r3
 4632 01b2 13F80C1C 		ldrb	r1, [r3, #-12]	@ zero_extendqisi2
1825:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_Z_GYRO;
 4633              		.loc 1 1825 46 view .LVU1389
 4634 01b6 02F11103 		add	r3, r2, #17
 4635 01ba 0DEB0302 		add	r2, sp, r3
 4636 01be 12F80C3C 		ldrb	r3, [r2, #-12]	@ zero_extendqisi2
1825:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_Z_GYRO;
 4637              		.loc 1 1825 40 view .LVU1390
 4638 01c2 43EA0123 		orr	r3, r3, r1, lsl #8
1825:Drivers/MPU6050/inv_mpu.c ****         sensors[0] |= INV_Z_GYRO;
 4639              		.loc 1 1825 17 view .LVU1391
 4640 01c6 A8F80430 		strh	r3, [r8, #4]	@ movhi
1826:Drivers/MPU6050/inv_mpu.c ****         index += 2;
 4641              		.loc 1 1826 9 is_stmt 1 view .LVU1392
1826:Drivers/MPU6050/inv_mpu.c ****         index += 2;
 4642              		.loc 1 1826 20 is_stmt 0 view .LVU1393
 4643 01ca 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 4644 01cc 43F01003 		orr	r3, r3, #16
 4645 01d0 3370     		strb	r3, [r6]
1827:Drivers/MPU6050/inv_mpu.c ****     }
 4646              		.loc 1 1827 9 is_stmt 1 view .LVU1394
1830:Drivers/MPU6050/inv_mpu.c **** }
 4647              		.loc 1 1830 12 is_stmt 0 view .LVU1395
 4648 01d2 0020     		movs	r0, #0
 4649 01d4 0EE0     		b	.L365
 4650              	.LVL299:
 4651              	.L384:
1765:Drivers/MPU6050/inv_mpu.c **** 
 4652              		.loc 1 1765 32 view .LVU1396
 4653 01d6 0022     		movs	r2, #0
 4654 01d8 A9E7     		b	.L372
 4655              	.LVL300:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 140


 4656              	.L375:
1768:Drivers/MPU6050/inv_mpu.c **** 
 4657              		.loc 1 1768 16 view .LVU1397
 4658 01da 4FF0FF30 		mov	r0, #-1
 4659              	.LVL301:
1768:Drivers/MPU6050/inv_mpu.c **** 
 4660              		.loc 1 1768 16 view .LVU1398
 4661 01de 09E0     		b	.L365
 4662              	.LVL302:
 4663              	.L376:
1772:Drivers/MPU6050/inv_mpu.c ****     if (!st.chip_cfg.fifo_enable)
 4664              		.loc 1 1772 16 view .LVU1399
 4665 01e0 4FF0FF30 		mov	r0, #-1
 4666              	.LVL303:
1772:Drivers/MPU6050/inv_mpu.c ****     if (!st.chip_cfg.fifo_enable)
 4667              		.loc 1 1772 16 view .LVU1400
 4668 01e4 06E0     		b	.L365
 4669              	.LVL304:
 4670              	.L377:
1774:Drivers/MPU6050/inv_mpu.c **** 
 4671              		.loc 1 1774 16 view .LVU1401
 4672 01e6 4FF0FF30 		mov	r0, #-1
 4673              	.LVL305:
1774:Drivers/MPU6050/inv_mpu.c **** 
 4674              		.loc 1 1774 16 view .LVU1402
 4675 01ea 03E0     		b	.L365
 4676              	.LVL306:
 4677              	.L379:
1786:Drivers/MPU6050/inv_mpu.c ****     fifo_count = (data[0] << 8) | data[1];
 4678              		.loc 1 1786 16 view .LVU1403
 4679 01ec 4FF0FF30 		mov	r0, #-1
 4680 01f0 00E0     		b	.L365
 4681              	.LVL307:
 4682              	.L380:
1789:Drivers/MPU6050/inv_mpu.c **** //    log_i("FIFO count: %hd\n", fifo_count);
 4683              		.loc 1 1789 16 view .LVU1404
 4684 01f2 0020     		movs	r0, #0
 4685              	.LVL308:
 4686              	.L365:
1831:Drivers/MPU6050/inv_mpu.c **** 
 4687              		.loc 1 1831 1 view .LVU1405
 4688 01f4 04B0     		add	sp, sp, #16
 4689              	.LCFI83:
 4690              		.cfi_remember_state
 4691              		.cfi_def_cfa_offset 32
 4692              		@ sp needed
 4693 01f6 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4694              	.LVL309:
 4695              	.L381:
 4696              	.LCFI84:
 4697              		.cfi_restore_state
1794:Drivers/MPU6050/inv_mpu.c ****         if (data[0] & BIT_FIFO_OVERFLOW) {
 4698              		.loc 1 1794 20 view .LVU1406
 4699 01fa 4FF0FF30 		mov	r0, #-1
 4700 01fe F9E7     		b	.L365
 4701              	.L382:
1803:Drivers/MPU6050/inv_mpu.c ****     more[0] = fifo_count / packet_size - 1;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 141


 4702              		.loc 1 1803 16 view .LVU1407
 4703 0200 4FF0FF30 		mov	r0, #-1
 4704 0204 F6E7     		b	.L365
 4705              	.LVL310:
 4706              	.L385:
1830:Drivers/MPU6050/inv_mpu.c **** }
 4707              		.loc 1 1830 12 view .LVU1408
 4708 0206 0020     		movs	r0, #0
 4709 0208 F4E7     		b	.L365
 4710              	.L386:
 4711 020a 0020     		movs	r0, #0
 4712 020c F2E7     		b	.L365
 4713              	.L390:
 4714 020e 00BF     		.align	2
 4715              	.L389:
 4716 0210 00000000 		.word	.LANCHOR0
 4717              		.cfi_endproc
 4718              	.LFE589:
 4720              		.section	.text.mpu_read_fifo_stream,"ax",%progbits
 4721              		.align	1
 4722              		.global	mpu_read_fifo_stream
 4723              		.syntax unified
 4724              		.thumb
 4725              		.thumb_func
 4727              	mpu_read_fifo_stream:
 4728              	.LVL311:
 4729              	.LFB590:
1842:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
 4730              		.loc 1 1842 1 is_stmt 1 view -0
 4731              		.cfi_startproc
 4732              		@ args = 0, pretend = 0, frame = 8
 4733              		@ frame_needed = 0, uses_anonymous_args = 0
1843:Drivers/MPU6050/inv_mpu.c ****     unsigned short fifo_count;
 4734              		.loc 1 1843 5 view .LVU1410
1844:Drivers/MPU6050/inv_mpu.c ****     if (!st.chip_cfg.dmp_on)
 4735              		.loc 1 1844 5 view .LVU1411
1845:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4736              		.loc 1 1845 5 view .LVU1412
1845:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4737              		.loc 1 1845 21 is_stmt 0 view .LVU1413
 4738 0000 2E4B     		ldr	r3, .L406
 4739 0002 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1845:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4740              		.loc 1 1845 8 view .LVU1414
 4741 0006 002B     		cmp	r3, #0
 4742 0008 49D0     		beq	.L395
1842:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
 4743              		.loc 1 1842 1 view .LVU1415
 4744 000a F0B5     		push	{r4, r5, r6, r7, lr}
 4745              	.LCFI85:
 4746              		.cfi_def_cfa_offset 20
 4747              		.cfi_offset 4, -20
 4748              		.cfi_offset 5, -16
 4749              		.cfi_offset 6, -12
 4750              		.cfi_offset 7, -8
 4751              		.cfi_offset 14, -4
 4752 000c 83B0     		sub	sp, sp, #12
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 142


 4753              	.LCFI86:
 4754              		.cfi_def_cfa_offset 32
 4755 000e 0546     		mov	r5, r0
 4756 0010 0F46     		mov	r7, r1
 4757 0012 1646     		mov	r6, r2
1847:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4758              		.loc 1 1847 5 is_stmt 1 view .LVU1416
1847:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4759              		.loc 1 1847 21 is_stmt 0 view .LVU1417
 4760 0014 294B     		ldr	r3, .L406
 4761 0016 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1847:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4762              		.loc 1 1847 8 view .LVU1418
 4763 0018 002B     		cmp	r3, #0
 4764 001a 43D0     		beq	.L396
1850:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4765              		.loc 1 1850 5 is_stmt 1 view .LVU1419
1850:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4766              		.loc 1 1850 20 is_stmt 0 view .LVU1420
 4767 001c 274B     		ldr	r3, .L406
 4768 001e 5868     		ldr	r0, [r3, #4]
 4769              	.LVL312:
1850:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4770              		.loc 1 1850 33 view .LVU1421
 4771 0020 1968     		ldr	r1, [r3]
 4772              	.LVL313:
1850:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4773              		.loc 1 1850 9 view .LVU1422
 4774 0022 01AB     		add	r3, sp, #4
 4775 0024 0222     		movs	r2, #2
 4776              	.LVL314:
1850:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4777              		.loc 1 1850 9 view .LVU1423
 4778 0026 897A     		ldrb	r1, [r1, #10]	@ zero_extendqisi2
 4779 0028 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4780 002a FFF7FEFF 		bl	i2cread
 4781              	.LVL315:
1850:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4782              		.loc 1 1850 8 view .LVU1424
 4783 002e 0028     		cmp	r0, #0
 4784 0030 3BD1     		bne	.L397
1852:Drivers/MPU6050/inv_mpu.c ****     if (fifo_count < length) {
 4785              		.loc 1 1852 5 is_stmt 1 view .LVU1425
1852:Drivers/MPU6050/inv_mpu.c ****     if (fifo_count < length) {
 4786              		.loc 1 1852 22 is_stmt 0 view .LVU1426
 4787 0032 9DF80400 		ldrb	r0, [sp, #4]	@ zero_extendqisi2
1852:Drivers/MPU6050/inv_mpu.c ****     if (fifo_count < length) {
 4788              		.loc 1 1852 37 view .LVU1427
 4789 0036 9DF80540 		ldrb	r4, [sp, #5]	@ zero_extendqisi2
1852:Drivers/MPU6050/inv_mpu.c ****     if (fifo_count < length) {
 4790              		.loc 1 1852 16 view .LVU1428
 4791 003a 44EA0024 		orr	r4, r4, r0, lsl #8
 4792              	.LVL316:
1853:Drivers/MPU6050/inv_mpu.c ****         more[0] = 0;
 4793              		.loc 1 1853 5 is_stmt 1 view .LVU1429
1853:Drivers/MPU6050/inv_mpu.c ****         more[0] = 0;
 4794              		.loc 1 1853 8 is_stmt 0 view .LVU1430
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 143


 4795 003e AC42     		cmp	r4, r5
 4796 0040 23D3     		bcc	.L404
1857:Drivers/MPU6050/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
 4797              		.loc 1 1857 5 is_stmt 1 view .LVU1431
1857:Drivers/MPU6050/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
 4798              		.loc 1 1857 25 is_stmt 0 view .LVU1432
 4799 0042 1E4B     		ldr	r3, .L406
 4800 0044 5868     		ldr	r0, [r3, #4]
1857:Drivers/MPU6050/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
 4801              		.loc 1 1857 28 view .LVU1433
 4802 0046 4388     		ldrh	r3, [r0, #2]
1857:Drivers/MPU6050/inv_mpu.c ****         /* FIFO is 50% full, better check overflow bit. */
 4803              		.loc 1 1857 8 view .LVU1434
 4804 0048 B4EB530F 		cmp	r4, r3, lsr #1
 4805 004c 0DD9     		bls	.L394
1859:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4806              		.loc 1 1859 9 is_stmt 1 view .LVU1435
1859:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4807              		.loc 1 1859 37 is_stmt 0 view .LVU1436
 4808 004e 1B4B     		ldr	r3, .L406
 4809 0050 1968     		ldr	r1, [r3]
1859:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4810              		.loc 1 1859 13 view .LVU1437
 4811 0052 01AB     		add	r3, sp, #4
 4812 0054 0122     		movs	r2, #1
 4813 0056 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
 4814 0058 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4815 005a FFF7FEFF 		bl	i2cread
 4816              	.LVL317:
1859:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4817              		.loc 1 1859 12 view .LVU1438
 4818 005e 38BB     		cbnz	r0, .L398
1861:Drivers/MPU6050/inv_mpu.c ****             mpu_reset_fifo();
 4819              		.loc 1 1861 9 is_stmt 1 view .LVU1439
1861:Drivers/MPU6050/inv_mpu.c ****             mpu_reset_fifo();
 4820              		.loc 1 1861 16 is_stmt 0 view .LVU1440
 4821 0060 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
1861:Drivers/MPU6050/inv_mpu.c ****             mpu_reset_fifo();
 4822              		.loc 1 1861 12 view .LVU1441
 4823 0064 13F0100F 		tst	r3, #16
 4824 0068 14D1     		bne	.L405
 4825              	.L394:
1867:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4826              		.loc 1 1867 5 is_stmt 1 view .LVU1442
1867:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4827              		.loc 1 1867 20 is_stmt 0 view .LVU1443
 4828 006a 144B     		ldr	r3, .L406
 4829 006c 5868     		ldr	r0, [r3, #4]
1867:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4830              		.loc 1 1867 33 view .LVU1444
 4831 006e 1968     		ldr	r1, [r3]
1867:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4832              		.loc 1 1867 9 view .LVU1445
 4833 0070 3B46     		mov	r3, r7
 4834 0072 EAB2     		uxtb	r2, r5
 4835 0074 C97A     		ldrb	r1, [r1, #11]	@ zero_extendqisi2
 4836 0076 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 144


 4837 0078 FFF7FEFF 		bl	i2cread
 4838              	.LVL318:
1867:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4839              		.loc 1 1867 8 view .LVU1446
 4840 007c D8B9     		cbnz	r0, .L399
1869:Drivers/MPU6050/inv_mpu.c ****     return 0;
 4841              		.loc 1 1869 5 is_stmt 1 view .LVU1447
1869:Drivers/MPU6050/inv_mpu.c ****     return 0;
 4842              		.loc 1 1869 35 is_stmt 0 view .LVU1448
 4843 007e B4FBF5F4 		udiv	r4, r4, r5
 4844              	.LVL319:
1869:Drivers/MPU6050/inv_mpu.c ****     return 0;
 4845              		.loc 1 1869 35 view .LVU1449
 4846 0082 013C     		subs	r4, r4, #1
1869:Drivers/MPU6050/inv_mpu.c ****     return 0;
 4847              		.loc 1 1869 13 view .LVU1450
 4848 0084 3470     		strb	r4, [r6]
1870:Drivers/MPU6050/inv_mpu.c **** }
 4849              		.loc 1 1870 5 is_stmt 1 view .LVU1451
 4850              	.L391:
1871:Drivers/MPU6050/inv_mpu.c **** 
 4851              		.loc 1 1871 1 is_stmt 0 view .LVU1452
 4852 0086 03B0     		add	sp, sp, #12
 4853              	.LCFI87:
 4854              		.cfi_remember_state
 4855              		.cfi_def_cfa_offset 20
 4856              		@ sp needed
 4857 0088 F0BD     		pop	{r4, r5, r6, r7, pc}
 4858              	.LVL320:
 4859              	.L404:
 4860              	.LCFI88:
 4861              		.cfi_restore_state
1854:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4862              		.loc 1 1854 9 is_stmt 1 view .LVU1453
1854:Drivers/MPU6050/inv_mpu.c ****         return -1;
 4863              		.loc 1 1854 17 is_stmt 0 view .LVU1454
 4864 008a 0023     		movs	r3, #0
 4865 008c 3370     		strb	r3, [r6]
1855:Drivers/MPU6050/inv_mpu.c ****     }
 4866              		.loc 1 1855 9 is_stmt 1 view .LVU1455
1855:Drivers/MPU6050/inv_mpu.c ****     }
 4867              		.loc 1 1855 16 is_stmt 0 view .LVU1456
 4868 008e 4FF0FF30 		mov	r0, #-1
 4869 0092 F8E7     		b	.L391
 4870              	.L405:
1862:Drivers/MPU6050/inv_mpu.c ****             return -2;
 4871              		.loc 1 1862 13 is_stmt 1 view .LVU1457
 4872 0094 FFF7FEFF 		bl	mpu_reset_fifo
 4873              	.LVL321:
1863:Drivers/MPU6050/inv_mpu.c ****         }
 4874              		.loc 1 1863 13 view .LVU1458
1863:Drivers/MPU6050/inv_mpu.c ****         }
 4875              		.loc 1 1863 20 is_stmt 0 view .LVU1459
 4876 0098 6FF00100 		mvn	r0, #1
 4877 009c F3E7     		b	.L391
 4878              	.LVL322:
 4879              	.L395:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 145


 4880              	.LCFI89:
 4881              		.cfi_def_cfa_offset 0
 4882              		.cfi_restore 4
 4883              		.cfi_restore 5
 4884              		.cfi_restore 6
 4885              		.cfi_restore 7
 4886              		.cfi_restore 14
1846:Drivers/MPU6050/inv_mpu.c ****     if (!st.chip_cfg.sensors)
 4887              		.loc 1 1846 16 view .LVU1460
 4888 009e 4FF0FF30 		mov	r0, #-1
 4889              	.LVL323:
1871:Drivers/MPU6050/inv_mpu.c **** 
 4890              		.loc 1 1871 1 view .LVU1461
 4891 00a2 7047     		bx	lr
 4892              	.LVL324:
 4893              	.L396:
 4894              	.LCFI90:
 4895              		.cfi_def_cfa_offset 32
 4896              		.cfi_offset 4, -20
 4897              		.cfi_offset 5, -16
 4898              		.cfi_offset 6, -12
 4899              		.cfi_offset 7, -8
 4900              		.cfi_offset 14, -4
1848:Drivers/MPU6050/inv_mpu.c **** 
 4901              		.loc 1 1848 16 view .LVU1462
 4902 00a4 4FF0FF30 		mov	r0, #-1
 4903              	.LVL325:
1848:Drivers/MPU6050/inv_mpu.c **** 
 4904              		.loc 1 1848 16 view .LVU1463
 4905 00a8 EDE7     		b	.L391
 4906              	.LVL326:
 4907              	.L397:
1851:Drivers/MPU6050/inv_mpu.c ****     fifo_count = (tmp[0] << 8) | tmp[1];
 4908              		.loc 1 1851 16 view .LVU1464
 4909 00aa 4FF0FF30 		mov	r0, #-1
 4910 00ae EAE7     		b	.L391
 4911              	.LVL327:
 4912              	.L398:
1860:Drivers/MPU6050/inv_mpu.c ****         if (tmp[0] & BIT_FIFO_OVERFLOW) {
 4913              		.loc 1 1860 20 view .LVU1465
 4914 00b0 4FF0FF30 		mov	r0, #-1
 4915 00b4 E7E7     		b	.L391
 4916              	.L399:
1868:Drivers/MPU6050/inv_mpu.c ****     more[0] = fifo_count / length - 1;
 4917              		.loc 1 1868 16 view .LVU1466
 4918 00b6 4FF0FF30 		mov	r0, #-1
 4919 00ba E4E7     		b	.L391
 4920              	.L407:
 4921              		.align	2
 4922              	.L406:
 4923 00bc 00000000 		.word	.LANCHOR0
 4924              		.cfi_endproc
 4925              	.LFE590:
 4927              		.section	.text.mpu_set_bypass,"ax",%progbits
 4928              		.align	1
 4929              		.global	mpu_set_bypass
 4930              		.syntax unified
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 146


 4931              		.thumb
 4932              		.thumb_func
 4934              	mpu_set_bypass:
 4935              	.LVL328:
 4936              	.LFB591:
1879:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp;
 4937              		.loc 1 1879 1 is_stmt 1 view -0
 4938              		.cfi_startproc
 4939              		@ args = 0, pretend = 0, frame = 8
 4940              		@ frame_needed = 0, uses_anonymous_args = 0
1880:Drivers/MPU6050/inv_mpu.c **** 
 4941              		.loc 1 1880 5 view .LVU1468
1882:Drivers/MPU6050/inv_mpu.c ****         return 0;
 4942              		.loc 1 1882 5 view .LVU1469
1882:Drivers/MPU6050/inv_mpu.c ****         return 0;
 4943              		.loc 1 1882 20 is_stmt 0 view .LVU1470
 4944 0000 584B     		ldr	r3, .L430
 4945 0002 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
1882:Drivers/MPU6050/inv_mpu.c ****         return 0;
 4946              		.loc 1 1882 8 view .LVU1471
 4947 0004 8342     		cmp	r3, r0
 4948 0006 00F09C80 		beq	.L419
1879:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp;
 4949              		.loc 1 1879 1 view .LVU1472
 4950 000a 10B5     		push	{r4, lr}
 4951              	.LCFI91:
 4952              		.cfi_def_cfa_offset 8
 4953              		.cfi_offset 4, -8
 4954              		.cfi_offset 14, -4
 4955 000c 82B0     		sub	sp, sp, #8
 4956              	.LCFI92:
 4957              		.cfi_def_cfa_offset 16
 4958 000e 0446     		mov	r4, r0
1885:Drivers/MPU6050/inv_mpu.c ****         if (i2c_read(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
 4959              		.loc 1 1885 5 is_stmt 1 view .LVU1473
1885:Drivers/MPU6050/inv_mpu.c ****         if (i2c_read(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
 4960              		.loc 1 1885 8 is_stmt 0 view .LVU1474
 4961 0010 0028     		cmp	r0, #0
 4962 0012 44D0     		beq	.L410
1886:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4963              		.loc 1 1886 9 is_stmt 1 view .LVU1475
1886:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4964              		.loc 1 1886 24 is_stmt 0 view .LVU1476
 4965 0014 534B     		ldr	r3, .L430
 4966 0016 5868     		ldr	r0, [r3, #4]
 4967              	.LVL329:
1886:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4968              		.loc 1 1886 37 view .LVU1477
 4969 0018 1968     		ldr	r1, [r3]
1886:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4970              		.loc 1 1886 13 view .LVU1478
 4971 001a 0DF10703 		add	r3, sp, #7
 4972 001e 0122     		movs	r2, #1
 4973 0020 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 4974 0022 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4975 0024 FFF7FEFF 		bl	i2cread
 4976              	.LVL330:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 147


1886:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4977              		.loc 1 1886 12 view .LVU1479
 4978 0028 0028     		cmp	r0, #0
 4979 002a 40F08C80 		bne	.L420
1888:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
 4980              		.loc 1 1888 9 is_stmt 1 view .LVU1480
1888:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
 4981              		.loc 1 1888 13 is_stmt 0 view .LVU1481
 4982 002e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 4983 0032 23F02003 		bic	r3, r3, #32
 4984 0036 8DF80730 		strb	r3, [sp, #7]
1889:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4985              		.loc 1 1889 9 is_stmt 1 view .LVU1482
1889:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4986              		.loc 1 1889 25 is_stmt 0 view .LVU1483
 4987 003a 4A4B     		ldr	r3, .L430
 4988 003c 5868     		ldr	r0, [r3, #4]
1889:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4989              		.loc 1 1889 38 view .LVU1484
 4990 003e 1968     		ldr	r1, [r3]
1889:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4991              		.loc 1 1889 13 view .LVU1485
 4992 0040 0DF10703 		add	r3, sp, #7
 4993 0044 0122     		movs	r2, #1
 4994 0046 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 4995 0048 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4996 004a FFF7FEFF 		bl	i2cwrite
 4997              	.LVL331:
1889:Drivers/MPU6050/inv_mpu.c ****             return -1;
 4998              		.loc 1 1889 12 view .LVU1486
 4999 004e 0028     		cmp	r0, #0
 5000 0050 7CD1     		bne	.L421
1891:Drivers/MPU6050/inv_mpu.c ****         tmp = BIT_BYPASS_EN;
 5001              		.loc 1 1891 9 is_stmt 1 view .LVU1487
 5002 0052 0320     		movs	r0, #3
 5003 0054 FFF7FEFF 		bl	delay_ms
 5004              	.LVL332:
1892:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.active_low_int)
 5005              		.loc 1 1892 9 view .LVU1488
1892:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.active_low_int)
 5006              		.loc 1 1892 13 is_stmt 0 view .LVU1489
 5007 0058 0223     		movs	r3, #2
 5008 005a 8DF80730 		strb	r3, [sp, #7]
1893:Drivers/MPU6050/inv_mpu.c ****             tmp |= BIT_ACTL;
 5009              		.loc 1 1893 9 is_stmt 1 view .LVU1490
1893:Drivers/MPU6050/inv_mpu.c ****             tmp |= BIT_ACTL;
 5010              		.loc 1 1893 24 is_stmt 0 view .LVU1491
 5011 005e 414B     		ldr	r3, .L430
 5012 0060 93F82230 		ldrb	r3, [r3, #34]	@ zero_extendqisi2
1893:Drivers/MPU6050/inv_mpu.c ****             tmp |= BIT_ACTL;
 5013              		.loc 1 1893 12 view .LVU1492
 5014 0064 13B1     		cbz	r3, .L411
1894:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.latched_int)
 5015              		.loc 1 1894 13 is_stmt 1 view .LVU1493
1894:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.latched_int)
 5016              		.loc 1 1894 17 is_stmt 0 view .LVU1494
 5017 0066 8223     		movs	r3, #130
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 148


 5018 0068 8DF80730 		strb	r3, [sp, #7]
 5019              	.L411:
1895:Drivers/MPU6050/inv_mpu.c ****             tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
 5020              		.loc 1 1895 9 is_stmt 1 view .LVU1495
1895:Drivers/MPU6050/inv_mpu.c ****             tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
 5021              		.loc 1 1895 24 is_stmt 0 view .LVU1496
 5022 006c 3D4B     		ldr	r3, .L430
 5023 006e 93F82330 		ldrb	r3, [r3, #35]	@ zero_extendqisi2
1895:Drivers/MPU6050/inv_mpu.c ****             tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
 5024              		.loc 1 1895 12 view .LVU1497
 5025 0072 2BB1     		cbz	r3, .L412
1896:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 5026              		.loc 1 1896 13 is_stmt 1 view .LVU1498
1896:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 5027              		.loc 1 1896 17 is_stmt 0 view .LVU1499
 5028 0074 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 5029 0078 43F03003 		orr	r3, r3, #48
 5030 007c 8DF80730 		strb	r3, [sp, #7]
 5031              	.L412:
1897:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5032              		.loc 1 1897 9 is_stmt 1 view .LVU1500
1897:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5033              		.loc 1 1897 25 is_stmt 0 view .LVU1501
 5034 0080 384B     		ldr	r3, .L430
 5035 0082 5868     		ldr	r0, [r3, #4]
1897:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5036              		.loc 1 1897 38 view .LVU1502
 5037 0084 1968     		ldr	r1, [r3]
1897:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5038              		.loc 1 1897 13 view .LVU1503
 5039 0086 0DF10703 		add	r3, sp, #7
 5040 008a 0122     		movs	r2, #1
 5041 008c 097D     		ldrb	r1, [r1, #20]	@ zero_extendqisi2
 5042 008e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5043 0090 FFF7FEFF 		bl	i2cwrite
 5044              	.LVL333:
1897:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5045              		.loc 1 1897 12 view .LVU1504
 5046 0094 0028     		cmp	r0, #0
 5047 0096 44D0     		beq	.L413
1898:Drivers/MPU6050/inv_mpu.c ****     } else {
 5048              		.loc 1 1898 20 view .LVU1505
 5049 0098 4FF0FF30 		mov	r0, #-1
 5050 009c 44E0     		b	.L408
 5051              	.LVL334:
 5052              	.L410:
1901:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5053              		.loc 1 1901 9 is_stmt 1 view .LVU1506
1901:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5054              		.loc 1 1901 24 is_stmt 0 view .LVU1507
 5055 009e 314B     		ldr	r3, .L430
 5056 00a0 5868     		ldr	r0, [r3, #4]
 5057              	.LVL335:
1901:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5058              		.loc 1 1901 37 view .LVU1508
 5059 00a2 1968     		ldr	r1, [r3]
1901:Drivers/MPU6050/inv_mpu.c ****             return -1;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 149


 5060              		.loc 1 1901 13 view .LVU1509
 5061 00a4 0DF10703 		add	r3, sp, #7
 5062 00a8 0122     		movs	r2, #1
 5063 00aa 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 5064 00ac 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5065 00ae FFF7FEFF 		bl	i2cread
 5066              	.LVL336:
1901:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5067              		.loc 1 1901 12 view .LVU1510
 5068 00b2 0028     		cmp	r0, #0
 5069 00b4 4DD1     		bne	.L423
1903:Drivers/MPU6050/inv_mpu.c ****             tmp |= BIT_AUX_IF_EN;
 5070              		.loc 1 1903 9 is_stmt 1 view .LVU1511
1903:Drivers/MPU6050/inv_mpu.c ****             tmp |= BIT_AUX_IF_EN;
 5071              		.loc 1 1903 24 is_stmt 0 view .LVU1512
 5072 00b6 2B4B     		ldr	r3, .L430
 5073 00b8 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1903:Drivers/MPU6050/inv_mpu.c ****             tmp |= BIT_AUX_IF_EN;
 5074              		.loc 1 1903 12 view .LVU1513
 5075 00ba 13F0010F 		tst	r3, #1
 5076 00be 35D0     		beq	.L414
1904:Drivers/MPU6050/inv_mpu.c ****         else
 5077              		.loc 1 1904 13 is_stmt 1 view .LVU1514
1904:Drivers/MPU6050/inv_mpu.c ****         else
 5078              		.loc 1 1904 17 is_stmt 0 view .LVU1515
 5079 00c0 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 5080 00c4 43F02003 		orr	r3, r3, #32
 5081 00c8 8DF80730 		strb	r3, [sp, #7]
 5082              	.L415:
1907:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5083              		.loc 1 1907 9 is_stmt 1 view .LVU1516
1907:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5084              		.loc 1 1907 25 is_stmt 0 view .LVU1517
 5085 00cc 254B     		ldr	r3, .L430
 5086 00ce 5868     		ldr	r0, [r3, #4]
1907:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5087              		.loc 1 1907 38 view .LVU1518
 5088 00d0 1968     		ldr	r1, [r3]
1907:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5089              		.loc 1 1907 13 view .LVU1519
 5090 00d2 0DF10703 		add	r3, sp, #7
 5091 00d6 0122     		movs	r2, #1
 5092 00d8 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 5093 00da 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5094 00dc FFF7FEFF 		bl	i2cwrite
 5095              	.LVL337:
1907:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5096              		.loc 1 1907 12 view .LVU1520
 5097 00e0 0028     		cmp	r0, #0
 5098 00e2 39D1     		bne	.L424
1909:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.active_low_int)
 5099              		.loc 1 1909 9 is_stmt 1 view .LVU1521
 5100 00e4 0320     		movs	r0, #3
 5101 00e6 FFF7FEFF 		bl	delay_ms
 5102              	.LVL338:
1910:Drivers/MPU6050/inv_mpu.c ****             tmp = BIT_ACTL;
 5103              		.loc 1 1910 9 view .LVU1522
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 150


1910:Drivers/MPU6050/inv_mpu.c ****             tmp = BIT_ACTL;
 5104              		.loc 1 1910 24 is_stmt 0 view .LVU1523
 5105 00ea 1E4B     		ldr	r3, .L430
 5106 00ec 93F82230 		ldrb	r3, [r3, #34]	@ zero_extendqisi2
1910:Drivers/MPU6050/inv_mpu.c ****             tmp = BIT_ACTL;
 5107              		.loc 1 1910 12 view .LVU1524
 5108 00f0 1BB3     		cbz	r3, .L416
1911:Drivers/MPU6050/inv_mpu.c ****         else
 5109              		.loc 1 1911 13 is_stmt 1 view .LVU1525
1911:Drivers/MPU6050/inv_mpu.c ****         else
 5110              		.loc 1 1911 17 is_stmt 0 view .LVU1526
 5111 00f2 8023     		movs	r3, #128
 5112 00f4 8DF80730 		strb	r3, [sp, #7]
 5113              	.L417:
1914:Drivers/MPU6050/inv_mpu.c ****             tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
 5114              		.loc 1 1914 9 is_stmt 1 view .LVU1527
1914:Drivers/MPU6050/inv_mpu.c ****             tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
 5115              		.loc 1 1914 24 is_stmt 0 view .LVU1528
 5116 00f8 1A4B     		ldr	r3, .L430
 5117 00fa 93F82330 		ldrb	r3, [r3, #35]	@ zero_extendqisi2
1914:Drivers/MPU6050/inv_mpu.c ****             tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
 5118              		.loc 1 1914 12 view .LVU1529
 5119 00fe 2BB1     		cbz	r3, .L418
1915:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 5120              		.loc 1 1915 13 is_stmt 1 view .LVU1530
1915:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 5121              		.loc 1 1915 17 is_stmt 0 view .LVU1531
 5122 0100 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 5123 0104 43F03003 		orr	r3, r3, #48
 5124 0108 8DF80730 		strb	r3, [sp, #7]
 5125              	.L418:
1916:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5126              		.loc 1 1916 9 is_stmt 1 view .LVU1532
1916:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5127              		.loc 1 1916 25 is_stmt 0 view .LVU1533
 5128 010c 154B     		ldr	r3, .L430
 5129 010e 5868     		ldr	r0, [r3, #4]
1916:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5130              		.loc 1 1916 38 view .LVU1534
 5131 0110 1968     		ldr	r1, [r3]
1916:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5132              		.loc 1 1916 13 view .LVU1535
 5133 0112 0DF10703 		add	r3, sp, #7
 5134 0116 0122     		movs	r2, #1
 5135 0118 097D     		ldrb	r1, [r1, #20]	@ zero_extendqisi2
 5136 011a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5137 011c FFF7FEFF 		bl	i2cwrite
 5138              	.LVL339:
1916:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5139              		.loc 1 1916 12 view .LVU1536
 5140 0120 E8B9     		cbnz	r0, .L425
 5141              	.L413:
1919:Drivers/MPU6050/inv_mpu.c ****     return 0;
 5142              		.loc 1 1919 5 is_stmt 1 view .LVU1537
1919:Drivers/MPU6050/inv_mpu.c ****     return 0;
 5143              		.loc 1 1919 29 is_stmt 0 view .LVU1538
 5144 0122 104B     		ldr	r3, .L430
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 151


 5145 0124 9C74     		strb	r4, [r3, #18]
1920:Drivers/MPU6050/inv_mpu.c **** }
 5146              		.loc 1 1920 5 is_stmt 1 view .LVU1539
1920:Drivers/MPU6050/inv_mpu.c **** }
 5147              		.loc 1 1920 12 is_stmt 0 view .LVU1540
 5148 0126 0020     		movs	r0, #0
 5149              	.L408:
1921:Drivers/MPU6050/inv_mpu.c **** 
 5150              		.loc 1 1921 1 view .LVU1541
 5151 0128 02B0     		add	sp, sp, #8
 5152              	.LCFI93:
 5153              		.cfi_remember_state
 5154              		.cfi_def_cfa_offset 8
 5155              		@ sp needed
 5156 012a 10BD     		pop	{r4, pc}
 5157              	.L414:
 5158              	.LCFI94:
 5159              		.cfi_restore_state
1906:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
 5160              		.loc 1 1906 13 is_stmt 1 view .LVU1542
1906:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
 5161              		.loc 1 1906 17 is_stmt 0 view .LVU1543
 5162 012c 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 5163 0130 23F02003 		bic	r3, r3, #32
 5164 0134 8DF80730 		strb	r3, [sp, #7]
 5165 0138 C8E7     		b	.L415
 5166              	.L416:
1913:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.latched_int)
 5167              		.loc 1 1913 13 is_stmt 1 view .LVU1544
1913:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.latched_int)
 5168              		.loc 1 1913 17 is_stmt 0 view .LVU1545
 5169 013a 0023     		movs	r3, #0
 5170 013c 8DF80730 		strb	r3, [sp, #7]
 5171 0140 DAE7     		b	.L417
 5172              	.LVL340:
 5173              	.L419:
 5174              	.LCFI95:
 5175              		.cfi_def_cfa_offset 0
 5176              		.cfi_restore 4
 5177              		.cfi_restore 14
1883:Drivers/MPU6050/inv_mpu.c **** 
 5178              		.loc 1 1883 16 view .LVU1546
 5179 0142 0020     		movs	r0, #0
 5180              	.LVL341:
1921:Drivers/MPU6050/inv_mpu.c **** 
 5181              		.loc 1 1921 1 view .LVU1547
 5182 0144 7047     		bx	lr
 5183              	.L420:
 5184              	.LCFI96:
 5185              		.cfi_def_cfa_offset 16
 5186              		.cfi_offset 4, -8
 5187              		.cfi_offset 14, -4
1887:Drivers/MPU6050/inv_mpu.c ****         tmp &= ~BIT_AUX_IF_EN;
 5188              		.loc 1 1887 20 view .LVU1548
 5189 0146 4FF0FF30 		mov	r0, #-1
 5190 014a EDE7     		b	.L408
 5191              	.L421:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 152


1890:Drivers/MPU6050/inv_mpu.c ****         delay_ms(3);
 5192              		.loc 1 1890 20 view .LVU1549
 5193 014c 4FF0FF30 		mov	r0, #-1
 5194 0150 EAE7     		b	.L408
 5195              	.L423:
1902:Drivers/MPU6050/inv_mpu.c ****         if (st.chip_cfg.sensors & INV_XYZ_COMPASS)
 5196              		.loc 1 1902 20 view .LVU1550
 5197 0152 4FF0FF30 		mov	r0, #-1
 5198 0156 E7E7     		b	.L408
 5199              	.L424:
1908:Drivers/MPU6050/inv_mpu.c ****         delay_ms(3);
 5200              		.loc 1 1908 20 view .LVU1551
 5201 0158 4FF0FF30 		mov	r0, #-1
 5202 015c E4E7     		b	.L408
 5203              	.L425:
1917:Drivers/MPU6050/inv_mpu.c ****     }
 5204              		.loc 1 1917 20 view .LVU1552
 5205 015e 4FF0FF30 		mov	r0, #-1
 5206 0162 E1E7     		b	.L408
 5207              	.L431:
 5208              		.align	2
 5209              	.L430:
 5210 0164 00000000 		.word	.LANCHOR0
 5211              		.cfi_endproc
 5212              	.LFE591:
 5214              		.section	.text.mpu_set_int_level,"ax",%progbits
 5215              		.align	1
 5216              		.global	mpu_set_int_level
 5217              		.syntax unified
 5218              		.thumb
 5219              		.thumb_func
 5221              	mpu_set_int_level:
 5222              	.LVL342:
 5223              	.LFB592:
1929:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.active_low_int = active_low;
 5224              		.loc 1 1929 1 is_stmt 1 view -0
 5225              		.cfi_startproc
 5226              		@ args = 0, pretend = 0, frame = 0
 5227              		@ frame_needed = 0, uses_anonymous_args = 0
 5228              		@ link register save eliminated.
1930:Drivers/MPU6050/inv_mpu.c ****     return 0;
 5229              		.loc 1 1930 5 view .LVU1554
1930:Drivers/MPU6050/inv_mpu.c ****     return 0;
 5230              		.loc 1 1930 32 is_stmt 0 view .LVU1555
 5231 0000 024B     		ldr	r3, .L433
 5232 0002 83F82200 		strb	r0, [r3, #34]
1931:Drivers/MPU6050/inv_mpu.c **** }
 5233              		.loc 1 1931 5 is_stmt 1 view .LVU1556
1932:Drivers/MPU6050/inv_mpu.c **** 
 5234              		.loc 1 1932 1 is_stmt 0 view .LVU1557
 5235 0006 0020     		movs	r0, #0
 5236              	.LVL343:
1932:Drivers/MPU6050/inv_mpu.c **** 
 5237              		.loc 1 1932 1 view .LVU1558
 5238 0008 7047     		bx	lr
 5239              	.L434:
 5240 000a 00BF     		.align	2
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 153


 5241              	.L433:
 5242 000c 00000000 		.word	.LANCHOR0
 5243              		.cfi_endproc
 5244              	.LFE592:
 5246              		.section	.text.mpu_set_int_latched,"ax",%progbits
 5247              		.align	1
 5248              		.global	mpu_set_int_latched
 5249              		.syntax unified
 5250              		.thumb
 5251              		.thumb_func
 5253              	mpu_set_int_latched:
 5254              	.LVL344:
 5255              	.LFB593:
1941:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp;
 5256              		.loc 1 1941 1 is_stmt 1 view -0
 5257              		.cfi_startproc
 5258              		@ args = 0, pretend = 0, frame = 8
 5259              		@ frame_needed = 0, uses_anonymous_args = 0
1942:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.latched_int == enable)
 5260              		.loc 1 1942 5 view .LVU1560
1943:Drivers/MPU6050/inv_mpu.c ****         return 0;
 5261              		.loc 1 1943 5 view .LVU1561
1943:Drivers/MPU6050/inv_mpu.c ****         return 0;
 5262              		.loc 1 1943 20 is_stmt 0 view .LVU1562
 5263 0000 1B4B     		ldr	r3, .L447
 5264 0002 93F82330 		ldrb	r3, [r3, #35]	@ zero_extendqisi2
1943:Drivers/MPU6050/inv_mpu.c ****         return 0;
 5265              		.loc 1 1943 8 view .LVU1563
 5266 0006 8342     		cmp	r3, r0
 5267 0008 2DD0     		beq	.L441
1941:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp;
 5268              		.loc 1 1941 1 view .LVU1564
 5269 000a 10B5     		push	{r4, lr}
 5270              	.LCFI97:
 5271              		.cfi_def_cfa_offset 8
 5272              		.cfi_offset 4, -8
 5273              		.cfi_offset 14, -4
 5274 000c 82B0     		sub	sp, sp, #8
 5275              	.LCFI98:
 5276              		.cfi_def_cfa_offset 16
 5277 000e 0446     		mov	r4, r0
1946:Drivers/MPU6050/inv_mpu.c ****         tmp = BIT_LATCH_EN | BIT_ANY_RD_CLR;
 5278              		.loc 1 1946 5 is_stmt 1 view .LVU1565
1946:Drivers/MPU6050/inv_mpu.c ****         tmp = BIT_LATCH_EN | BIT_ANY_RD_CLR;
 5279              		.loc 1 1946 8 is_stmt 0 view .LVU1566
 5280 0010 28B3     		cbz	r0, .L437
1947:Drivers/MPU6050/inv_mpu.c ****     else
 5281              		.loc 1 1947 9 is_stmt 1 view .LVU1567
1947:Drivers/MPU6050/inv_mpu.c ****     else
 5282              		.loc 1 1947 13 is_stmt 0 view .LVU1568
 5283 0012 3023     		movs	r3, #48
 5284 0014 8DF80730 		strb	r3, [sp, #7]
 5285              	.L438:
1950:Drivers/MPU6050/inv_mpu.c ****         tmp |= BIT_BYPASS_EN;
 5286              		.loc 1 1950 5 is_stmt 1 view .LVU1569
1950:Drivers/MPU6050/inv_mpu.c ****         tmp |= BIT_BYPASS_EN;
 5287              		.loc 1 1950 20 is_stmt 0 view .LVU1570
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 154


 5288 0018 154B     		ldr	r3, .L447
 5289 001a 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
1950:Drivers/MPU6050/inv_mpu.c ****         tmp |= BIT_BYPASS_EN;
 5290              		.loc 1 1950 8 view .LVU1571
 5291 001c 2BB1     		cbz	r3, .L439
1951:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.active_low_int)
 5292              		.loc 1 1951 9 is_stmt 1 view .LVU1572
1951:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.active_low_int)
 5293              		.loc 1 1951 13 is_stmt 0 view .LVU1573
 5294 001e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 5295 0022 43F00203 		orr	r3, r3, #2
 5296 0026 8DF80730 		strb	r3, [sp, #7]
 5297              	.L439:
1952:Drivers/MPU6050/inv_mpu.c ****         tmp |= BIT_ACTL;
 5298              		.loc 1 1952 5 is_stmt 1 view .LVU1574
1952:Drivers/MPU6050/inv_mpu.c ****         tmp |= BIT_ACTL;
 5299              		.loc 1 1952 20 is_stmt 0 view .LVU1575
 5300 002a 114B     		ldr	r3, .L447
 5301 002c 93F82230 		ldrb	r3, [r3, #34]	@ zero_extendqisi2
1952:Drivers/MPU6050/inv_mpu.c ****         tmp |= BIT_ACTL;
 5302              		.loc 1 1952 8 view .LVU1576
 5303 0030 2BB1     		cbz	r3, .L440
1953:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 5304              		.loc 1 1953 9 is_stmt 1 view .LVU1577
1953:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 5305              		.loc 1 1953 13 is_stmt 0 view .LVU1578
 5306 0032 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 5307 0036 63F07F03 		orn	r3, r3, #127
 5308 003a 8DF80730 		strb	r3, [sp, #7]
 5309              	.L440:
1954:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5310              		.loc 1 1954 5 is_stmt 1 view .LVU1579
1954:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5311              		.loc 1 1954 21 is_stmt 0 view .LVU1580
 5312 003e 0C4B     		ldr	r3, .L447
 5313 0040 5868     		ldr	r0, [r3, #4]
 5314              	.LVL345:
1954:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5315              		.loc 1 1954 34 view .LVU1581
 5316 0042 1968     		ldr	r1, [r3]
1954:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5317              		.loc 1 1954 9 view .LVU1582
 5318 0044 0DF10703 		add	r3, sp, #7
 5319 0048 0122     		movs	r2, #1
 5320 004a 097D     		ldrb	r1, [r1, #20]	@ zero_extendqisi2
 5321 004c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5322 004e FFF7FEFF 		bl	i2cwrite
 5323              	.LVL346:
1954:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5324              		.loc 1 1954 8 view .LVU1583
 5325 0052 50B9     		cbnz	r0, .L442
1956:Drivers/MPU6050/inv_mpu.c ****     return 0;
 5326              		.loc 1 1956 5 is_stmt 1 view .LVU1584
1956:Drivers/MPU6050/inv_mpu.c ****     return 0;
 5327              		.loc 1 1956 29 is_stmt 0 view .LVU1585
 5328 0054 064B     		ldr	r3, .L447
 5329 0056 83F82340 		strb	r4, [r3, #35]
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 155


1957:Drivers/MPU6050/inv_mpu.c **** }
 5330              		.loc 1 1957 5 is_stmt 1 view .LVU1586
 5331              	.L435:
1958:Drivers/MPU6050/inv_mpu.c **** 
 5332              		.loc 1 1958 1 is_stmt 0 view .LVU1587
 5333 005a 02B0     		add	sp, sp, #8
 5334              	.LCFI99:
 5335              		.cfi_remember_state
 5336              		.cfi_def_cfa_offset 8
 5337              		@ sp needed
 5338 005c 10BD     		pop	{r4, pc}
 5339              	.LVL347:
 5340              	.L437:
 5341              	.LCFI100:
 5342              		.cfi_restore_state
1949:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.bypass_mode)
 5343              		.loc 1 1949 9 is_stmt 1 view .LVU1588
1949:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.bypass_mode)
 5344              		.loc 1 1949 13 is_stmt 0 view .LVU1589
 5345 005e 0023     		movs	r3, #0
 5346 0060 8DF80730 		strb	r3, [sp, #7]
 5347 0064 D8E7     		b	.L438
 5348              	.L441:
 5349              	.LCFI101:
 5350              		.cfi_def_cfa_offset 0
 5351              		.cfi_restore 4
 5352              		.cfi_restore 14
1944:Drivers/MPU6050/inv_mpu.c **** 
 5353              		.loc 1 1944 16 view .LVU1590
 5354 0066 0020     		movs	r0, #0
 5355              	.LVL348:
1958:Drivers/MPU6050/inv_mpu.c **** 
 5356              		.loc 1 1958 1 view .LVU1591
 5357 0068 7047     		bx	lr
 5358              	.L442:
 5359              	.LCFI102:
 5360              		.cfi_def_cfa_offset 16
 5361              		.cfi_offset 4, -8
 5362              		.cfi_offset 14, -4
1955:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.latched_int = enable;
 5363              		.loc 1 1955 16 view .LVU1592
 5364 006a 4FF0FF30 		mov	r0, #-1
 5365 006e F4E7     		b	.L435
 5366              	.L448:
 5367              		.align	2
 5368              	.L447:
 5369 0070 00000000 		.word	.LANCHOR0
 5370              		.cfi_endproc
 5371              	.LFE593:
 5373              		.section	.text.mpu_lp_accel_mode,"ax",%progbits
 5374              		.align	1
 5375              		.global	mpu_lp_accel_mode
 5376              		.syntax unified
 5377              		.thumb
 5378              		.thumb_func
 5380              	mpu_lp_accel_mode:
 5381              	.LVL349:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 156


 5382              	.LFB565:
 932:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
 5383              		.loc 1 932 1 is_stmt 1 view -0
 5384              		.cfi_startproc
 5385              		@ args = 0, pretend = 0, frame = 8
 5386              		@ frame_needed = 0, uses_anonymous_args = 0
 933:Drivers/MPU6050/inv_mpu.c **** 
 5387              		.loc 1 933 5 view .LVU1594
 935:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5388              		.loc 1 935 5 view .LVU1595
 935:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5389              		.loc 1 935 8 is_stmt 0 view .LVU1596
 5390 0000 2828     		cmp	r0, #40
 5391 0002 5FD8     		bhi	.L456
 932:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
 5392              		.loc 1 932 1 view .LVU1597
 5393 0004 10B5     		push	{r4, lr}
 5394              	.LCFI103:
 5395              		.cfi_def_cfa_offset 8
 5396              		.cfi_offset 4, -8
 5397              		.cfi_offset 14, -4
 5398 0006 82B0     		sub	sp, sp, #8
 5399              	.LCFI104:
 5400              		.cfi_def_cfa_offset 16
 5401 0008 0446     		mov	r4, r0
 938:Drivers/MPU6050/inv_mpu.c ****         mpu_set_int_latched(0);
 5402              		.loc 1 938 5 is_stmt 1 view .LVU1598
 938:Drivers/MPU6050/inv_mpu.c ****         mpu_set_int_latched(0);
 5403              		.loc 1 938 8 is_stmt 0 view .LVU1599
 5404 000a B8B9     		cbnz	r0, .L451
 939:Drivers/MPU6050/inv_mpu.c ****         tmp[0] = 0;
 5405              		.loc 1 939 9 is_stmt 1 view .LVU1600
 5406 000c 0020     		movs	r0, #0
 5407              	.LVL350:
 939:Drivers/MPU6050/inv_mpu.c ****         tmp[0] = 0;
 5408              		.loc 1 939 9 is_stmt 0 view .LVU1601
 5409 000e FFF7FEFF 		bl	mpu_set_int_latched
 5410              	.LVL351:
 940:Drivers/MPU6050/inv_mpu.c ****         tmp[1] = BIT_STBY_XYZG;
 5411              		.loc 1 940 9 is_stmt 1 view .LVU1602
 940:Drivers/MPU6050/inv_mpu.c ****         tmp[1] = BIT_STBY_XYZG;
 5412              		.loc 1 940 16 is_stmt 0 view .LVU1603
 5413 0012 0023     		movs	r3, #0
 5414 0014 8DF80430 		strb	r3, [sp, #4]
 941:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, tmp))
 5415              		.loc 1 941 9 is_stmt 1 view .LVU1604
 941:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, tmp))
 5416              		.loc 1 941 16 is_stmt 0 view .LVU1605
 5417 0018 0723     		movs	r3, #7
 5418 001a 8DF80530 		strb	r3, [sp, #5]
 942:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5419              		.loc 1 942 9 is_stmt 1 view .LVU1606
 942:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5420              		.loc 1 942 25 is_stmt 0 view .LVU1607
 5421 001e 2E4B     		ldr	r3, .L465
 5422 0020 5868     		ldr	r0, [r3, #4]
 942:Drivers/MPU6050/inv_mpu.c ****             return -1;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 157


 5423              		.loc 1 942 38 view .LVU1608
 5424 0022 1968     		ldr	r1, [r3]
 942:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5425              		.loc 1 942 13 view .LVU1609
 5426 0024 01AB     		add	r3, sp, #4
 5427 0026 0222     		movs	r2, #2
 5428 0028 897C     		ldrb	r1, [r1, #18]	@ zero_extendqisi2
 5429 002a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5430 002c FFF7FEFF 		bl	i2cwrite
 5431              	.LVL352:
 942:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5432              		.loc 1 942 12 view .LVU1610
 5433 0030 0028     		cmp	r0, #0
 5434 0032 4AD1     		bne	.L457
 944:Drivers/MPU6050/inv_mpu.c ****         return 0;
 5435              		.loc 1 944 9 is_stmt 1 view .LVU1611
 944:Drivers/MPU6050/inv_mpu.c ****         return 0;
 5436              		.loc 1 944 35 is_stmt 0 view .LVU1612
 5437 0034 284B     		ldr	r3, .L465
 5438 0036 1875     		strb	r0, [r3, #20]
 945:Drivers/MPU6050/inv_mpu.c ****     }
 5439              		.loc 1 945 9 is_stmt 1 view .LVU1613
 5440              	.L449:
1007:Drivers/MPU6050/inv_mpu.c **** 
 5441              		.loc 1 1007 1 is_stmt 0 view .LVU1614
 5442 0038 02B0     		add	sp, sp, #8
 5443              	.LCFI105:
 5444              		.cfi_remember_state
 5445              		.cfi_def_cfa_offset 8
 5446              		@ sp needed
 5447 003a 10BD     		pop	{r4, pc}
 5448              	.LVL353:
 5449              	.L451:
 5450              	.LCFI106:
 5451              		.cfi_restore_state
 954:Drivers/MPU6050/inv_mpu.c **** #if defined MPU6050
 5452              		.loc 1 954 5 is_stmt 1 view .LVU1615
 5453 003c 0120     		movs	r0, #1
 5454              	.LVL354:
 954:Drivers/MPU6050/inv_mpu.c **** #if defined MPU6050
 5455              		.loc 1 954 5 is_stmt 0 view .LVU1616
 5456 003e FFF7FEFF 		bl	mpu_set_int_latched
 5457              	.LVL355:
 956:Drivers/MPU6050/inv_mpu.c ****     if (rate == 1) {
 5458              		.loc 1 956 5 is_stmt 1 view .LVU1617
 956:Drivers/MPU6050/inv_mpu.c ****     if (rate == 1) {
 5459              		.loc 1 956 12 is_stmt 0 view .LVU1618
 5460 0042 2023     		movs	r3, #32
 5461 0044 8DF80430 		strb	r3, [sp, #4]
 957:Drivers/MPU6050/inv_mpu.c ****         tmp[1] = INV_LPA_1_25HZ;
 5462              		.loc 1 957 5 is_stmt 1 view .LVU1619
 957:Drivers/MPU6050/inv_mpu.c ****         tmp[1] = INV_LPA_1_25HZ;
 5463              		.loc 1 957 8 is_stmt 0 view .LVU1620
 5464 0048 012C     		cmp	r4, #1
 5465 004a 26D0     		beq	.L463
 960:Drivers/MPU6050/inv_mpu.c ****         tmp[1] = INV_LPA_5HZ;
 5466              		.loc 1 960 12 is_stmt 1 view .LVU1621
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 158


 960:Drivers/MPU6050/inv_mpu.c ****         tmp[1] = INV_LPA_5HZ;
 5467              		.loc 1 960 15 is_stmt 0 view .LVU1622
 5468 004c 052C     		cmp	r4, #5
 5469 004e 2BD9     		bls	.L464
 963:Drivers/MPU6050/inv_mpu.c ****         tmp[1] = INV_LPA_20HZ;
 5470              		.loc 1 963 12 is_stmt 1 view .LVU1623
 963:Drivers/MPU6050/inv_mpu.c ****         tmp[1] = INV_LPA_20HZ;
 5471              		.loc 1 963 15 is_stmt 0 view .LVU1624
 5472 0050 142C     		cmp	r4, #20
 5473 0052 30D8     		bhi	.L455
 964:Drivers/MPU6050/inv_mpu.c ****         mpu_set_lpf(10);
 5474              		.loc 1 964 9 is_stmt 1 view .LVU1625
 964:Drivers/MPU6050/inv_mpu.c ****         mpu_set_lpf(10);
 5475              		.loc 1 964 16 is_stmt 0 view .LVU1626
 5476 0054 0223     		movs	r3, #2
 5477 0056 8DF80530 		strb	r3, [sp, #5]
 965:Drivers/MPU6050/inv_mpu.c ****     } else {
 5478              		.loc 1 965 9 is_stmt 1 view .LVU1627
 5479 005a 0A20     		movs	r0, #10
 5480 005c FFF7FEFF 		bl	mpu_set_lpf
 5481              	.LVL356:
 5482              	.L453:
 970:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, tmp))
 5483              		.loc 1 970 5 view .LVU1628
 970:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, tmp))
 5484              		.loc 1 970 18 is_stmt 0 view .LVU1629
 5485 0060 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 970:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, tmp))
 5486              		.loc 1 970 22 view .LVU1630
 5487 0064 9B01     		lsls	r3, r3, #6
 970:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, tmp))
 5488              		.loc 1 970 28 view .LVU1631
 5489 0066 43F00703 		orr	r3, r3, #7
 970:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, tmp))
 5490              		.loc 1 970 12 view .LVU1632
 5491 006a 8DF80530 		strb	r3, [sp, #5]
 971:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5492              		.loc 1 971 5 is_stmt 1 view .LVU1633
 971:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5493              		.loc 1 971 21 is_stmt 0 view .LVU1634
 5494 006e 1A4B     		ldr	r3, .L465
 5495 0070 5868     		ldr	r0, [r3, #4]
 971:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5496              		.loc 1 971 34 view .LVU1635
 5497 0072 1968     		ldr	r1, [r3]
 971:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5498              		.loc 1 971 9 view .LVU1636
 5499 0074 01AB     		add	r3, sp, #4
 5500 0076 0222     		movs	r2, #2
 5501 0078 897C     		ldrb	r1, [r1, #18]	@ zero_extendqisi2
 5502 007a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5503 007c FFF7FEFF 		bl	i2cwrite
 5504              	.LVL357:
 971:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5505              		.loc 1 971 8 view .LVU1637
 5506 0080 30BB     		cbnz	r0, .L458
1001:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.clk_src = 0;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 159


 5507              		.loc 1 1001 5 is_stmt 1 view .LVU1638
1001:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.clk_src = 0;
 5508              		.loc 1 1001 25 is_stmt 0 view .LVU1639
 5509 0082 154B     		ldr	r3, .L465
 5510 0084 0822     		movs	r2, #8
 5511 0086 9A72     		strb	r2, [r3, #10]
1002:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 1;
 5512              		.loc 1 1002 5 is_stmt 1 view .LVU1640
1002:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 1;
 5513              		.loc 1 1002 25 is_stmt 0 view .LVU1641
 5514 0088 0024     		movs	r4, #0
 5515 008a 1C73     		strb	r4, [r3, #12]
1003:Drivers/MPU6050/inv_mpu.c ****     mpu_configure_fifo(0);
 5516              		.loc 1 1003 5 is_stmt 1 view .LVU1642
1003:Drivers/MPU6050/inv_mpu.c ****     mpu_configure_fifo(0);
 5517              		.loc 1 1003 31 is_stmt 0 view .LVU1643
 5518 008c 0122     		movs	r2, #1
 5519 008e 1A75     		strb	r2, [r3, #20]
1004:Drivers/MPU6050/inv_mpu.c **** 
 5520              		.loc 1 1004 5 is_stmt 1 view .LVU1644
 5521 0090 2046     		mov	r0, r4
 5522 0092 FFF7FEFF 		bl	mpu_configure_fifo
 5523              	.LVL358:
1006:Drivers/MPU6050/inv_mpu.c **** }
 5524              		.loc 1 1006 5 view .LVU1645
1006:Drivers/MPU6050/inv_mpu.c **** }
 5525              		.loc 1 1006 12 is_stmt 0 view .LVU1646
 5526 0096 2046     		mov	r0, r4
 5527 0098 CEE7     		b	.L449
 5528              	.L463:
 958:Drivers/MPU6050/inv_mpu.c ****         mpu_set_lpf(5);
 5529              		.loc 1 958 9 is_stmt 1 view .LVU1647
 958:Drivers/MPU6050/inv_mpu.c ****         mpu_set_lpf(5);
 5530              		.loc 1 958 16 is_stmt 0 view .LVU1648
 5531 009a 0023     		movs	r3, #0
 5532 009c 8DF80530 		strb	r3, [sp, #5]
 959:Drivers/MPU6050/inv_mpu.c ****     } else if (rate <= 5) {
 5533              		.loc 1 959 9 is_stmt 1 view .LVU1649
 5534 00a0 0520     		movs	r0, #5
 5535 00a2 FFF7FEFF 		bl	mpu_set_lpf
 5536              	.LVL359:
 5537 00a6 DBE7     		b	.L453
 5538              	.L464:
 961:Drivers/MPU6050/inv_mpu.c ****         mpu_set_lpf(5);
 5539              		.loc 1 961 9 view .LVU1650
 961:Drivers/MPU6050/inv_mpu.c ****         mpu_set_lpf(5);
 5540              		.loc 1 961 16 is_stmt 0 view .LVU1651
 5541 00a8 0123     		movs	r3, #1
 5542 00aa 8DF80530 		strb	r3, [sp, #5]
 962:Drivers/MPU6050/inv_mpu.c ****     } else if (rate <= 20) {
 5543              		.loc 1 962 9 is_stmt 1 view .LVU1652
 5544 00ae 0520     		movs	r0, #5
 5545 00b0 FFF7FEFF 		bl	mpu_set_lpf
 5546              	.LVL360:
 5547 00b4 D4E7     		b	.L453
 5548              	.L455:
 967:Drivers/MPU6050/inv_mpu.c ****         mpu_set_lpf(20);
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 160


 5549              		.loc 1 967 9 view .LVU1653
 967:Drivers/MPU6050/inv_mpu.c ****         mpu_set_lpf(20);
 5550              		.loc 1 967 16 is_stmt 0 view .LVU1654
 5551 00b6 0323     		movs	r3, #3
 5552 00b8 8DF80530 		strb	r3, [sp, #5]
 968:Drivers/MPU6050/inv_mpu.c ****     }
 5553              		.loc 1 968 9 is_stmt 1 view .LVU1655
 5554 00bc 1420     		movs	r0, #20
 5555 00be FFF7FEFF 		bl	mpu_set_lpf
 5556              	.LVL361:
 5557 00c2 CDE7     		b	.L453
 5558              	.LVL362:
 5559              	.L456:
 5560              	.LCFI107:
 5561              		.cfi_def_cfa_offset 0
 5562              		.cfi_restore 4
 5563              		.cfi_restore 14
 936:Drivers/MPU6050/inv_mpu.c **** 
 5564              		.loc 1 936 16 is_stmt 0 view .LVU1656
 5565 00c4 4FF0FF30 		mov	r0, #-1
 5566              	.LVL363:
1007:Drivers/MPU6050/inv_mpu.c **** 
 5567              		.loc 1 1007 1 view .LVU1657
 5568 00c8 7047     		bx	lr
 5569              	.L457:
 5570              	.LCFI108:
 5571              		.cfi_def_cfa_offset 16
 5572              		.cfi_offset 4, -8
 5573              		.cfi_offset 14, -4
 943:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.lp_accel_mode = 0;
 5574              		.loc 1 943 20 view .LVU1658
 5575 00ca 4FF0FF30 		mov	r0, #-1
 5576 00ce B3E7     		b	.L449
 5577              	.L458:
 972:Drivers/MPU6050/inv_mpu.c **** #elif defined MPU6500
 5578              		.loc 1 972 16 view .LVU1659
 5579 00d0 4FF0FF30 		mov	r0, #-1
 5580 00d4 B0E7     		b	.L449
 5581              	.L466:
 5582 00d6 00BF     		.align	2
 5583              	.L465:
 5584 00d8 00000000 		.word	.LANCHOR0
 5585              		.cfi_endproc
 5586              	.LFE565:
 5588              		.section	.text.mpu_set_sample_rate,"ax",%progbits
 5589              		.align	1
 5590              		.global	mpu_set_sample_rate
 5591              		.syntax unified
 5592              		.thumb
 5593              		.thumb_func
 5595              	mpu_set_sample_rate:
 5596              	.LVL364:
 5597              	.LFB579:
1429:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
 5598              		.loc 1 1429 1 is_stmt 1 view -0
 5599              		.cfi_startproc
 5600              		@ args = 0, pretend = 0, frame = 8
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 161


 5601              		@ frame_needed = 0, uses_anonymous_args = 0
1430:Drivers/MPU6050/inv_mpu.c **** 
 5602              		.loc 1 1430 5 view .LVU1661
1432:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5603              		.loc 1 1432 5 view .LVU1662
1432:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5604              		.loc 1 1432 22 is_stmt 0 view .LVU1663
 5605 0000 264B     		ldr	r3, .L482
 5606 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1432:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5607              		.loc 1 1432 8 view .LVU1664
 5608 0004 002B     		cmp	r3, #0
 5609 0006 40D0     		beq	.L472
1429:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
 5610              		.loc 1 1429 1 view .LVU1665
 5611 0008 10B5     		push	{r4, lr}
 5612              	.LCFI109:
 5613              		.cfi_def_cfa_offset 8
 5614              		.cfi_offset 4, -8
 5615              		.cfi_offset 14, -4
 5616 000a 82B0     		sub	sp, sp, #8
 5617              	.LCFI110:
 5618              		.cfi_def_cfa_offset 16
 5619 000c 0446     		mov	r4, r0
1435:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5620              		.loc 1 1435 5 is_stmt 1 view .LVU1666
1435:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5621              		.loc 1 1435 20 is_stmt 0 view .LVU1667
 5622 000e 234B     		ldr	r3, .L482
 5623 0010 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1435:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5624              		.loc 1 1435 8 view .LVU1668
 5625 0014 002B     		cmp	r3, #0
 5626 0016 3BD1     		bne	.L473
1438:Drivers/MPU6050/inv_mpu.c ****             if (rate && (rate <= 40)) {
 5627              		.loc 1 1438 9 is_stmt 1 view .LVU1669
1438:Drivers/MPU6050/inv_mpu.c ****             if (rate && (rate <= 40)) {
 5628              		.loc 1 1438 24 is_stmt 0 view .LVU1670
 5629 0018 204B     		ldr	r3, .L482
 5630 001a 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
1438:Drivers/MPU6050/inv_mpu.c ****             if (rate && (rate <= 40)) {
 5631              		.loc 1 1438 12 view .LVU1671
 5632 001c 33B1     		cbz	r3, .L469
1439:Drivers/MPU6050/inv_mpu.c ****                 /* Just stay in low-power accel mode. */
 5633              		.loc 1 1439 13 is_stmt 1 view .LVU1672
1439:Drivers/MPU6050/inv_mpu.c ****                 /* Just stay in low-power accel mode. */
 5634              		.loc 1 1439 22 is_stmt 0 view .LVU1673
 5635 001e 431E     		subs	r3, r0, #1
 5636 0020 9BB2     		uxth	r3, r3
1439:Drivers/MPU6050/inv_mpu.c ****                 /* Just stay in low-power accel mode. */
 5637              		.loc 1 1439 16 view .LVU1674
 5638 0022 272B     		cmp	r3, #39
 5639 0024 0AD9     		bls	.L481
1447:Drivers/MPU6050/inv_mpu.c ****         }
 5640              		.loc 1 1447 13 is_stmt 1 view .LVU1675
 5641 0026 0020     		movs	r0, #0
 5642              	.LVL365:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 162


1447:Drivers/MPU6050/inv_mpu.c ****         }
 5643              		.loc 1 1447 13 is_stmt 0 view .LVU1676
 5644 0028 FFF7FEFF 		bl	mpu_lp_accel_mode
 5645              	.LVL366:
 5646              	.L469:
1449:Drivers/MPU6050/inv_mpu.c ****             rate = 4;
 5647              		.loc 1 1449 9 is_stmt 1 view .LVU1677
1449:Drivers/MPU6050/inv_mpu.c ****             rate = 4;
 5648              		.loc 1 1449 12 is_stmt 0 view .LVU1678
 5649 002c 032C     		cmp	r4, #3
 5650 002e 0AD9     		bls	.L474
1451:Drivers/MPU6050/inv_mpu.c ****             rate = 1000;
 5651              		.loc 1 1451 14 is_stmt 1 view .LVU1679
1451:Drivers/MPU6050/inv_mpu.c ****             rate = 1000;
 5652              		.loc 1 1451 17 is_stmt 0 view .LVU1680
 5653 0030 B4F57A7F 		cmp	r4, #1000
 5654 0034 08D9     		bls	.L471
1452:Drivers/MPU6050/inv_mpu.c **** 
 5655              		.loc 1 1452 18 view .LVU1681
 5656 0036 4FF47A74 		mov	r4, #1000
 5657 003a 05E0     		b	.L471
 5658              	.LVL367:
 5659              	.L481:
1441:Drivers/MPU6050/inv_mpu.c ****                 return 0;
 5660              		.loc 1 1441 17 is_stmt 1 view .LVU1682
 5661 003c C0B2     		uxtb	r0, r0
 5662              	.LVL368:
1441:Drivers/MPU6050/inv_mpu.c ****                 return 0;
 5663              		.loc 1 1441 17 is_stmt 0 view .LVU1683
 5664 003e FFF7FEFF 		bl	mpu_lp_accel_mode
 5665              	.LVL369:
1442:Drivers/MPU6050/inv_mpu.c ****             }
 5666              		.loc 1 1442 17 is_stmt 1 view .LVU1684
1442:Drivers/MPU6050/inv_mpu.c ****             }
 5667              		.loc 1 1442 24 is_stmt 0 view .LVU1685
 5668 0042 0020     		movs	r0, #0
 5669 0044 1FE0     		b	.L467
 5670              	.L474:
1450:Drivers/MPU6050/inv_mpu.c ****         else if (rate > 1000)
 5671              		.loc 1 1450 18 view .LVU1686
 5672 0046 0424     		movs	r4, #4
 5673              	.L471:
 5674              	.LVL370:
1454:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->rate_div, 1, &data))
 5675              		.loc 1 1454 9 is_stmt 1 view .LVU1687
1454:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->rate_div, 1, &data))
 5676              		.loc 1 1454 21 is_stmt 0 view .LVU1688
 5677 0048 4FF47A70 		mov	r0, #1000
 5678 004c 90FBF4F4 		sdiv	r4, r0, r4
 5679              	.LVL371:
1454:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->rate_div, 1, &data))
 5680              		.loc 1 1454 28 view .LVU1689
 5681 0050 013C     		subs	r4, r4, #1
1454:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->rate_div, 1, &data))
 5682              		.loc 1 1454 14 view .LVU1690
 5683 0052 8DF80740 		strb	r4, [sp, #7]
1455:Drivers/MPU6050/inv_mpu.c ****             return -1;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 163


 5684              		.loc 1 1455 9 is_stmt 1 view .LVU1691
1455:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5685              		.loc 1 1455 25 is_stmt 0 view .LVU1692
 5686 0056 114B     		ldr	r3, .L482
 5687 0058 5868     		ldr	r0, [r3, #4]
1455:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5688              		.loc 1 1455 38 view .LVU1693
 5689 005a 1968     		ldr	r1, [r3]
1455:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5690              		.loc 1 1455 13 view .LVU1694
 5691 005c 0DF10703 		add	r3, sp, #7
 5692 0060 0122     		movs	r2, #1
 5693 0062 4978     		ldrb	r1, [r1, #1]	@ zero_extendqisi2
 5694 0064 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5695 0066 FFF7FEFF 		bl	i2cwrite
 5696              	.LVL372:
1455:Drivers/MPU6050/inv_mpu.c ****             return -1;
 5697              		.loc 1 1455 12 view .LVU1695
 5698 006a A0B9     		cbnz	r0, .L476
1458:Drivers/MPU6050/inv_mpu.c **** 
 5699              		.loc 1 1458 9 is_stmt 1 view .LVU1696
1458:Drivers/MPU6050/inv_mpu.c **** 
 5700              		.loc 1 1458 45 is_stmt 0 view .LVU1697
 5701 006c 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 5702 0070 431C     		adds	r3, r0, #1
1458:Drivers/MPU6050/inv_mpu.c **** 
 5703              		.loc 1 1458 33 view .LVU1698
 5704 0072 4FF47A70 		mov	r0, #1000
 5705 0076 90FBF3F0 		sdiv	r0, r0, r3
 5706 007a 084B     		ldr	r3, .L482
 5707 007c D881     		strh	r0, [r3, #14]	@ movhi
1465:Drivers/MPU6050/inv_mpu.c ****         return 0;
 5708              		.loc 1 1465 9 is_stmt 1 view .LVU1699
 5709 007e 4008     		lsrs	r0, r0, #1
 5710 0080 FFF7FEFF 		bl	mpu_set_lpf
 5711              	.LVL373:
1466:Drivers/MPU6050/inv_mpu.c ****     }
 5712              		.loc 1 1466 9 view .LVU1700
1466:Drivers/MPU6050/inv_mpu.c ****     }
 5713              		.loc 1 1466 16 is_stmt 0 view .LVU1701
 5714 0084 0020     		movs	r0, #0
 5715              	.L467:
1468:Drivers/MPU6050/inv_mpu.c **** 
 5716              		.loc 1 1468 1 view .LVU1702
 5717 0086 02B0     		add	sp, sp, #8
 5718              	.LCFI111:
 5719              		.cfi_def_cfa_offset 8
 5720              		@ sp needed
 5721 0088 10BD     		pop	{r4, pc}
 5722              	.LVL374:
 5723              	.L472:
 5724              	.LCFI112:
 5725              		.cfi_def_cfa_offset 0
 5726              		.cfi_restore 4
 5727              		.cfi_restore 14
1433:Drivers/MPU6050/inv_mpu.c **** 
 5728              		.loc 1 1433 16 view .LVU1703
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 164


 5729 008a 4FF0FF30 		mov	r0, #-1
 5730              	.LVL375:
1468:Drivers/MPU6050/inv_mpu.c **** 
 5731              		.loc 1 1468 1 view .LVU1704
 5732 008e 7047     		bx	lr
 5733              	.LVL376:
 5734              	.L473:
 5735              	.LCFI113:
 5736              		.cfi_def_cfa_offset 16
 5737              		.cfi_offset 4, -8
 5738              		.cfi_offset 14, -4
1436:Drivers/MPU6050/inv_mpu.c ****     else {
 5739              		.loc 1 1436 16 view .LVU1705
 5740 0090 4FF0FF30 		mov	r0, #-1
 5741              	.LVL377:
1436:Drivers/MPU6050/inv_mpu.c ****     else {
 5742              		.loc 1 1436 16 view .LVU1706
 5743 0094 F7E7     		b	.L467
 5744              	.LVL378:
 5745              	.L476:
1456:Drivers/MPU6050/inv_mpu.c **** 
 5746              		.loc 1 1456 20 view .LVU1707
 5747 0096 4FF0FF30 		mov	r0, #-1
 5748 009a F4E7     		b	.L467
 5749              	.L483:
 5750              		.align	2
 5751              	.L482:
 5752 009c 00000000 		.word	.LANCHOR0
 5753              		.cfi_endproc
 5754              	.LFE579:
 5756              		.section	.text.mpu_set_sensors,"ax",%progbits
 5757              		.align	1
 5758              		.global	mpu_set_sensors
 5759              		.syntax unified
 5760              		.thumb
 5761              		.thumb_func
 5763              	mpu_set_sensors:
 5764              	.LVL379:
 5765              	.LFB587:
1654:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
 5766              		.loc 1 1654 1 is_stmt 1 view -0
 5767              		.cfi_startproc
 5768              		@ args = 0, pretend = 0, frame = 8
 5769              		@ frame_needed = 0, uses_anonymous_args = 0
1654:Drivers/MPU6050/inv_mpu.c ****     unsigned char data;
 5770              		.loc 1 1654 1 is_stmt 0 view .LVU1709
 5771 0000 10B5     		push	{r4, lr}
 5772              	.LCFI114:
 5773              		.cfi_def_cfa_offset 8
 5774              		.cfi_offset 4, -8
 5775              		.cfi_offset 14, -4
 5776 0002 82B0     		sub	sp, sp, #8
 5777              	.LCFI115:
 5778              		.cfi_def_cfa_offset 16
 5779 0004 0446     		mov	r4, r0
1655:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 5780              		.loc 1 1655 5 is_stmt 1 view .LVU1710
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 165


1660:Drivers/MPU6050/inv_mpu.c ****         data = INV_CLK_PLL;
 5781              		.loc 1 1660 5 view .LVU1711
1660:Drivers/MPU6050/inv_mpu.c ****         data = INV_CLK_PLL;
 5782              		.loc 1 1660 8 is_stmt 0 view .LVU1712
 5783 0006 10F0700F 		tst	r0, #112
 5784 000a 50D0     		beq	.L485
1661:Drivers/MPU6050/inv_mpu.c ****     else if (sensors)
 5785              		.loc 1 1661 9 is_stmt 1 view .LVU1713
1661:Drivers/MPU6050/inv_mpu.c ****     else if (sensors)
 5786              		.loc 1 1661 14 is_stmt 0 view .LVU1714
 5787 000c 0123     		movs	r3, #1
 5788 000e 8DF80730 		strb	r3, [sp, #7]
 5789              	.L486:
1666:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 5790              		.loc 1 1666 5 is_stmt 1 view .LVU1715
1666:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 5791              		.loc 1 1666 21 is_stmt 0 view .LVU1716
 5792 0012 334B     		ldr	r3, .L500
 5793 0014 5868     		ldr	r0, [r3, #4]
 5794              	.LVL380:
1666:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 5795              		.loc 1 1666 34 view .LVU1717
 5796 0016 1968     		ldr	r1, [r3]
1666:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 5797              		.loc 1 1666 9 view .LVU1718
 5798 0018 0DF10703 		add	r3, sp, #7
 5799 001c 0122     		movs	r2, #1
 5800 001e 897C     		ldrb	r1, [r1, #18]	@ zero_extendqisi2
 5801 0020 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5802 0022 FFF7FEFF 		bl	i2cwrite
 5803              	.LVL381:
1666:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 5804              		.loc 1 1666 8 view .LVU1719
 5805 0026 0028     		cmp	r0, #0
 5806 0028 4AD1     		bne	.L497
1670:Drivers/MPU6050/inv_mpu.c **** 
 5807              		.loc 1 1670 5 is_stmt 1 view .LVU1720
1670:Drivers/MPU6050/inv_mpu.c **** 
 5808              		.loc 1 1670 32 is_stmt 0 view .LVU1721
 5809 002a 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 5810 002e 03F0BF03 		and	r3, r3, #191
1670:Drivers/MPU6050/inv_mpu.c **** 
 5811              		.loc 1 1670 25 view .LVU1722
 5812 0032 2B4A     		ldr	r2, .L500
 5813 0034 1373     		strb	r3, [r2, #12]
1672:Drivers/MPU6050/inv_mpu.c ****     if (!(sensors & INV_X_GYRO))
 5814              		.loc 1 1672 5 is_stmt 1 view .LVU1723
1672:Drivers/MPU6050/inv_mpu.c ****     if (!(sensors & INV_X_GYRO))
 5815              		.loc 1 1672 10 is_stmt 0 view .LVU1724
 5816 0036 0023     		movs	r3, #0
 5817 0038 8DF80730 		strb	r3, [sp, #7]
1673:Drivers/MPU6050/inv_mpu.c ****         data |= BIT_STBY_XG;
 5818              		.loc 1 1673 5 is_stmt 1 view .LVU1725
1673:Drivers/MPU6050/inv_mpu.c ****         data |= BIT_STBY_XG;
 5819              		.loc 1 1673 8 is_stmt 0 view .LVU1726
 5820 003c 14F0400F 		tst	r4, #64
 5821 0040 02D1     		bne	.L490
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 166


1674:Drivers/MPU6050/inv_mpu.c ****     if (!(sensors & INV_Y_GYRO))
 5822              		.loc 1 1674 9 is_stmt 1 view .LVU1727
1674:Drivers/MPU6050/inv_mpu.c ****     if (!(sensors & INV_Y_GYRO))
 5823              		.loc 1 1674 14 is_stmt 0 view .LVU1728
 5824 0042 0423     		movs	r3, #4
 5825 0044 8DF80730 		strb	r3, [sp, #7]
 5826              	.L490:
1675:Drivers/MPU6050/inv_mpu.c ****         data |= BIT_STBY_YG;
 5827              		.loc 1 1675 5 is_stmt 1 view .LVU1729
1675:Drivers/MPU6050/inv_mpu.c ****         data |= BIT_STBY_YG;
 5828              		.loc 1 1675 8 is_stmt 0 view .LVU1730
 5829 0048 14F0200F 		tst	r4, #32
 5830 004c 05D1     		bne	.L491
1676:Drivers/MPU6050/inv_mpu.c ****     if (!(sensors & INV_Z_GYRO))
 5831              		.loc 1 1676 9 is_stmt 1 view .LVU1731
1676:Drivers/MPU6050/inv_mpu.c ****     if (!(sensors & INV_Z_GYRO))
 5832              		.loc 1 1676 14 is_stmt 0 view .LVU1732
 5833 004e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 5834 0052 43F00203 		orr	r3, r3, #2
 5835 0056 8DF80730 		strb	r3, [sp, #7]
 5836              	.L491:
1677:Drivers/MPU6050/inv_mpu.c ****         data |= BIT_STBY_ZG;
 5837              		.loc 1 1677 5 is_stmt 1 view .LVU1733
1677:Drivers/MPU6050/inv_mpu.c ****         data |= BIT_STBY_ZG;
 5838              		.loc 1 1677 8 is_stmt 0 view .LVU1734
 5839 005a 14F0100F 		tst	r4, #16
 5840 005e 05D1     		bne	.L492
1678:Drivers/MPU6050/inv_mpu.c ****     if (!(sensors & INV_XYZ_ACCEL))
 5841              		.loc 1 1678 9 is_stmt 1 view .LVU1735
1678:Drivers/MPU6050/inv_mpu.c ****     if (!(sensors & INV_XYZ_ACCEL))
 5842              		.loc 1 1678 14 is_stmt 0 view .LVU1736
 5843 0060 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 5844 0064 43F00103 		orr	r3, r3, #1
 5845 0068 8DF80730 		strb	r3, [sp, #7]
 5846              	.L492:
1679:Drivers/MPU6050/inv_mpu.c ****         data |= BIT_STBY_XYZA;
 5847              		.loc 1 1679 5 is_stmt 1 view .LVU1737
1679:Drivers/MPU6050/inv_mpu.c ****         data |= BIT_STBY_XYZA;
 5848              		.loc 1 1679 8 is_stmt 0 view .LVU1738
 5849 006c 14F0080F 		tst	r4, #8
 5850 0070 05D1     		bne	.L493
1680:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_2, 1, &data)) {
 5851              		.loc 1 1680 9 is_stmt 1 view .LVU1739
1680:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_2, 1, &data)) {
 5852              		.loc 1 1680 14 is_stmt 0 view .LVU1740
 5853 0072 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 5854 0076 43F03803 		orr	r3, r3, #56
 5855 007a 8DF80730 		strb	r3, [sp, #7]
 5856              	.L493:
1681:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 5857              		.loc 1 1681 5 is_stmt 1 view .LVU1741
1681:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 5858              		.loc 1 1681 21 is_stmt 0 view .LVU1742
 5859 007e 184B     		ldr	r3, .L500
 5860 0080 5868     		ldr	r0, [r3, #4]
1681:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 5861              		.loc 1 1681 34 view .LVU1743
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 167


 5862 0082 1968     		ldr	r1, [r3]
1681:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 5863              		.loc 1 1681 9 view .LVU1744
 5864 0084 0DF10703 		add	r3, sp, #7
 5865 0088 0122     		movs	r2, #1
 5866 008a C97C     		ldrb	r1, [r1, #19]	@ zero_extendqisi2
 5867 008c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5868 008e FFF7FEFF 		bl	i2cwrite
 5869              	.LVL382:
1681:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.sensors = 0;
 5870              		.loc 1 1681 8 view .LVU1745
 5871 0092 D8B9     		cbnz	r0, .L498
1686:Drivers/MPU6050/inv_mpu.c ****         /* Latched interrupts only used in LP accel mode. */
 5872              		.loc 1 1686 5 is_stmt 1 view .LVU1746
1686:Drivers/MPU6050/inv_mpu.c ****         /* Latched interrupts only used in LP accel mode. */
 5873              		.loc 1 1686 8 is_stmt 0 view .LVU1747
 5874 0094 0CB1     		cbz	r4, .L495
1686:Drivers/MPU6050/inv_mpu.c ****         /* Latched interrupts only used in LP accel mode. */
 5875              		.loc 1 1686 17 discriminator 1 view .LVU1748
 5876 0096 082C     		cmp	r4, #8
 5877 0098 1ED1     		bne	.L499
 5878              	.L495:
1719:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 0;
 5879              		.loc 1 1719 5 is_stmt 1 view .LVU1749
1719:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 0;
 5880              		.loc 1 1719 25 is_stmt 0 view .LVU1750
 5881 009a 114B     		ldr	r3, .L500
 5882 009c 9C72     		strb	r4, [r3, #10]
1720:Drivers/MPU6050/inv_mpu.c ****     delay_ms(50);
 5883              		.loc 1 1720 5 is_stmt 1 view .LVU1751
1720:Drivers/MPU6050/inv_mpu.c ****     delay_ms(50);
 5884              		.loc 1 1720 31 is_stmt 0 view .LVU1752
 5885 009e 0024     		movs	r4, #0
 5886 00a0 1C75     		strb	r4, [r3, #20]
1721:Drivers/MPU6050/inv_mpu.c ****     return 0;
 5887              		.loc 1 1721 5 is_stmt 1 view .LVU1753
 5888 00a2 3220     		movs	r0, #50
 5889 00a4 FFF7FEFF 		bl	delay_ms
 5890              	.LVL383:
1722:Drivers/MPU6050/inv_mpu.c **** }
 5891              		.loc 1 1722 5 view .LVU1754
1722:Drivers/MPU6050/inv_mpu.c **** }
 5892              		.loc 1 1722 12 is_stmt 0 view .LVU1755
 5893 00a8 2046     		mov	r0, r4
 5894              	.L484:
1723:Drivers/MPU6050/inv_mpu.c **** 
 5895              		.loc 1 1723 1 view .LVU1756
 5896 00aa 02B0     		add	sp, sp, #8
 5897              	.LCFI116:
 5898              		.cfi_remember_state
 5899              		.cfi_def_cfa_offset 8
 5900              		@ sp needed
 5901 00ac 10BD     		pop	{r4, pc}
 5902              	.LVL384:
 5903              	.L485:
 5904              	.LCFI117:
 5905              		.cfi_restore_state
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 168


1662:Drivers/MPU6050/inv_mpu.c ****         data = 0;
 5906              		.loc 1 1662 10 is_stmt 1 view .LVU1757
1662:Drivers/MPU6050/inv_mpu.c ****         data = 0;
 5907              		.loc 1 1662 13 is_stmt 0 view .LVU1758
 5908 00ae 18B1     		cbz	r0, .L487
1663:Drivers/MPU6050/inv_mpu.c ****     else
 5909              		.loc 1 1663 9 is_stmt 1 view .LVU1759
1663:Drivers/MPU6050/inv_mpu.c ****     else
 5910              		.loc 1 1663 14 is_stmt 0 view .LVU1760
 5911 00b0 0023     		movs	r3, #0
 5912 00b2 8DF80730 		strb	r3, [sp, #7]
 5913 00b6 ACE7     		b	.L486
 5914              	.L487:
1665:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, &data)) {
 5915              		.loc 1 1665 9 is_stmt 1 view .LVU1761
1665:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, &data)) {
 5916              		.loc 1 1665 14 is_stmt 0 view .LVU1762
 5917 00b8 4023     		movs	r3, #64
 5918 00ba 8DF80730 		strb	r3, [sp, #7]
 5919 00be A8E7     		b	.L486
 5920              	.LVL385:
 5921              	.L497:
1667:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5922              		.loc 1 1667 9 is_stmt 1 view .LVU1763
1667:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5923              		.loc 1 1667 29 is_stmt 0 view .LVU1764
 5924 00c0 074B     		ldr	r3, .L500
 5925 00c2 0022     		movs	r2, #0
 5926 00c4 9A72     		strb	r2, [r3, #10]
1668:Drivers/MPU6050/inv_mpu.c ****     }
 5927              		.loc 1 1668 9 is_stmt 1 view .LVU1765
1668:Drivers/MPU6050/inv_mpu.c ****     }
 5928              		.loc 1 1668 16 is_stmt 0 view .LVU1766
 5929 00c6 4FF0FF30 		mov	r0, #-1
 5930 00ca EEE7     		b	.L484
 5931              	.L498:
1682:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5932              		.loc 1 1682 9 is_stmt 1 view .LVU1767
1682:Drivers/MPU6050/inv_mpu.c ****         return -1;
 5933              		.loc 1 1682 29 is_stmt 0 view .LVU1768
 5934 00cc 044B     		ldr	r3, .L500
 5935 00ce 0022     		movs	r2, #0
 5936 00d0 9A72     		strb	r2, [r3, #10]
1683:Drivers/MPU6050/inv_mpu.c ****     }
 5937              		.loc 1 1683 9 is_stmt 1 view .LVU1769
1683:Drivers/MPU6050/inv_mpu.c ****     }
 5938              		.loc 1 1683 16 is_stmt 0 view .LVU1770
 5939 00d2 4FF0FF30 		mov	r0, #-1
 5940 00d6 E8E7     		b	.L484
 5941              	.L499:
1688:Drivers/MPU6050/inv_mpu.c **** 
 5942              		.loc 1 1688 9 is_stmt 1 view .LVU1771
 5943 00d8 0020     		movs	r0, #0
 5944 00da FFF7FEFF 		bl	mpu_set_int_latched
 5945              	.LVL386:
 5946 00de DCE7     		b	.L495
 5947              	.L501:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 169


 5948              		.align	2
 5949              	.L500:
 5950 00e0 00000000 		.word	.LANCHOR0
 5951              		.cfi_endproc
 5952              	.LFE587:
 5954              		.section	.rodata.mpu_init.str1.4,"aMS",%progbits,1
 5955              		.align	2
 5956              	.LC0:
 5957 0000 37383100 		.ascii	"781\000"
 5958              		.align	2
 5959              	.LC1:
 5960 0004 37393000 		.ascii	"790\000"
 5961              		.align	2
 5962              	.LC2:
 5963 0008 556E7375 		.ascii	"Unsupported software product rev %d.\012\000"
 5963      70706F72 
 5963      74656420 
 5963      736F6674 
 5963      77617265 
 5964 002e 0000     		.align	2
 5965              	.LC3:
 5966 0030 38313400 		.ascii	"814\000"
 5967              		.align	2
 5968              	.LC4:
 5969 0034 50726F64 		.ascii	"Product ID read as 0 indicates device is either inc"
 5969      75637420 
 5969      49442072 
 5969      65616420 
 5969      61732030 
 5970 0067 6F6D7061 		.ascii	"ompatible or an MPU3050.\000"
 5970      7469626C 
 5970      65206F72 
 5970      20616E20 
 5970      4D505533 
 5971              		.align	2
 5972              	.LC5:
 5973 0080 48616C66 		.ascii	"Half sensitivity part found.\000"
 5973      2073656E 
 5973      73697469 
 5973      76697479 
 5973      20706172 
 5974 009d 000000   		.align	2
 5975              	.LC6:
 5976 00a0 38373100 		.ascii	"871\000"
 5977              		.align	2
 5978              	.LC7:
 5979 00a4 38373600 		.ascii	"876\000"
 5980              		.align	2
 5981              	.LC8:
 5982 00a8 38383100 		.ascii	"881\000"
 5983              		.align	2
 5984              	.LC9:
 5985 00ac 38383600 		.ascii	"886\000"
 5986              		.align	2
 5987              	.LC10:
 5988 00b0 38393100 		.ascii	"891\000"
 5989              		.align	2
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 170


 5990              	.LC11:
 5991 00b4 39303600 		.ascii	"906\000"
 5992              		.section	.text.mpu_init,"ax",%progbits
 5993              		.align	1
 5994              		.global	mpu_init
 5995              		.syntax unified
 5996              		.thumb
 5997              		.thumb_func
 5999              	mpu_init:
 6000              	.LFB564:
 773:Drivers/MPU6050/inv_mpu.c ****     unsigned char data[6], rev;
 6001              		.loc 1 773 1 view -0
 6002              		.cfi_startproc
 6003              		@ args = 0, pretend = 0, frame = 8
 6004              		@ frame_needed = 0, uses_anonymous_args = 0
 6005 0000 10B5     		push	{r4, lr}
 6006              	.LCFI118:
 6007              		.cfi_def_cfa_offset 8
 6008              		.cfi_offset 4, -8
 6009              		.cfi_offset 14, -4
 6010 0002 82B0     		sub	sp, sp, #8
 6011              	.LCFI119:
 6012              		.cfi_def_cfa_offset 16
 774:Drivers/MPU6050/inv_mpu.c **** 
 6013              		.loc 1 774 5 view .LVU1773
 777:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, &(data[0])))
 6014              		.loc 1 777 5 view .LVU1774
 777:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, &(data[0])))
 6015              		.loc 1 777 13 is_stmt 0 view .LVU1775
 6016 0004 8023     		movs	r3, #128
 6017 0006 8DF80030 		strb	r3, [sp]
 778:Drivers/MPU6050/inv_mpu.c ****     {
 6018              		.loc 1 778 5 is_stmt 1 view .LVU1776
 778:Drivers/MPU6050/inv_mpu.c ****     {
 6019              		.loc 1 778 21 is_stmt 0 view .LVU1777
 6020 000a 764B     		ldr	r3, .L533
 6021 000c 5868     		ldr	r0, [r3, #4]
 778:Drivers/MPU6050/inv_mpu.c ****     {
 6022              		.loc 1 778 34 view .LVU1778
 6023 000e 1968     		ldr	r1, [r3]
 778:Drivers/MPU6050/inv_mpu.c ****     {
 6024              		.loc 1 778 9 view .LVU1779
 6025 0010 6B46     		mov	r3, sp
 6026 0012 0122     		movs	r2, #1
 6027 0014 897C     		ldrb	r1, [r1, #18]	@ zero_extendqisi2
 6028 0016 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6029 0018 FFF7FEFF 		bl	i2cwrite
 6030              	.LVL387:
 778:Drivers/MPU6050/inv_mpu.c ****     {
 6031              		.loc 1 778 8 view .LVU1780
 6032 001c 0028     		cmp	r0, #0
 6033 001e 7CD1     		bne	.L521
 783:Drivers/MPU6050/inv_mpu.c **** 
 6034              		.loc 1 783 5 is_stmt 1 view .LVU1781
 6035 0020 C820     		movs	r0, #200
 6036 0022 FFF7FEFF 		bl	delay_ms
 6037              	.LVL388:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 171


 786:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, &(data[0])))
 6038              		.loc 1 786 5 view .LVU1782
 786:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, &(data[0])))
 6039              		.loc 1 786 13 is_stmt 0 view .LVU1783
 6040 0026 0023     		movs	r3, #0
 6041 0028 8DF80030 		strb	r3, [sp]
 787:Drivers/MPU6050/inv_mpu.c ****     {
 6042              		.loc 1 787 5 is_stmt 1 view .LVU1784
 787:Drivers/MPU6050/inv_mpu.c ****     {
 6043              		.loc 1 787 21 is_stmt 0 view .LVU1785
 6044 002c 6D4B     		ldr	r3, .L533
 6045 002e 5868     		ldr	r0, [r3, #4]
 787:Drivers/MPU6050/inv_mpu.c ****     {
 6046              		.loc 1 787 34 view .LVU1786
 6047 0030 1968     		ldr	r1, [r3]
 787:Drivers/MPU6050/inv_mpu.c ****     {
 6048              		.loc 1 787 9 view .LVU1787
 6049 0032 6B46     		mov	r3, sp
 6050 0034 0122     		movs	r2, #1
 6051 0036 897C     		ldrb	r1, [r1, #18]	@ zero_extendqisi2
 6052 0038 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6053 003a FFF7FEFF 		bl	i2cwrite
 6054              	.LVL389:
 787:Drivers/MPU6050/inv_mpu.c ****     {
 6055              		.loc 1 787 8 view .LVU1788
 6056 003e 0028     		cmp	r0, #0
 6057 0040 71D1     		bne	.L522
 793:Drivers/MPU6050/inv_mpu.c ****     
 6058              		.loc 1 793 5 is_stmt 1 view .LVU1789
 6059 0042 C820     		movs	r0, #200
 6060 0044 FFF7FEFF 		bl	delay_ms
 6061              	.LVL390:
 797:Drivers/MPU6050/inv_mpu.c ****         return -1;
 6062              		.loc 1 797 5 view .LVU1790
 797:Drivers/MPU6050/inv_mpu.c ****         return -1;
 6063              		.loc 1 797 20 is_stmt 0 view .LVU1791
 6064 0048 664B     		ldr	r3, .L533
 6065 004a 5868     		ldr	r0, [r3, #4]
 797:Drivers/MPU6050/inv_mpu.c ****         return -1;
 6066              		.loc 1 797 33 view .LVU1792
 6067 004c 1968     		ldr	r1, [r3]
 797:Drivers/MPU6050/inv_mpu.c ****         return -1;
 6068              		.loc 1 797 9 view .LVU1793
 6069 004e 6B46     		mov	r3, sp
 6070 0050 0622     		movs	r2, #6
 6071 0052 897D     		ldrb	r1, [r1, #22]	@ zero_extendqisi2
 6072 0054 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6073 0056 FFF7FEFF 		bl	i2cread
 6074              	.LVL391:
 797:Drivers/MPU6050/inv_mpu.c ****         return -1;
 6075              		.loc 1 797 8 view .LVU1794
 6076 005a 0028     		cmp	r0, #0
 6077 005c 40F0BF80 		bne	.L519
 799:Drivers/MPU6050/inv_mpu.c ****         (data[1] & 0x01);
 6078              		.loc 1 799 5 is_stmt 1 view .LVU1795
 799:Drivers/MPU6050/inv_mpu.c ****         (data[1] & 0x01);
 6079              		.loc 1 799 17 is_stmt 0 view .LVU1796
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 172


 6080 0060 9DF80510 		ldrb	r1, [sp, #5]	@ zero_extendqisi2
 799:Drivers/MPU6050/inv_mpu.c ****         (data[1] & 0x01);
 6081              		.loc 1 799 29 view .LVU1797
 6082 0064 8900     		lsls	r1, r1, #2
 6083 0066 01F00401 		and	r1, r1, #4
 799:Drivers/MPU6050/inv_mpu.c ****         (data[1] & 0x01);
 6084              		.loc 1 799 43 view .LVU1798
 6085 006a 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 799:Drivers/MPU6050/inv_mpu.c ****         (data[1] & 0x01);
 6086              		.loc 1 799 55 view .LVU1799
 6087 006e 5B00     		lsls	r3, r3, #1
 6088 0070 03F00203 		and	r3, r3, #2
 799:Drivers/MPU6050/inv_mpu.c ****         (data[1] & 0x01);
 6089              		.loc 1 799 35 view .LVU1800
 6090 0074 1943     		orrs	r1, r1, r3
 800:Drivers/MPU6050/inv_mpu.c **** 
 6091              		.loc 1 800 14 view .LVU1801
 6092 0076 9DF90130 		ldrsb	r3, [sp, #1]
 800:Drivers/MPU6050/inv_mpu.c **** 
 6093              		.loc 1 800 18 view .LVU1802
 6094 007a 03F00103 		and	r3, r3, #1
 6095              	.LVL392:
 802:Drivers/MPU6050/inv_mpu.c ****         /* Congrats, these parts are better. */
 6096              		.loc 1 802 5 is_stmt 1 view .LVU1803
 802:Drivers/MPU6050/inv_mpu.c ****         /* Congrats, these parts are better. */
 6097              		.loc 1 802 8 is_stmt 0 view .LVU1804
 6098 007e 1943     		orrs	r1, r1, r3
 6099              	.LVL393:
 802:Drivers/MPU6050/inv_mpu.c ****         /* Congrats, these parts are better. */
 6100              		.loc 1 802 8 view .LVU1805
 6101 0080 61D0     		beq	.L506
 804:Drivers/MPU6050/inv_mpu.c ****             st.chip_cfg.accel_half = 1;
 6102              		.loc 1 804 9 is_stmt 1 view .LVU1806
 804:Drivers/MPU6050/inv_mpu.c ****             st.chip_cfg.accel_half = 1;
 6103              		.loc 1 804 12 is_stmt 0 view .LVU1807
 6104 0082 0129     		cmp	r1, #1
 6105 0084 55D0     		beq	.L523
 806:Drivers/MPU6050/inv_mpu.c ****             st.chip_cfg.accel_half = 0;
 6106              		.loc 1 806 14 is_stmt 1 view .LVU1808
 806:Drivers/MPU6050/inv_mpu.c ****             st.chip_cfg.accel_half = 0;
 6107              		.loc 1 806 17 is_stmt 0 view .LVU1809
 6108 0086 0229     		cmp	r1, #2
 6109 0088 57D1     		bne	.L509
 807:Drivers/MPU6050/inv_mpu.c ****         else {
 6110              		.loc 1 807 13 is_stmt 1 view .LVU1810
 807:Drivers/MPU6050/inv_mpu.c ****         else {
 6111              		.loc 1 807 36 is_stmt 0 view .LVU1811
 6112 008a 564B     		ldr	r3, .L533
 6113 008c 0022     		movs	r2, #0
 6114 008e DA74     		strb	r2, [r3, #19]
 6115              	.LVL394:
 6116              	.L508:
 848:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.gyro_fsr = 0xFF;
 6117              		.loc 1 848 5 is_stmt 1 view .LVU1812
 848:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.gyro_fsr = 0xFF;
 6118              		.loc 1 848 25 is_stmt 0 view .LVU1813
 6119 0090 544B     		ldr	r3, .L533
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 173


 6120 0092 FF22     		movs	r2, #255
 6121 0094 9A72     		strb	r2, [r3, #10]
 849:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.accel_fsr = 0xFF;
 6122              		.loc 1 849 5 is_stmt 1 view .LVU1814
 849:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.accel_fsr = 0xFF;
 6123              		.loc 1 849 26 is_stmt 0 view .LVU1815
 6124 0096 1A72     		strb	r2, [r3, #8]
 850:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lpf = 0xFF;
 6125              		.loc 1 850 5 is_stmt 1 view .LVU1816
 850:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lpf = 0xFF;
 6126              		.loc 1 850 27 is_stmt 0 view .LVU1817
 6127 0098 5A72     		strb	r2, [r3, #9]
 851:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.sample_rate = 0xFFFF;
 6128              		.loc 1 851 5 is_stmt 1 view .LVU1818
 851:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.sample_rate = 0xFFFF;
 6129              		.loc 1 851 21 is_stmt 0 view .LVU1819
 6130 009a DA72     		strb	r2, [r3, #11]
 852:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.fifo_enable = 0xFF;
 6131              		.loc 1 852 5 is_stmt 1 view .LVU1820
 852:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.fifo_enable = 0xFF;
 6132              		.loc 1 852 29 is_stmt 0 view .LVU1821
 6133 009c 4FF6FF71 		movw	r1, #65535
 6134 00a0 D981     		strh	r1, [r3, #14]	@ movhi
 853:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.bypass_mode = 0xFF;
 6135              		.loc 1 853 5 is_stmt 1 view .LVU1822
 853:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.bypass_mode = 0xFF;
 6136              		.loc 1 853 29 is_stmt 0 view .LVU1823
 6137 00a2 1A74     		strb	r2, [r3, #16]
 854:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 6138              		.loc 1 854 5 is_stmt 1 view .LVU1824
 854:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 6139              		.loc 1 854 29 is_stmt 0 view .LVU1825
 6140 00a4 9A74     		strb	r2, [r3, #18]
 859:Drivers/MPU6050/inv_mpu.c ****     /* Handled in next call to mpu_set_bypass. */
 6141              		.loc 1 859 5 is_stmt 1 view .LVU1826
 859:Drivers/MPU6050/inv_mpu.c ****     /* Handled in next call to mpu_set_bypass. */
 6142              		.loc 1 859 25 is_stmt 0 view .LVU1827
 6143 00a6 0122     		movs	r2, #1
 6144 00a8 1A73     		strb	r2, [r3, #12]
 861:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.latched_int = 0;
 6145              		.loc 1 861 5 is_stmt 1 view .LVU1828
 861:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.latched_int = 0;
 6146              		.loc 1 861 32 is_stmt 0 view .LVU1829
 6147 00aa 83F82220 		strb	r2, [r3, #34]
 862:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.int_motion_only = 0;
 6148              		.loc 1 862 5 is_stmt 1 view .LVU1830
 862:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.int_motion_only = 0;
 6149              		.loc 1 862 29 is_stmt 0 view .LVU1831
 6150 00ae 0022     		movs	r2, #0
 6151 00b0 83F82320 		strb	r2, [r3, #35]
 863:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 0;
 6152              		.loc 1 863 5 is_stmt 1 view .LVU1832
 863:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 0;
 6153              		.loc 1 863 33 is_stmt 0 view .LVU1833
 6154 00b4 5A75     		strb	r2, [r3, #21]
 864:Drivers/MPU6050/inv_mpu.c ****     memset(&st.chip_cfg.cache, 0, sizeof(st.chip_cfg.cache));
 6155              		.loc 1 864 5 is_stmt 1 view .LVU1834
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 174


 864:Drivers/MPU6050/inv_mpu.c ****     memset(&st.chip_cfg.cache, 0, sizeof(st.chip_cfg.cache));
 6156              		.loc 1 864 31 is_stmt 0 view .LVU1835
 6157 00b6 1A75     		strb	r2, [r3, #20]
 865:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.dmp_on = 0;
 6158              		.loc 1 865 5 is_stmt 1 view .LVU1836
 6159 00b8 C3F81620 		str	r2, [r3, #22]	@ unaligned
 6160 00bc C3F81A20 		str	r2, [r3, #26]	@ unaligned
 6161 00c0 C3F81E20 		str	r2, [r3, #30]	@ unaligned
 866:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.dmp_loaded = 0;
 6162              		.loc 1 866 5 view .LVU1837
 866:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.dmp_loaded = 0;
 6163              		.loc 1 866 24 is_stmt 0 view .LVU1838
 6164 00c4 83F82420 		strb	r2, [r3, #36]
 867:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.dmp_sample_rate = 0;
 6165              		.loc 1 867 5 is_stmt 1 view .LVU1839
 867:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.dmp_sample_rate = 0;
 6166              		.loc 1 867 28 is_stmt 0 view .LVU1840
 6167 00c8 83F82520 		strb	r2, [r3, #37]
 868:Drivers/MPU6050/inv_mpu.c **** 
 6168              		.loc 1 868 5 is_stmt 1 view .LVU1841
 868:Drivers/MPU6050/inv_mpu.c **** 
 6169              		.loc 1 868 33 is_stmt 0 view .LVU1842
 6170 00cc DA84     		strh	r2, [r3, #38]	@ movhi
 870:Drivers/MPU6050/inv_mpu.c ****     {
 6171              		.loc 1 870 5 is_stmt 1 view .LVU1843
 870:Drivers/MPU6050/inv_mpu.c ****     {
 6172              		.loc 1 870 9 is_stmt 0 view .LVU1844
 6173 00ce 4FF4FA60 		mov	r0, #2000
 6174 00d2 FFF7FEFF 		bl	mpu_set_gyro_fsr
 6175              	.LVL395:
 870:Drivers/MPU6050/inv_mpu.c ****     {
 6176              		.loc 1 870 8 view .LVU1845
 6177 00d6 0028     		cmp	r0, #0
 6178 00d8 5DD1     		bne	.L524
 875:Drivers/MPU6050/inv_mpu.c ****     {
 6179              		.loc 1 875 5 is_stmt 1 view .LVU1846
 875:Drivers/MPU6050/inv_mpu.c ****     {
 6180              		.loc 1 875 9 is_stmt 0 view .LVU1847
 6181 00da 0220     		movs	r0, #2
 6182 00dc FFF7FEFF 		bl	mpu_set_accel_fsr
 6183              	.LVL396:
 875:Drivers/MPU6050/inv_mpu.c ****     {
 6184              		.loc 1 875 8 view .LVU1848
 6185 00e0 0028     		cmp	r0, #0
 6186 00e2 5ED1     		bne	.L525
 880:Drivers/MPU6050/inv_mpu.c ****     {
 6187              		.loc 1 880 5 is_stmt 1 view .LVU1849
 880:Drivers/MPU6050/inv_mpu.c ****     {
 6188              		.loc 1 880 9 is_stmt 0 view .LVU1850
 6189 00e4 2A20     		movs	r0, #42
 6190 00e6 FFF7FEFF 		bl	mpu_set_lpf
 6191              	.LVL397:
 880:Drivers/MPU6050/inv_mpu.c ****     {
 6192              		.loc 1 880 8 view .LVU1851
 6193 00ea 0028     		cmp	r0, #0
 6194 00ec 5FD1     		bne	.L526
 885:Drivers/MPU6050/inv_mpu.c ****     {
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 175


 6195              		.loc 1 885 5 is_stmt 1 view .LVU1852
 885:Drivers/MPU6050/inv_mpu.c ****     {
 6196              		.loc 1 885 9 is_stmt 0 view .LVU1853
 6197 00ee 3220     		movs	r0, #50
 6198 00f0 FFF7FEFF 		bl	mpu_set_sample_rate
 6199              	.LVL398:
 885:Drivers/MPU6050/inv_mpu.c ****     {
 6200              		.loc 1 885 8 view .LVU1854
 6201 00f4 0028     		cmp	r0, #0
 6202 00f6 60D1     		bne	.L527
 890:Drivers/MPU6050/inv_mpu.c ****     {
 6203              		.loc 1 890 5 is_stmt 1 view .LVU1855
 890:Drivers/MPU6050/inv_mpu.c ****     {
 6204              		.loc 1 890 9 is_stmt 0 view .LVU1856
 6205 00f8 0020     		movs	r0, #0
 6206 00fa FFF7FEFF 		bl	mpu_configure_fifo
 6207              	.LVL399:
 890:Drivers/MPU6050/inv_mpu.c ****     {
 6208              		.loc 1 890 8 view .LVU1857
 6209 00fe 0028     		cmp	r0, #0
 6210 0100 61D1     		bne	.L528
 905:Drivers/MPU6050/inv_mpu.c ****     {
 6211              		.loc 1 905 5 is_stmt 1 view .LVU1858
 905:Drivers/MPU6050/inv_mpu.c ****     {
 6212              		.loc 1 905 9 is_stmt 0 view .LVU1859
 6213 0102 0020     		movs	r0, #0
 6214 0104 FFF7FEFF 		bl	mpu_set_bypass
 6215              	.LVL400:
 905:Drivers/MPU6050/inv_mpu.c ****     {
 6216              		.loc 1 905 8 view .LVU1860
 6217 0108 0446     		mov	r4, r0
 6218 010a 0028     		cmp	r0, #0
 6219 010c 61D1     		bne	.L529
 912:Drivers/MPU6050/inv_mpu.c ****     return 0;
 6220              		.loc 1 912 5 is_stmt 1 view .LVU1861
 6221 010e 0020     		movs	r0, #0
 6222 0110 FFF7FEFF 		bl	mpu_set_sensors
 6223              	.LVL401:
 913:Drivers/MPU6050/inv_mpu.c **** }
 6224              		.loc 1 913 5 view .LVU1862
 6225              	.L502:
 914:Drivers/MPU6050/inv_mpu.c **** 
 6226              		.loc 1 914 1 is_stmt 0 view .LVU1863
 6227 0114 2046     		mov	r0, r4
 6228 0116 02B0     		add	sp, sp, #8
 6229              	.LCFI120:
 6230              		.cfi_remember_state
 6231              		.cfi_def_cfa_offset 8
 6232              		@ sp needed
 6233 0118 10BD     		pop	{r4, pc}
 6234              	.L521:
 6235              	.LCFI121:
 6236              		.cfi_restore_state
 780:Drivers/MPU6050/inv_mpu.c **** 			return -1;
 6237              		.loc 1 780 4 is_stmt 1 view .LVU1864
 6238 011a 3348     		ldr	r0, .L533+4
 6239 011c FFF7FEFF 		bl	puts
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 176


 6240              	.LVL402:
 781:Drivers/MPU6050/inv_mpu.c **** 		}
 6241              		.loc 1 781 4 view .LVU1865
 781:Drivers/MPU6050/inv_mpu.c **** 		}
 6242              		.loc 1 781 11 is_stmt 0 view .LVU1866
 6243 0120 4FF0FF34 		mov	r4, #-1
 6244 0124 F6E7     		b	.L502
 6245              	.L522:
 789:Drivers/MPU6050/inv_mpu.c **** 			return -1;
 6246              		.loc 1 789 4 is_stmt 1 view .LVU1867
 6247 0126 3148     		ldr	r0, .L533+8
 6248 0128 FFF7FEFF 		bl	puts
 6249              	.LVL403:
 790:Drivers/MPU6050/inv_mpu.c **** 		}
 6250              		.loc 1 790 4 view .LVU1868
 790:Drivers/MPU6050/inv_mpu.c **** 		}
 6251              		.loc 1 790 11 is_stmt 0 view .LVU1869
 6252 012c 4FF0FF34 		mov	r4, #-1
 6253 0130 F0E7     		b	.L502
 6254              	.LVL404:
 6255              	.L523:
 805:Drivers/MPU6050/inv_mpu.c ****         else if (rev == 2)
 6256              		.loc 1 805 13 is_stmt 1 view .LVU1870
 805:Drivers/MPU6050/inv_mpu.c ****         else if (rev == 2)
 6257              		.loc 1 805 36 is_stmt 0 view .LVU1871
 6258 0132 2C4B     		ldr	r3, .L533
 6259 0134 0122     		movs	r2, #1
 6260 0136 DA74     		strb	r2, [r3, #19]
 6261 0138 AAE7     		b	.L508
 6262              	.L509:
 809:Drivers/MPU6050/inv_mpu.c ****             return -1;
 6263              		.loc 1 809 13 is_stmt 1 view .LVU1872
 6264 013a 2D48     		ldr	r0, .L533+12
 6265 013c FFF7FEFF 		bl	printf
 6266              	.LVL405:
 810:Drivers/MPU6050/inv_mpu.c ****         }
 6267              		.loc 1 810 13 view .LVU1873
 810:Drivers/MPU6050/inv_mpu.c ****         }
 6268              		.loc 1 810 20 is_stmt 0 view .LVU1874
 6269 0140 4FF0FF34 		mov	r4, #-1
 6270 0144 E6E7     		b	.L502
 6271              	.LVL406:
 6272              	.L506:
 813:Drivers/MPU6050/inv_mpu.c **** 				{
 6273              		.loc 1 813 9 is_stmt 1 view .LVU1875
 813:Drivers/MPU6050/inv_mpu.c **** 				{
 6274              		.loc 1 813 24 is_stmt 0 view .LVU1876
 6275 0146 274B     		ldr	r3, .L533
 6276 0148 5868     		ldr	r0, [r3, #4]
 813:Drivers/MPU6050/inv_mpu.c **** 				{
 6277              		.loc 1 813 37 view .LVU1877
 6278 014a 1968     		ldr	r1, [r3]
 6279              	.LVL407:
 813:Drivers/MPU6050/inv_mpu.c **** 				{
 6280              		.loc 1 813 13 view .LVU1878
 6281 014c 6B46     		mov	r3, sp
 6282 014e 0122     		movs	r2, #1
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 177


 6283 0150 C978     		ldrb	r1, [r1, #3]	@ zero_extendqisi2
 6284 0152 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6285 0154 FFF7FEFF 		bl	i2cread
 6286              	.LVL408:
 813:Drivers/MPU6050/inv_mpu.c **** 				{
 6287              		.loc 1 813 12 view .LVU1879
 6288 0158 50B9     		cbnz	r0, .L530
 818:Drivers/MPU6050/inv_mpu.c ****         if (!rev) {
 6289              		.loc 1 818 9 is_stmt 1 view .LVU1880
 818:Drivers/MPU6050/inv_mpu.c ****         if (!rev) {
 6290              		.loc 1 818 19 is_stmt 0 view .LVU1881
 6291 015a 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 6292              	.LVL409:
 819:Drivers/MPU6050/inv_mpu.c ****             log_e("Product ID read as 0 indicates device is either incompatible or an MPU3050.\n");
 6293              		.loc 1 819 9 is_stmt 1 view .LVU1882
 819:Drivers/MPU6050/inv_mpu.c ****             log_e("Product ID read as 0 indicates device is either incompatible or an MPU3050.\n");
 6294              		.loc 1 819 12 is_stmt 0 view .LVU1883
 6295 015e 13F00F03 		ands	r3, r3, #15
 6296              	.LVL410:
 819:Drivers/MPU6050/inv_mpu.c ****             log_e("Product ID read as 0 indicates device is either incompatible or an MPU3050.\n");
 6297              		.loc 1 819 12 view .LVU1884
 6298 0162 0BD0     		beq	.L531
 822:Drivers/MPU6050/inv_mpu.c ****             log_i("Half sensitivity part found.\n");
 6299              		.loc 1 822 16 is_stmt 1 view .LVU1885
 822:Drivers/MPU6050/inv_mpu.c ****             log_i("Half sensitivity part found.\n");
 6300              		.loc 1 822 19 is_stmt 0 view .LVU1886
 6301 0164 042B     		cmp	r3, #4
 6302 0166 0FD0     		beq	.L532
 826:Drivers/MPU6050/inv_mpu.c ****     }
 6303              		.loc 1 826 13 is_stmt 1 view .LVU1887
 826:Drivers/MPU6050/inv_mpu.c ****     }
 6304              		.loc 1 826 36 is_stmt 0 view .LVU1888
 6305 0168 1E4B     		ldr	r3, .L533
 6306 016a 0022     		movs	r2, #0
 6307 016c DA74     		strb	r2, [r3, #19]
 6308 016e 8FE7     		b	.L508
 6309              	.LVL411:
 6310              	.L530:
 815:Drivers/MPU6050/inv_mpu.c **** 					return -1;
 6311              		.loc 1 815 6 is_stmt 1 view .LVU1889
 6312 0170 2048     		ldr	r0, .L533+16
 6313 0172 FFF7FEFF 		bl	puts
 6314              	.LVL412:
 816:Drivers/MPU6050/inv_mpu.c **** 				}
 6315              		.loc 1 816 6 view .LVU1890
 816:Drivers/MPU6050/inv_mpu.c **** 				}
 6316              		.loc 1 816 13 is_stmt 0 view .LVU1891
 6317 0176 4FF0FF34 		mov	r4, #-1
 6318 017a CBE7     		b	.L502
 6319              	.LVL413:
 6320              	.L531:
 820:Drivers/MPU6050/inv_mpu.c ****             return -1;
 6321              		.loc 1 820 13 is_stmt 1 view .LVU1892
 6322 017c 1E48     		ldr	r0, .L533+20
 6323 017e FFF7FEFF 		bl	puts
 6324              	.LVL414:
 821:Drivers/MPU6050/inv_mpu.c ****         } else if (rev == 4) {
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 178


 6325              		.loc 1 821 13 view .LVU1893
 821:Drivers/MPU6050/inv_mpu.c ****         } else if (rev == 4) {
 6326              		.loc 1 821 20 is_stmt 0 view .LVU1894
 6327 0182 4FF0FF34 		mov	r4, #-1
 6328 0186 C5E7     		b	.L502
 6329              	.LVL415:
 6330              	.L532:
 823:Drivers/MPU6050/inv_mpu.c ****             st.chip_cfg.accel_half = 1;
 6331              		.loc 1 823 13 is_stmt 1 view .LVU1895
 6332 0188 1C48     		ldr	r0, .L533+24
 6333 018a FFF7FEFF 		bl	puts
 6334              	.LVL416:
 824:Drivers/MPU6050/inv_mpu.c ****         } else
 6335              		.loc 1 824 13 view .LVU1896
 824:Drivers/MPU6050/inv_mpu.c ****         } else
 6336              		.loc 1 824 36 is_stmt 0 view .LVU1897
 6337 018e 154B     		ldr	r3, .L533
 6338 0190 0122     		movs	r2, #1
 6339 0192 DA74     		strb	r2, [r3, #19]
 6340 0194 7CE7     		b	.L508
 6341              	.L524:
 872:Drivers/MPU6050/inv_mpu.c **** 			return -1;
 6342              		.loc 1 872 4 is_stmt 1 view .LVU1898
 6343 0196 1A48     		ldr	r0, .L533+28
 6344 0198 FFF7FEFF 		bl	puts
 6345              	.LVL417:
 873:Drivers/MPU6050/inv_mpu.c **** 		}
 6346              		.loc 1 873 4 view .LVU1899
 873:Drivers/MPU6050/inv_mpu.c **** 		}
 6347              		.loc 1 873 11 is_stmt 0 view .LVU1900
 6348 019c 4FF0FF34 		mov	r4, #-1
 6349 01a0 B8E7     		b	.L502
 6350              	.L525:
 877:Drivers/MPU6050/inv_mpu.c **** 			return -1;
 6351              		.loc 1 877 4 is_stmt 1 view .LVU1901
 6352 01a2 1848     		ldr	r0, .L533+32
 6353 01a4 FFF7FEFF 		bl	puts
 6354              	.LVL418:
 878:Drivers/MPU6050/inv_mpu.c **** 		}
 6355              		.loc 1 878 4 view .LVU1902
 878:Drivers/MPU6050/inv_mpu.c **** 		}
 6356              		.loc 1 878 11 is_stmt 0 view .LVU1903
 6357 01a8 4FF0FF34 		mov	r4, #-1
 6358 01ac B2E7     		b	.L502
 6359              	.L526:
 882:Drivers/MPU6050/inv_mpu.c **** 			return -1;
 6360              		.loc 1 882 4 is_stmt 1 view .LVU1904
 6361 01ae 1648     		ldr	r0, .L533+36
 6362 01b0 FFF7FEFF 		bl	puts
 6363              	.LVL419:
 883:Drivers/MPU6050/inv_mpu.c **** 		}
 6364              		.loc 1 883 4 view .LVU1905
 883:Drivers/MPU6050/inv_mpu.c **** 		}
 6365              		.loc 1 883 11 is_stmt 0 view .LVU1906
 6366 01b4 4FF0FF34 		mov	r4, #-1
 6367 01b8 ACE7     		b	.L502
 6368              	.L527:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 179


 887:Drivers/MPU6050/inv_mpu.c **** 			return -1;
 6369              		.loc 1 887 4 is_stmt 1 view .LVU1907
 6370 01ba 1448     		ldr	r0, .L533+40
 6371 01bc FFF7FEFF 		bl	puts
 6372              	.LVL420:
 888:Drivers/MPU6050/inv_mpu.c **** 		}
 6373              		.loc 1 888 4 view .LVU1908
 888:Drivers/MPU6050/inv_mpu.c **** 		}
 6374              		.loc 1 888 11 is_stmt 0 view .LVU1909
 6375 01c0 4FF0FF34 		mov	r4, #-1
 6376 01c4 A6E7     		b	.L502
 6377              	.L528:
 892:Drivers/MPU6050/inv_mpu.c **** 			return -1;
 6378              		.loc 1 892 4 is_stmt 1 view .LVU1910
 6379 01c6 1248     		ldr	r0, .L533+44
 6380 01c8 FFF7FEFF 		bl	puts
 6381              	.LVL421:
 893:Drivers/MPU6050/inv_mpu.c **** 		}
 6382              		.loc 1 893 4 view .LVU1911
 893:Drivers/MPU6050/inv_mpu.c **** 		}
 6383              		.loc 1 893 11 is_stmt 0 view .LVU1912
 6384 01cc 4FF0FF34 		mov	r4, #-1
 6385 01d0 A0E7     		b	.L502
 6386              	.L529:
 907:Drivers/MPU6050/inv_mpu.c **** 			return -1;
 6387              		.loc 1 907 4 is_stmt 1 view .LVU1913
 6388 01d2 1048     		ldr	r0, .L533+48
 6389 01d4 FFF7FEFF 		bl	puts
 6390              	.LVL422:
 908:Drivers/MPU6050/inv_mpu.c **** 		}
 6391              		.loc 1 908 4 view .LVU1914
 908:Drivers/MPU6050/inv_mpu.c **** 		}
 6392              		.loc 1 908 11 is_stmt 0 view .LVU1915
 6393 01d8 4FF0FF34 		mov	r4, #-1
 6394 01dc 9AE7     		b	.L502
 6395              	.L519:
 798:Drivers/MPU6050/inv_mpu.c ****     rev = ((data[5] & 0x01) << 2) | ((data[3] & 0x01) << 1) |
 6396              		.loc 1 798 16 view .LVU1916
 6397 01de 4FF0FF34 		mov	r4, #-1
 6398 01e2 97E7     		b	.L502
 6399              	.L534:
 6400              		.align	2
 6401              	.L533:
 6402 01e4 00000000 		.word	.LANCHOR0
 6403 01e8 00000000 		.word	.LC0
 6404 01ec 04000000 		.word	.LC1
 6405 01f0 08000000 		.word	.LC2
 6406 01f4 30000000 		.word	.LC3
 6407 01f8 34000000 		.word	.LC4
 6408 01fc 80000000 		.word	.LC5
 6409 0200 A0000000 		.word	.LC6
 6410 0204 A4000000 		.word	.LC7
 6411 0208 A8000000 		.word	.LC8
 6412 020c AC000000 		.word	.LC9
 6413 0210 B0000000 		.word	.LC10
 6414 0214 B4000000 		.word	.LC11
 6415              		.cfi_endproc
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 180


 6416              	.LFE564:
 6418              		.section	.text.mpu_write_mem,"ax",%progbits
 6419              		.align	1
 6420              		.global	mpu_write_mem
 6421              		.syntax unified
 6422              		.thumb
 6423              		.thumb_func
 6425              	mpu_write_mem:
 6426              	.LVL423:
 6427              	.LFB599:
2209:Drivers/MPU6050/inv_mpu.c **** 
2210:Drivers/MPU6050/inv_mpu.c **** /**
2211:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Trigger gyro/accel/compass self-test.
2212:Drivers/MPU6050/inv_mpu.c ****  *  On success/error, the self-test returns a mask representing the sensor(s)
2213:Drivers/MPU6050/inv_mpu.c ****  *  that failed. For each bit, a one (1) represents a "pass" case; conversely,
2214:Drivers/MPU6050/inv_mpu.c ****  *  a zero (0) indicates a failure.
2215:Drivers/MPU6050/inv_mpu.c ****  *
2216:Drivers/MPU6050/inv_mpu.c ****  *  \n The mask is defined as follows:
2217:Drivers/MPU6050/inv_mpu.c ****  *  \n Bit 0:   Gyro.
2218:Drivers/MPU6050/inv_mpu.c ****  *  \n Bit 1:   Accel.
2219:Drivers/MPU6050/inv_mpu.c ****  *  \n Bit 2:   Compass.
2220:Drivers/MPU6050/inv_mpu.c ****  *
2221:Drivers/MPU6050/inv_mpu.c ****  *  \n Currently, the hardware self-test is unsupported for MPU6500. However,
2222:Drivers/MPU6050/inv_mpu.c ****  *  this function can still be used to obtain the accel and gyro biases.
2223:Drivers/MPU6050/inv_mpu.c ****  *
2224:Drivers/MPU6050/inv_mpu.c ****  *  \n This function must be called with the device either face-up or face-down
2225:Drivers/MPU6050/inv_mpu.c ****  *  (z-axis is parallel to gravity).
2226:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] gyro        Gyro biases in q16 format.
2227:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] accel       Accel biases (if applicable) in q16 format.
2228:Drivers/MPU6050/inv_mpu.c ****  *  @return     Result mask (see above).
2229:Drivers/MPU6050/inv_mpu.c ****  */
2230:Drivers/MPU6050/inv_mpu.c **** int mpu_run_self_test(long *gyro, long *accel)
2231:Drivers/MPU6050/inv_mpu.c **** {
2232:Drivers/MPU6050/inv_mpu.c **** #ifdef MPU6050
2233:Drivers/MPU6050/inv_mpu.c ****     const unsigned char tries = 2;
2234:Drivers/MPU6050/inv_mpu.c ****     long gyro_st[3], accel_st[3];
2235:Drivers/MPU6050/inv_mpu.c ****     unsigned char accel_result, gyro_result;
2236:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
2237:Drivers/MPU6050/inv_mpu.c ****     unsigned char compass_result;
2238:Drivers/MPU6050/inv_mpu.c **** #endif
2239:Drivers/MPU6050/inv_mpu.c ****     int ii;
2240:Drivers/MPU6050/inv_mpu.c **** #endif
2241:Drivers/MPU6050/inv_mpu.c ****     int result;
2242:Drivers/MPU6050/inv_mpu.c ****     unsigned char accel_fsr, fifo_sensors, sensors_on;
2243:Drivers/MPU6050/inv_mpu.c ****     unsigned short gyro_fsr, sample_rate, lpf;
2244:Drivers/MPU6050/inv_mpu.c ****     unsigned char dmp_was_on;
2245:Drivers/MPU6050/inv_mpu.c **** 
2246:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.dmp_on) {
2247:Drivers/MPU6050/inv_mpu.c ****         mpu_set_dmp_state(0);
2248:Drivers/MPU6050/inv_mpu.c ****         dmp_was_on = 1;
2249:Drivers/MPU6050/inv_mpu.c ****     } else
2250:Drivers/MPU6050/inv_mpu.c ****         dmp_was_on = 0;
2251:Drivers/MPU6050/inv_mpu.c **** 
2252:Drivers/MPU6050/inv_mpu.c ****     /* Get initial settings. */
2253:Drivers/MPU6050/inv_mpu.c ****     mpu_get_gyro_fsr(&gyro_fsr);
2254:Drivers/MPU6050/inv_mpu.c ****     mpu_get_accel_fsr(&accel_fsr);
2255:Drivers/MPU6050/inv_mpu.c ****     mpu_get_lpf(&lpf);
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 181


2256:Drivers/MPU6050/inv_mpu.c ****     mpu_get_sample_rate(&sample_rate);
2257:Drivers/MPU6050/inv_mpu.c ****     sensors_on = st.chip_cfg.sensors;
2258:Drivers/MPU6050/inv_mpu.c ****     mpu_get_fifo_config(&fifo_sensors);
2259:Drivers/MPU6050/inv_mpu.c **** 
2260:Drivers/MPU6050/inv_mpu.c ****     /* For older chips, the self-test will be different. */
2261:Drivers/MPU6050/inv_mpu.c **** #if defined MPU6050
2262:Drivers/MPU6050/inv_mpu.c ****     for (ii = 0; ii < tries; ii++)
2263:Drivers/MPU6050/inv_mpu.c ****         if (!get_st_biases(gyro, accel, 0))
2264:Drivers/MPU6050/inv_mpu.c ****             break;
2265:Drivers/MPU6050/inv_mpu.c ****     if (ii == tries) {
2266:Drivers/MPU6050/inv_mpu.c ****         /* If we reach this point, we most likely encountered an I2C error.
2267:Drivers/MPU6050/inv_mpu.c ****          * We'll just report an error for all three sensors.
2268:Drivers/MPU6050/inv_mpu.c ****          */
2269:Drivers/MPU6050/inv_mpu.c ****         result = 0;
2270:Drivers/MPU6050/inv_mpu.c ****         goto restore;
2271:Drivers/MPU6050/inv_mpu.c ****     }
2272:Drivers/MPU6050/inv_mpu.c ****     for (ii = 0; ii < tries; ii++)
2273:Drivers/MPU6050/inv_mpu.c ****         if (!get_st_biases(gyro_st, accel_st, 1))
2274:Drivers/MPU6050/inv_mpu.c ****             break;
2275:Drivers/MPU6050/inv_mpu.c ****     if (ii == tries) {
2276:Drivers/MPU6050/inv_mpu.c ****         /* Again, probably an I2C error. */
2277:Drivers/MPU6050/inv_mpu.c ****         result = 0;
2278:Drivers/MPU6050/inv_mpu.c ****         goto restore;
2279:Drivers/MPU6050/inv_mpu.c ****     }
2280:Drivers/MPU6050/inv_mpu.c ****     accel_result = accel_self_test(accel, accel_st);
2281:Drivers/MPU6050/inv_mpu.c ****     gyro_result = gyro_self_test(gyro, gyro_st);
2282:Drivers/MPU6050/inv_mpu.c **** 
2283:Drivers/MPU6050/inv_mpu.c ****     result = 0;
2284:Drivers/MPU6050/inv_mpu.c ****     if (!gyro_result)
2285:Drivers/MPU6050/inv_mpu.c ****         result |= 0x01;
2286:Drivers/MPU6050/inv_mpu.c ****     if (!accel_result)
2287:Drivers/MPU6050/inv_mpu.c ****         result |= 0x02;
2288:Drivers/MPU6050/inv_mpu.c **** 
2289:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
2290:Drivers/MPU6050/inv_mpu.c ****     compass_result = compass_self_test();
2291:Drivers/MPU6050/inv_mpu.c ****     if (!compass_result)
2292:Drivers/MPU6050/inv_mpu.c ****         result |= 0x04;
2293:Drivers/MPU6050/inv_mpu.c **** #else
2294:Drivers/MPU6050/inv_mpu.c ****         result |= 0x04;
2295:Drivers/MPU6050/inv_mpu.c **** #endif
2296:Drivers/MPU6050/inv_mpu.c **** restore:
2297:Drivers/MPU6050/inv_mpu.c **** #elif defined MPU6500
2298:Drivers/MPU6050/inv_mpu.c ****     /* For now, this function will return a "pass" result for all three sensors
2299:Drivers/MPU6050/inv_mpu.c ****      * for compatibility with current test applications.
2300:Drivers/MPU6050/inv_mpu.c ****      */
2301:Drivers/MPU6050/inv_mpu.c ****     get_st_biases(gyro, accel, 0);
2302:Drivers/MPU6050/inv_mpu.c ****     result = 0x3;
2303:Drivers/MPU6050/inv_mpu.c **** #endif
2304:Drivers/MPU6050/inv_mpu.c ****     /* Set to invalid values to ensure no I2C writes are skipped. */
2305:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.gyro_fsr = 0xFF;
2306:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.accel_fsr = 0xFF;
2307:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lpf = 0xFF;
2308:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.sample_rate = 0xFFFF;
2309:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.sensors = 0xFF;
2310:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.fifo_enable = 0xFF;
2311:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.clk_src = INV_CLK_PLL;
2312:Drivers/MPU6050/inv_mpu.c ****     mpu_set_gyro_fsr(gyro_fsr);
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 182


2313:Drivers/MPU6050/inv_mpu.c ****     mpu_set_accel_fsr(accel_fsr);
2314:Drivers/MPU6050/inv_mpu.c ****     mpu_set_lpf(lpf);
2315:Drivers/MPU6050/inv_mpu.c ****     mpu_set_sample_rate(sample_rate);
2316:Drivers/MPU6050/inv_mpu.c ****     mpu_set_sensors(sensors_on);
2317:Drivers/MPU6050/inv_mpu.c ****     mpu_configure_fifo(fifo_sensors);
2318:Drivers/MPU6050/inv_mpu.c **** 
2319:Drivers/MPU6050/inv_mpu.c ****     if (dmp_was_on)
2320:Drivers/MPU6050/inv_mpu.c ****         mpu_set_dmp_state(1);
2321:Drivers/MPU6050/inv_mpu.c **** 
2322:Drivers/MPU6050/inv_mpu.c ****     return result;
2323:Drivers/MPU6050/inv_mpu.c **** }
2324:Drivers/MPU6050/inv_mpu.c **** 
2325:Drivers/MPU6050/inv_mpu.c **** /**
2326:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Write to the DMP memory.
2327:Drivers/MPU6050/inv_mpu.c ****  *  This function prevents I2C writes past the bank boundaries. The DMP memory
2328:Drivers/MPU6050/inv_mpu.c ****  *  is only accessible when the chip is awake.
2329:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  mem_addr    Memory location (bank << 8 | start address)
2330:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  length      Number of bytes to write.
2331:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  data        Bytes to write to memory.
2332:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
2333:Drivers/MPU6050/inv_mpu.c ****  */
2334:Drivers/MPU6050/inv_mpu.c **** int mpu_write_mem(unsigned short mem_addr, unsigned short length,
2335:Drivers/MPU6050/inv_mpu.c ****         unsigned char *data)
2336:Drivers/MPU6050/inv_mpu.c **** {
 6428              		.loc 1 2336 1 is_stmt 1 view -0
 6429              		.cfi_startproc
 6430              		@ args = 0, pretend = 0, frame = 8
 6431              		@ frame_needed = 0, uses_anonymous_args = 0
2337:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
 6432              		.loc 1 2337 5 view .LVU1918
2338:Drivers/MPU6050/inv_mpu.c **** 
2339:Drivers/MPU6050/inv_mpu.c ****     if (!data)
 6433              		.loc 1 2339 5 view .LVU1919
 6434              		.loc 1 2339 8 is_stmt 0 view .LVU1920
 6435 0000 3AB3     		cbz	r2, .L537
2336:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
 6436              		.loc 1 2336 1 view .LVU1921
 6437 0002 70B5     		push	{r4, r5, r6, lr}
 6438              	.LCFI122:
 6439              		.cfi_def_cfa_offset 16
 6440              		.cfi_offset 4, -16
 6441              		.cfi_offset 5, -12
 6442              		.cfi_offset 6, -8
 6443              		.cfi_offset 14, -4
 6444 0004 82B0     		sub	sp, sp, #8
 6445              	.LCFI123:
 6446              		.cfi_def_cfa_offset 24
 6447 0006 0C46     		mov	r4, r1
 6448 0008 1646     		mov	r6, r2
2340:Drivers/MPU6050/inv_mpu.c ****         return -1;
2341:Drivers/MPU6050/inv_mpu.c ****     if (!st.chip_cfg.sensors)
 6449              		.loc 1 2341 5 is_stmt 1 view .LVU1922
 6450              		.loc 1 2341 21 is_stmt 0 view .LVU1923
 6451 000a 194B     		ldr	r3, .L546
 6452 000c 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 6453              		.loc 1 2341 8 view .LVU1924
 6454 000e 1BB3     		cbz	r3, .L538
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 183


2342:Drivers/MPU6050/inv_mpu.c ****         return -1;
2343:Drivers/MPU6050/inv_mpu.c **** 
2344:Drivers/MPU6050/inv_mpu.c ****     tmp[0] = (unsigned char)(mem_addr >> 8);
 6455              		.loc 1 2344 5 is_stmt 1 view .LVU1925
 6456              		.loc 1 2344 14 is_stmt 0 view .LVU1926
 6457 0010 030A     		lsrs	r3, r0, #8
 6458              		.loc 1 2344 12 view .LVU1927
 6459 0012 8DF80430 		strb	r3, [sp, #4]
2345:Drivers/MPU6050/inv_mpu.c ****     tmp[1] = (unsigned char)(mem_addr & 0xFF);
 6460              		.loc 1 2345 5 is_stmt 1 view .LVU1928
 6461              		.loc 1 2345 14 is_stmt 0 view .LVU1929
 6462 0016 C0B2     		uxtb	r0, r0
 6463              	.LVL424:
 6464              		.loc 1 2345 12 view .LVU1930
 6465 0018 8DF80500 		strb	r0, [sp, #5]
2346:Drivers/MPU6050/inv_mpu.c **** 
2347:Drivers/MPU6050/inv_mpu.c ****     /* Check bank boundaries. */
2348:Drivers/MPU6050/inv_mpu.c ****     if (tmp[1] + length > st.hw->bank_size)
 6466              		.loc 1 2348 5 is_stmt 1 view .LVU1931
 6467              		.loc 1 2348 16 is_stmt 0 view .LVU1932
 6468 001c 0844     		add	r0, r0, r1
 6469              		.loc 1 2348 29 view .LVU1933
 6470 001e 144B     		ldr	r3, .L546
 6471 0020 5D68     		ldr	r5, [r3, #4]
 6472              		.loc 1 2348 32 view .LVU1934
 6473 0022 6B89     		ldrh	r3, [r5, #10]
 6474              		.loc 1 2348 8 view .LVU1935
 6475 0024 9842     		cmp	r0, r3
 6476 0026 1ADC     		bgt	.L539
2349:Drivers/MPU6050/inv_mpu.c ****         return -1;
2350:Drivers/MPU6050/inv_mpu.c **** 
2351:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->bank_sel, 2, tmp))
 6477              		.loc 1 2351 5 is_stmt 1 view .LVU1936
 6478              		.loc 1 2351 34 is_stmt 0 view .LVU1937
 6479 0028 114B     		ldr	r3, .L546
 6480 002a 1968     		ldr	r1, [r3]
 6481              	.LVL425:
 6482              		.loc 1 2351 9 view .LVU1938
 6483 002c 01AB     		add	r3, sp, #4
 6484 002e 0222     		movs	r2, #2
 6485              	.LVL426:
 6486              		.loc 1 2351 9 view .LVU1939
 6487 0030 097E     		ldrb	r1, [r1, #24]	@ zero_extendqisi2
 6488 0032 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 6489 0034 FFF7FEFF 		bl	i2cwrite
 6490              	.LVL427:
 6491              		.loc 1 2351 8 view .LVU1940
 6492 0038 A0B9     		cbnz	r0, .L540
2352:Drivers/MPU6050/inv_mpu.c ****         return -1;
2353:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->mem_r_w, length, data))
 6493              		.loc 1 2353 5 is_stmt 1 view .LVU1941
 6494              		.loc 1 2353 21 is_stmt 0 view .LVU1942
 6495 003a 0D4B     		ldr	r3, .L546
 6496 003c 5868     		ldr	r0, [r3, #4]
 6497              		.loc 1 2353 34 view .LVU1943
 6498 003e 1968     		ldr	r1, [r3]
 6499              		.loc 1 2353 9 view .LVU1944
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 184


 6500 0040 3346     		mov	r3, r6
 6501 0042 E2B2     		uxtb	r2, r4
 6502 0044 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 6503 0046 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6504 0048 FFF7FEFF 		bl	i2cwrite
 6505              	.LVL428:
 6506              		.loc 1 2353 8 view .LVU1945
 6507 004c 68B9     		cbnz	r0, .L541
 6508              	.L535:
2354:Drivers/MPU6050/inv_mpu.c ****         return -1;
2355:Drivers/MPU6050/inv_mpu.c ****     return 0;
2356:Drivers/MPU6050/inv_mpu.c **** }
 6509              		.loc 1 2356 1 view .LVU1946
 6510 004e 02B0     		add	sp, sp, #8
 6511              	.LCFI124:
 6512              		.cfi_def_cfa_offset 16
 6513              		@ sp needed
 6514 0050 70BD     		pop	{r4, r5, r6, pc}
 6515              	.LVL429:
 6516              	.L537:
 6517              	.LCFI125:
 6518              		.cfi_def_cfa_offset 0
 6519              		.cfi_restore 4
 6520              		.cfi_restore 5
 6521              		.cfi_restore 6
 6522              		.cfi_restore 14
2340:Drivers/MPU6050/inv_mpu.c ****     if (!st.chip_cfg.sensors)
 6523              		.loc 1 2340 16 view .LVU1947
 6524 0052 4FF0FF30 		mov	r0, #-1
 6525              	.LVL430:
 6526              		.loc 1 2356 1 view .LVU1948
 6527 0056 7047     		bx	lr
 6528              	.LVL431:
 6529              	.L538:
 6530              	.LCFI126:
 6531              		.cfi_def_cfa_offset 24
 6532              		.cfi_offset 4, -16
 6533              		.cfi_offset 5, -12
 6534              		.cfi_offset 6, -8
 6535              		.cfi_offset 14, -4
2342:Drivers/MPU6050/inv_mpu.c **** 
 6536              		.loc 1 2342 16 view .LVU1949
 6537 0058 4FF0FF30 		mov	r0, #-1
 6538              	.LVL432:
2342:Drivers/MPU6050/inv_mpu.c **** 
 6539              		.loc 1 2342 16 view .LVU1950
 6540 005c F7E7     		b	.L535
 6541              	.L539:
2349:Drivers/MPU6050/inv_mpu.c **** 
 6542              		.loc 1 2349 16 view .LVU1951
 6543 005e 4FF0FF30 		mov	r0, #-1
 6544 0062 F4E7     		b	.L535
 6545              	.LVL433:
 6546              	.L540:
2352:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->mem_r_w, length, data))
 6547              		.loc 1 2352 16 view .LVU1952
 6548 0064 4FF0FF30 		mov	r0, #-1
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 185


 6549 0068 F1E7     		b	.L535
 6550              	.L541:
2354:Drivers/MPU6050/inv_mpu.c ****     return 0;
 6551              		.loc 1 2354 16 view .LVU1953
 6552 006a 4FF0FF30 		mov	r0, #-1
 6553 006e EEE7     		b	.L535
 6554              	.L547:
 6555              		.align	2
 6556              	.L546:
 6557 0070 00000000 		.word	.LANCHOR0
 6558              		.cfi_endproc
 6559              	.LFE599:
 6561              		.section	.text.mpu_read_mem,"ax",%progbits
 6562              		.align	1
 6563              		.global	mpu_read_mem
 6564              		.syntax unified
 6565              		.thumb
 6566              		.thumb_func
 6568              	mpu_read_mem:
 6569              	.LVL434:
 6570              	.LFB600:
2357:Drivers/MPU6050/inv_mpu.c **** 
2358:Drivers/MPU6050/inv_mpu.c **** /**
2359:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Read from the DMP memory.
2360:Drivers/MPU6050/inv_mpu.c ****  *  This function prevents I2C reads past the bank boundaries. The DMP memory
2361:Drivers/MPU6050/inv_mpu.c ****  *  is only accessible when the chip is awake.
2362:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  mem_addr    Memory location (bank << 8 | start address)
2363:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  length      Number of bytes to read.
2364:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] data        Bytes read from memory.
2365:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
2366:Drivers/MPU6050/inv_mpu.c ****  */
2367:Drivers/MPU6050/inv_mpu.c **** int mpu_read_mem(unsigned short mem_addr, unsigned short length,
2368:Drivers/MPU6050/inv_mpu.c ****         unsigned char *data)
2369:Drivers/MPU6050/inv_mpu.c **** {
 6571              		.loc 1 2369 1 is_stmt 1 view -0
 6572              		.cfi_startproc
 6573              		@ args = 0, pretend = 0, frame = 8
 6574              		@ frame_needed = 0, uses_anonymous_args = 0
2370:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
 6575              		.loc 1 2370 5 view .LVU1955
2371:Drivers/MPU6050/inv_mpu.c **** 
2372:Drivers/MPU6050/inv_mpu.c ****     if (!data)
 6576              		.loc 1 2372 5 view .LVU1956
 6577              		.loc 1 2372 8 is_stmt 0 view .LVU1957
 6578 0000 3AB3     		cbz	r2, .L550
2369:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[2];
 6579              		.loc 1 2369 1 view .LVU1958
 6580 0002 70B5     		push	{r4, r5, r6, lr}
 6581              	.LCFI127:
 6582              		.cfi_def_cfa_offset 16
 6583              		.cfi_offset 4, -16
 6584              		.cfi_offset 5, -12
 6585              		.cfi_offset 6, -8
 6586              		.cfi_offset 14, -4
 6587 0004 82B0     		sub	sp, sp, #8
 6588              	.LCFI128:
 6589              		.cfi_def_cfa_offset 24
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 186


 6590 0006 0C46     		mov	r4, r1
 6591 0008 1646     		mov	r6, r2
2373:Drivers/MPU6050/inv_mpu.c ****         return -1;
2374:Drivers/MPU6050/inv_mpu.c ****     if (!st.chip_cfg.sensors)
 6592              		.loc 1 2374 5 is_stmt 1 view .LVU1959
 6593              		.loc 1 2374 21 is_stmt 0 view .LVU1960
 6594 000a 194B     		ldr	r3, .L559
 6595 000c 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 6596              		.loc 1 2374 8 view .LVU1961
 6597 000e 1BB3     		cbz	r3, .L551
2375:Drivers/MPU6050/inv_mpu.c ****         return -1;
2376:Drivers/MPU6050/inv_mpu.c **** 
2377:Drivers/MPU6050/inv_mpu.c ****     tmp[0] = (unsigned char)(mem_addr >> 8);
 6598              		.loc 1 2377 5 is_stmt 1 view .LVU1962
 6599              		.loc 1 2377 14 is_stmt 0 view .LVU1963
 6600 0010 030A     		lsrs	r3, r0, #8
 6601              		.loc 1 2377 12 view .LVU1964
 6602 0012 8DF80430 		strb	r3, [sp, #4]
2378:Drivers/MPU6050/inv_mpu.c ****     tmp[1] = (unsigned char)(mem_addr & 0xFF);
 6603              		.loc 1 2378 5 is_stmt 1 view .LVU1965
 6604              		.loc 1 2378 14 is_stmt 0 view .LVU1966
 6605 0016 C0B2     		uxtb	r0, r0
 6606              	.LVL435:
 6607              		.loc 1 2378 12 view .LVU1967
 6608 0018 8DF80500 		strb	r0, [sp, #5]
2379:Drivers/MPU6050/inv_mpu.c **** 
2380:Drivers/MPU6050/inv_mpu.c ****     /* Check bank boundaries. */
2381:Drivers/MPU6050/inv_mpu.c ****     if (tmp[1] + length > st.hw->bank_size)
 6609              		.loc 1 2381 5 is_stmt 1 view .LVU1968
 6610              		.loc 1 2381 16 is_stmt 0 view .LVU1969
 6611 001c 0844     		add	r0, r0, r1
 6612              		.loc 1 2381 29 view .LVU1970
 6613 001e 144B     		ldr	r3, .L559
 6614 0020 5D68     		ldr	r5, [r3, #4]
 6615              		.loc 1 2381 32 view .LVU1971
 6616 0022 6B89     		ldrh	r3, [r5, #10]
 6617              		.loc 1 2381 8 view .LVU1972
 6618 0024 9842     		cmp	r0, r3
 6619 0026 1ADC     		bgt	.L552
2382:Drivers/MPU6050/inv_mpu.c ****         return -1;
2383:Drivers/MPU6050/inv_mpu.c **** 
2384:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->bank_sel, 2, tmp))
 6620              		.loc 1 2384 5 is_stmt 1 view .LVU1973
 6621              		.loc 1 2384 34 is_stmt 0 view .LVU1974
 6622 0028 114B     		ldr	r3, .L559
 6623 002a 1968     		ldr	r1, [r3]
 6624              	.LVL436:
 6625              		.loc 1 2384 9 view .LVU1975
 6626 002c 01AB     		add	r3, sp, #4
 6627 002e 0222     		movs	r2, #2
 6628              	.LVL437:
 6629              		.loc 1 2384 9 view .LVU1976
 6630 0030 097E     		ldrb	r1, [r1, #24]	@ zero_extendqisi2
 6631 0032 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 6632 0034 FFF7FEFF 		bl	i2cwrite
 6633              	.LVL438:
 6634              		.loc 1 2384 8 view .LVU1977
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 187


 6635 0038 A0B9     		cbnz	r0, .L553
2385:Drivers/MPU6050/inv_mpu.c ****         return -1;
2386:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->mem_r_w, length, data))
 6636              		.loc 1 2386 5 is_stmt 1 view .LVU1978
 6637              		.loc 1 2386 20 is_stmt 0 view .LVU1979
 6638 003a 0D4B     		ldr	r3, .L559
 6639 003c 5868     		ldr	r0, [r3, #4]
 6640              		.loc 1 2386 33 view .LVU1980
 6641 003e 1968     		ldr	r1, [r3]
 6642              		.loc 1 2386 9 view .LVU1981
 6643 0040 3346     		mov	r3, r6
 6644 0042 E2B2     		uxtb	r2, r4
 6645 0044 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 6646 0046 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6647 0048 FFF7FEFF 		bl	i2cread
 6648              	.LVL439:
 6649              		.loc 1 2386 8 view .LVU1982
 6650 004c 68B9     		cbnz	r0, .L554
 6651              	.L548:
2387:Drivers/MPU6050/inv_mpu.c ****         return -1;
2388:Drivers/MPU6050/inv_mpu.c ****     return 0;
2389:Drivers/MPU6050/inv_mpu.c **** }
 6652              		.loc 1 2389 1 view .LVU1983
 6653 004e 02B0     		add	sp, sp, #8
 6654              	.LCFI129:
 6655              		.cfi_def_cfa_offset 16
 6656              		@ sp needed
 6657 0050 70BD     		pop	{r4, r5, r6, pc}
 6658              	.LVL440:
 6659              	.L550:
 6660              	.LCFI130:
 6661              		.cfi_def_cfa_offset 0
 6662              		.cfi_restore 4
 6663              		.cfi_restore 5
 6664              		.cfi_restore 6
 6665              		.cfi_restore 14
2373:Drivers/MPU6050/inv_mpu.c ****     if (!st.chip_cfg.sensors)
 6666              		.loc 1 2373 16 view .LVU1984
 6667 0052 4FF0FF30 		mov	r0, #-1
 6668              	.LVL441:
 6669              		.loc 1 2389 1 view .LVU1985
 6670 0056 7047     		bx	lr
 6671              	.LVL442:
 6672              	.L551:
 6673              	.LCFI131:
 6674              		.cfi_def_cfa_offset 24
 6675              		.cfi_offset 4, -16
 6676              		.cfi_offset 5, -12
 6677              		.cfi_offset 6, -8
 6678              		.cfi_offset 14, -4
2375:Drivers/MPU6050/inv_mpu.c **** 
 6679              		.loc 1 2375 16 view .LVU1986
 6680 0058 4FF0FF30 		mov	r0, #-1
 6681              	.LVL443:
2375:Drivers/MPU6050/inv_mpu.c **** 
 6682              		.loc 1 2375 16 view .LVU1987
 6683 005c F7E7     		b	.L548
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 188


 6684              	.L552:
2382:Drivers/MPU6050/inv_mpu.c **** 
 6685              		.loc 1 2382 16 view .LVU1988
 6686 005e 4FF0FF30 		mov	r0, #-1
 6687 0062 F4E7     		b	.L548
 6688              	.LVL444:
 6689              	.L553:
2385:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->mem_r_w, length, data))
 6690              		.loc 1 2385 16 view .LVU1989
 6691 0064 4FF0FF30 		mov	r0, #-1
 6692 0068 F1E7     		b	.L548
 6693              	.L554:
2387:Drivers/MPU6050/inv_mpu.c ****     return 0;
 6694              		.loc 1 2387 16 view .LVU1990
 6695 006a 4FF0FF30 		mov	r0, #-1
 6696 006e EEE7     		b	.L548
 6697              	.L560:
 6698              		.align	2
 6699              	.L559:
 6700 0070 00000000 		.word	.LANCHOR0
 6701              		.cfi_endproc
 6702              	.LFE600:
 6704              		.section	.text.mpu_load_firmware,"ax",%progbits
 6705              		.align	1
 6706              		.global	mpu_load_firmware
 6707              		.syntax unified
 6708              		.thumb
 6709              		.thumb_func
 6711              	mpu_load_firmware:
 6712              	.LVL445:
 6713              	.LFB601:
2390:Drivers/MPU6050/inv_mpu.c **** 
2391:Drivers/MPU6050/inv_mpu.c **** /**
2392:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Load and verify DMP image.
2393:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  length      Length of DMP image.
2394:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  firmware    DMP code.
2395:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  start_addr  Starting address of DMP code memory.
2396:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  sample_rate Fixed sampling rate used when DMP is enabled.
2397:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
2398:Drivers/MPU6050/inv_mpu.c ****  */
2399:Drivers/MPU6050/inv_mpu.c **** int mpu_load_firmware(unsigned short length, const unsigned char *firmware,
2400:Drivers/MPU6050/inv_mpu.c ****     unsigned short start_addr, unsigned short sample_rate)
2401:Drivers/MPU6050/inv_mpu.c **** {
 6714              		.loc 1 2401 1 is_stmt 1 view -0
 6715              		.cfi_startproc
 6716              		@ args = 0, pretend = 0, frame = 24
 6717              		@ frame_needed = 0, uses_anonymous_args = 0
 6718              		.loc 1 2401 1 is_stmt 0 view .LVU1992
 6719 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 6720              	.LCFI132:
 6721              		.cfi_def_cfa_offset 36
 6722              		.cfi_offset 4, -36
 6723              		.cfi_offset 5, -32
 6724              		.cfi_offset 6, -28
 6725              		.cfi_offset 7, -24
 6726              		.cfi_offset 8, -20
 6727              		.cfi_offset 9, -16
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 189


 6728              		.cfi_offset 10, -12
 6729              		.cfi_offset 11, -8
 6730              		.cfi_offset 14, -4
 6731 0004 87B0     		sub	sp, sp, #28
 6732              	.LCFI133:
 6733              		.cfi_def_cfa_offset 64
 6734 0006 9A46     		mov	r10, r3
2402:Drivers/MPU6050/inv_mpu.c ****     unsigned short ii;
 6735              		.loc 1 2402 5 is_stmt 1 view .LVU1993
2403:Drivers/MPU6050/inv_mpu.c ****     unsigned short this_write;
 6736              		.loc 1 2403 5 view .LVU1994
2404:Drivers/MPU6050/inv_mpu.c ****     /* Must divide evenly into st.hw->bank_size to avoid bank crossings. */
2405:Drivers/MPU6050/inv_mpu.c **** #define LOAD_CHUNK  (16)
2406:Drivers/MPU6050/inv_mpu.c ****     unsigned char cur[LOAD_CHUNK], tmp[2];
 6737              		.loc 1 2406 5 view .LVU1995
2407:Drivers/MPU6050/inv_mpu.c **** 
2408:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.dmp_loaded)
 6738              		.loc 1 2408 5 view .LVU1996
 6739              		.loc 1 2408 20 is_stmt 0 view .LVU1997
 6740 0008 294B     		ldr	r3, .L573
 6741              	.LVL446:
 6742              		.loc 1 2408 20 view .LVU1998
 6743 000a 93F82530 		ldrb	r3, [r3, #37]	@ zero_extendqisi2
 6744              		.loc 1 2408 8 view .LVU1999
 6745 000e 002B     		cmp	r3, #0
 6746 0010 3CD1     		bne	.L565
 6747 0012 0746     		mov	r7, r0
 6748 0014 8846     		mov	r8, r1
 6749 0016 9146     		mov	r9, r2
2409:Drivers/MPU6050/inv_mpu.c ****         /* DMP should only be loaded once. */
2410:Drivers/MPU6050/inv_mpu.c ****         return -1;
2411:Drivers/MPU6050/inv_mpu.c **** 
2412:Drivers/MPU6050/inv_mpu.c ****     if (!firmware)
 6750              		.loc 1 2412 5 is_stmt 1 view .LVU2000
 6751              		.loc 1 2412 8 is_stmt 0 view .LVU2001
 6752 0018 0029     		cmp	r1, #0
 6753 001a 3AD0     		beq	.L566
2413:Drivers/MPU6050/inv_mpu.c ****         return -1;
2414:Drivers/MPU6050/inv_mpu.c ****     for (ii = 0; ii < length; ii += this_write) {
 6754              		.loc 1 2414 13 view .LVU2002
 6755 001c 0024     		movs	r4, #0
 6756              	.LVL447:
 6757              	.L563:
 6758              		.loc 1 2414 18 is_stmt 1 discriminator 1 view .LVU2003
 6759              		.loc 1 2414 5 is_stmt 0 discriminator 1 view .LVU2004
 6760 001e BC42     		cmp	r4, r7
 6761 0020 1BD2     		bcs	.L572
2415:Drivers/MPU6050/inv_mpu.c ****         this_write = min(LOAD_CHUNK, length - ii);
 6762              		.loc 1 2415 9 is_stmt 1 view .LVU2005
 6763              		.loc 1 2415 22 is_stmt 0 view .LVU2006
 6764 0022 3E1B     		subs	r6, r7, r4
 6765 0024 102E     		cmp	r6, #16
 6766 0026 A8BF     		it	ge
 6767 0028 1026     		movge	r6, #16
 6768              		.loc 1 2415 20 view .LVU2007
 6769 002a B5B2     		uxth	r5, r6
 6770              	.LVL448:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 190


2416:Drivers/MPU6050/inv_mpu.c ****         if (mpu_write_mem(ii, this_write, (unsigned char*)&firmware[ii]))
 6771              		.loc 1 2416 9 is_stmt 1 view .LVU2008
 6772              		.loc 1 2416 59 is_stmt 0 view .LVU2009
 6773 002c 08EB040B 		add	fp, r8, r4
 6774              		.loc 1 2416 13 view .LVU2010
 6775 0030 5A46     		mov	r2, fp
 6776 0032 2946     		mov	r1, r5
 6777 0034 2046     		mov	r0, r4
 6778 0036 FFF7FEFF 		bl	mpu_write_mem
 6779              	.LVL449:
 6780              		.loc 1 2416 12 view .LVU2011
 6781 003a 68BB     		cbnz	r0, .L567
2417:Drivers/MPU6050/inv_mpu.c ****             return -1;
2418:Drivers/MPU6050/inv_mpu.c ****         if (mpu_read_mem(ii, this_write, cur))
 6782              		.loc 1 2418 9 is_stmt 1 view .LVU2012
 6783              		.loc 1 2418 13 is_stmt 0 view .LVU2013
 6784 003c 02AA     		add	r2, sp, #8
 6785 003e 2946     		mov	r1, r5
 6786 0040 2046     		mov	r0, r4
 6787 0042 FFF7FEFF 		bl	mpu_read_mem
 6788              	.LVL450:
 6789              		.loc 1 2418 12 view .LVU2014
 6790 0046 50BB     		cbnz	r0, .L568
2419:Drivers/MPU6050/inv_mpu.c ****             return -1;
2420:Drivers/MPU6050/inv_mpu.c ****         if (memcmp(firmware+ii, cur, this_write))
 6791              		.loc 1 2420 9 is_stmt 1 view .LVU2015
 6792              		.loc 1 2420 13 is_stmt 0 view .LVU2016
 6793 0048 2A46     		mov	r2, r5
 6794 004a 02A9     		add	r1, sp, #8
 6795 004c 5846     		mov	r0, fp
 6796 004e FFF7FEFF 		bl	memcmp
 6797              	.LVL451:
 6798              		.loc 1 2420 12 view .LVU2017
 6799 0052 38BB     		cbnz	r0, .L569
2414:Drivers/MPU6050/inv_mpu.c ****         this_write = min(LOAD_CHUNK, length - ii);
 6800              		.loc 1 2414 31 is_stmt 1 discriminator 2 view .LVU2018
2414:Drivers/MPU6050/inv_mpu.c ****         this_write = min(LOAD_CHUNK, length - ii);
 6801              		.loc 1 2414 34 is_stmt 0 discriminator 2 view .LVU2019
 6802 0054 2C44     		add	r4, r4, r5
 6803              	.LVL452:
2414:Drivers/MPU6050/inv_mpu.c ****         this_write = min(LOAD_CHUNK, length - ii);
 6804              		.loc 1 2414 34 discriminator 2 view .LVU2020
 6805 0056 A4B2     		uxth	r4, r4
 6806              	.LVL453:
2414:Drivers/MPU6050/inv_mpu.c ****         this_write = min(LOAD_CHUNK, length - ii);
 6807              		.loc 1 2414 34 discriminator 2 view .LVU2021
 6808 0058 E1E7     		b	.L563
 6809              	.LVL454:
 6810              	.L572:
2421:Drivers/MPU6050/inv_mpu.c ****             return -2;
2422:Drivers/MPU6050/inv_mpu.c ****     }
2423:Drivers/MPU6050/inv_mpu.c **** 
2424:Drivers/MPU6050/inv_mpu.c ****     /* Set program start address. */
2425:Drivers/MPU6050/inv_mpu.c ****     tmp[0] = start_addr >> 8;
 6811              		.loc 1 2425 5 is_stmt 1 view .LVU2022
 6812              		.loc 1 2425 12 is_stmt 0 view .LVU2023
 6813 005a 4FEA1923 		lsr	r3, r9, #8
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 191


 6814 005e 8DF80430 		strb	r3, [sp, #4]
2426:Drivers/MPU6050/inv_mpu.c ****     tmp[1] = start_addr & 0xFF;
 6815              		.loc 1 2426 5 is_stmt 1 view .LVU2024
 6816              		.loc 1 2426 12 is_stmt 0 view .LVU2025
 6817 0062 8DF80590 		strb	r9, [sp, #5]
2427:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->prgm_start_h, 2, tmp))
 6818              		.loc 1 2427 5 is_stmt 1 view .LVU2026
 6819              		.loc 1 2427 21 is_stmt 0 view .LVU2027
 6820 0066 124B     		ldr	r3, .L573
 6821 0068 5868     		ldr	r0, [r3, #4]
 6822              		.loc 1 2427 34 view .LVU2028
 6823 006a 1968     		ldr	r1, [r3]
 6824              		.loc 1 2427 9 view .LVU2029
 6825 006c 01AB     		add	r3, sp, #4
 6826 006e 0222     		movs	r2, #2
 6827 0070 897E     		ldrb	r1, [r1, #26]	@ zero_extendqisi2
 6828 0072 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6829 0074 FFF7FEFF 		bl	i2cwrite
 6830              	.LVL455:
 6831              		.loc 1 2427 8 view .LVU2030
 6832 0078 B8B9     		cbnz	r0, .L570
2428:Drivers/MPU6050/inv_mpu.c ****         return -1;
2429:Drivers/MPU6050/inv_mpu.c **** 
2430:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.dmp_loaded = 1;
 6833              		.loc 1 2430 5 is_stmt 1 view .LVU2031
 6834              		.loc 1 2430 28 is_stmt 0 view .LVU2032
 6835 007a 0D4B     		ldr	r3, .L573
 6836 007c 0122     		movs	r2, #1
 6837 007e 83F82520 		strb	r2, [r3, #37]
2431:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.dmp_sample_rate = sample_rate;
 6838              		.loc 1 2431 5 is_stmt 1 view .LVU2033
 6839              		.loc 1 2431 33 is_stmt 0 view .LVU2034
 6840 0082 A3F826A0 		strh	r10, [r3, #38]	@ movhi
2432:Drivers/MPU6050/inv_mpu.c ****     return 0;
 6841              		.loc 1 2432 5 is_stmt 1 view .LVU2035
 6842              	.LVL456:
 6843              	.L561:
2433:Drivers/MPU6050/inv_mpu.c **** }
 6844              		.loc 1 2433 1 is_stmt 0 view .LVU2036
 6845 0086 07B0     		add	sp, sp, #28
 6846              	.LCFI134:
 6847              		.cfi_remember_state
 6848              		.cfi_def_cfa_offset 36
 6849              		@ sp needed
 6850 0088 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 6851              	.LVL457:
 6852              	.L565:
 6853              	.LCFI135:
 6854              		.cfi_restore_state
2410:Drivers/MPU6050/inv_mpu.c **** 
 6855              		.loc 1 2410 16 view .LVU2037
 6856 008c 4FF0FF30 		mov	r0, #-1
 6857              	.LVL458:
2410:Drivers/MPU6050/inv_mpu.c **** 
 6858              		.loc 1 2410 16 view .LVU2038
 6859 0090 F9E7     		b	.L561
 6860              	.LVL459:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 192


 6861              	.L566:
2413:Drivers/MPU6050/inv_mpu.c ****     for (ii = 0; ii < length; ii += this_write) {
 6862              		.loc 1 2413 16 view .LVU2039
 6863 0092 4FF0FF30 		mov	r0, #-1
 6864              	.LVL460:
2413:Drivers/MPU6050/inv_mpu.c ****     for (ii = 0; ii < length; ii += this_write) {
 6865              		.loc 1 2413 16 view .LVU2040
 6866 0096 F6E7     		b	.L561
 6867              	.LVL461:
 6868              	.L567:
2417:Drivers/MPU6050/inv_mpu.c ****         if (mpu_read_mem(ii, this_write, cur))
 6869              		.loc 1 2417 20 view .LVU2041
 6870 0098 4FF0FF30 		mov	r0, #-1
 6871 009c F3E7     		b	.L561
 6872              	.L568:
2419:Drivers/MPU6050/inv_mpu.c ****         if (memcmp(firmware+ii, cur, this_write))
 6873              		.loc 1 2419 20 view .LVU2042
 6874 009e 4FF0FF30 		mov	r0, #-1
 6875 00a2 F0E7     		b	.L561
 6876              	.L569:
2421:Drivers/MPU6050/inv_mpu.c ****     }
 6877              		.loc 1 2421 20 view .LVU2043
 6878 00a4 6FF00100 		mvn	r0, #1
 6879 00a8 EDE7     		b	.L561
 6880              	.LVL462:
 6881              	.L570:
2428:Drivers/MPU6050/inv_mpu.c **** 
 6882              		.loc 1 2428 16 view .LVU2044
 6883 00aa 4FF0FF30 		mov	r0, #-1
 6884 00ae EAE7     		b	.L561
 6885              	.L574:
 6886              		.align	2
 6887              	.L573:
 6888 00b0 00000000 		.word	.LANCHOR0
 6889              		.cfi_endproc
 6890              	.LFE601:
 6892              		.section	.text.mpu_set_dmp_state,"ax",%progbits
 6893              		.align	1
 6894              		.global	mpu_set_dmp_state
 6895              		.syntax unified
 6896              		.thumb
 6897              		.thumb_func
 6899              	mpu_set_dmp_state:
 6900              	.LVL463:
 6901              	.LFB602:
2434:Drivers/MPU6050/inv_mpu.c **** 
2435:Drivers/MPU6050/inv_mpu.c **** /**
2436:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Enable/disable DMP support.
2437:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  enable  1 to turn on the DMP.
2438:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
2439:Drivers/MPU6050/inv_mpu.c ****  */
2440:Drivers/MPU6050/inv_mpu.c **** int mpu_set_dmp_state(unsigned char enable)
2441:Drivers/MPU6050/inv_mpu.c **** {
 6902              		.loc 1 2441 1 is_stmt 1 view -0
 6903              		.cfi_startproc
 6904              		@ args = 0, pretend = 0, frame = 8
 6905              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 193


2442:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp;
 6906              		.loc 1 2442 5 view .LVU2046
2443:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.dmp_on == enable)
 6907              		.loc 1 2443 5 view .LVU2047
 6908              		.loc 1 2443 20 is_stmt 0 view .LVU2048
 6909 0000 234B     		ldr	r3, .L584
 6910 0002 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
 6911              		.loc 1 2443 8 view .LVU2049
 6912 0006 8342     		cmp	r3, r0
 6913 0008 3CD0     		beq	.L578
2441:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp;
 6914              		.loc 1 2441 1 view .LVU2050
 6915 000a 30B5     		push	{r4, r5, lr}
 6916              	.LCFI136:
 6917              		.cfi_def_cfa_offset 12
 6918              		.cfi_offset 4, -12
 6919              		.cfi_offset 5, -8
 6920              		.cfi_offset 14, -4
 6921 000c 83B0     		sub	sp, sp, #12
 6922              	.LCFI137:
 6923              		.cfi_def_cfa_offset 24
2444:Drivers/MPU6050/inv_mpu.c ****         return 0;
2445:Drivers/MPU6050/inv_mpu.c **** 
2446:Drivers/MPU6050/inv_mpu.c ****     if (enable) {
 6924              		.loc 1 2446 5 is_stmt 1 view .LVU2051
 6925              		.loc 1 2446 8 is_stmt 0 view .LVU2052
 6926 000e 18B3     		cbz	r0, .L577
2447:Drivers/MPU6050/inv_mpu.c ****         if (!st.chip_cfg.dmp_loaded)
 6927              		.loc 1 2447 9 is_stmt 1 view .LVU2053
 6928              		.loc 1 2447 25 is_stmt 0 view .LVU2054
 6929 0010 1F4B     		ldr	r3, .L584
 6930 0012 93F82530 		ldrb	r3, [r3, #37]	@ zero_extendqisi2
 6931              		.loc 1 2447 12 view .LVU2055
 6932 0016 002B     		cmp	r3, #0
 6933 0018 36D0     		beq	.L579
2448:Drivers/MPU6050/inv_mpu.c ****             return -1;
2449:Drivers/MPU6050/inv_mpu.c ****         /* Disable data ready interrupt. */
2450:Drivers/MPU6050/inv_mpu.c ****         set_int_enable(0);
 6934              		.loc 1 2450 9 is_stmt 1 view .LVU2056
 6935 001a 0020     		movs	r0, #0
 6936              	.LVL464:
 6937              		.loc 1 2450 9 is_stmt 0 view .LVU2057
 6938 001c FFF7FEFF 		bl	set_int_enable
 6939              	.LVL465:
2451:Drivers/MPU6050/inv_mpu.c ****         /* Disable bypass mode. */
2452:Drivers/MPU6050/inv_mpu.c ****         mpu_set_bypass(0);
 6940              		.loc 1 2452 9 is_stmt 1 view .LVU2058
 6941 0020 0020     		movs	r0, #0
 6942 0022 FFF7FEFF 		bl	mpu_set_bypass
 6943              	.LVL466:
2453:Drivers/MPU6050/inv_mpu.c ****         /* Keep constant sample rate, FIFO rate controlled by DMP. */
2454:Drivers/MPU6050/inv_mpu.c ****         mpu_set_sample_rate(st.chip_cfg.dmp_sample_rate);
 6944              		.loc 1 2454 9 view .LVU2059
 6945 0026 1A4D     		ldr	r5, .L584
 6946 0028 E88C     		ldrh	r0, [r5, #38]
 6947 002a FFF7FEFF 		bl	mpu_set_sample_rate
 6948              	.LVL467:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 194


2455:Drivers/MPU6050/inv_mpu.c ****         /* Remove FIFO elements. */
2456:Drivers/MPU6050/inv_mpu.c ****         tmp = 0;
 6949              		.loc 1 2456 9 view .LVU2060
 6950              		.loc 1 2456 13 is_stmt 0 view .LVU2061
 6951 002e 0024     		movs	r4, #0
 6952 0030 8DF80740 		strb	r4, [sp, #7]
2457:Drivers/MPU6050/inv_mpu.c ****         i2c_write(st.hw->addr, 0x23, 1, &tmp);
 6953              		.loc 1 2457 9 is_stmt 1 view .LVU2062
 6954              		.loc 1 2457 21 is_stmt 0 view .LVU2063
 6955 0034 6868     		ldr	r0, [r5, #4]
 6956              		.loc 1 2457 9 view .LVU2064
 6957 0036 0DF10703 		add	r3, sp, #7
 6958 003a 0122     		movs	r2, #1
 6959 003c 2321     		movs	r1, #35
 6960 003e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6961 0040 FFF7FEFF 		bl	i2cwrite
 6962              	.LVL468:
2458:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.dmp_on = 1;
 6963              		.loc 1 2458 9 is_stmt 1 view .LVU2065
 6964              		.loc 1 2458 28 is_stmt 0 view .LVU2066
 6965 0044 0120     		movs	r0, #1
 6966 0046 85F82400 		strb	r0, [r5, #36]
2459:Drivers/MPU6050/inv_mpu.c ****         /* Enable DMP interrupt. */
2460:Drivers/MPU6050/inv_mpu.c ****         set_int_enable(1);
 6967              		.loc 1 2460 9 is_stmt 1 view .LVU2067
 6968 004a FFF7FEFF 		bl	set_int_enable
 6969              	.LVL469:
2461:Drivers/MPU6050/inv_mpu.c ****         mpu_reset_fifo();
 6970              		.loc 1 2461 9 view .LVU2068
 6971 004e FFF7FEFF 		bl	mpu_reset_fifo
 6972              	.LVL470:
2462:Drivers/MPU6050/inv_mpu.c ****     } else {
2463:Drivers/MPU6050/inv_mpu.c ****         /* Disable DMP interrupt. */
2464:Drivers/MPU6050/inv_mpu.c ****         set_int_enable(0);
2465:Drivers/MPU6050/inv_mpu.c ****         /* Restore FIFO settings. */
2466:Drivers/MPU6050/inv_mpu.c ****         tmp = st.chip_cfg.fifo_enable;
2467:Drivers/MPU6050/inv_mpu.c ****         i2c_write(st.hw->addr, 0x23, 1, &tmp);
2468:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.dmp_on = 0;
2469:Drivers/MPU6050/inv_mpu.c ****         mpu_reset_fifo();
2470:Drivers/MPU6050/inv_mpu.c ****     }
2471:Drivers/MPU6050/inv_mpu.c ****     return 0;
 6973              		.loc 1 2471 12 is_stmt 0 view .LVU2069
 6974 0052 2046     		mov	r0, r4
 6975              	.L575:
2472:Drivers/MPU6050/inv_mpu.c **** }
 6976              		.loc 1 2472 1 view .LVU2070
 6977 0054 03B0     		add	sp, sp, #12
 6978              	.LCFI138:
 6979              		.cfi_remember_state
 6980              		.cfi_def_cfa_offset 12
 6981              		@ sp needed
 6982 0056 30BD     		pop	{r4, r5, pc}
 6983              	.LVL471:
 6984              	.L577:
 6985              	.LCFI139:
 6986              		.cfi_restore_state
2464:Drivers/MPU6050/inv_mpu.c ****         /* Restore FIFO settings. */
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 195


 6987              		.loc 1 2464 9 is_stmt 1 view .LVU2071
 6988 0058 0020     		movs	r0, #0
 6989              	.LVL472:
2464:Drivers/MPU6050/inv_mpu.c ****         /* Restore FIFO settings. */
 6990              		.loc 1 2464 9 is_stmt 0 view .LVU2072
 6991 005a FFF7FEFF 		bl	set_int_enable
 6992              	.LVL473:
2466:Drivers/MPU6050/inv_mpu.c ****         i2c_write(st.hw->addr, 0x23, 1, &tmp);
 6993              		.loc 1 2466 9 is_stmt 1 view .LVU2073
2466:Drivers/MPU6050/inv_mpu.c ****         i2c_write(st.hw->addr, 0x23, 1, &tmp);
 6994              		.loc 1 2466 26 is_stmt 0 view .LVU2074
 6995 005e 0C4D     		ldr	r5, .L584
 6996 0060 2B7C     		ldrb	r3, [r5, #16]	@ zero_extendqisi2
2466:Drivers/MPU6050/inv_mpu.c ****         i2c_write(st.hw->addr, 0x23, 1, &tmp);
 6997              		.loc 1 2466 13 view .LVU2075
 6998 0062 8DF80730 		strb	r3, [sp, #7]
2467:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.dmp_on = 0;
 6999              		.loc 1 2467 9 is_stmt 1 view .LVU2076
2467:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.dmp_on = 0;
 7000              		.loc 1 2467 21 is_stmt 0 view .LVU2077
 7001 0066 6868     		ldr	r0, [r5, #4]
2467:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.dmp_on = 0;
 7002              		.loc 1 2467 9 view .LVU2078
 7003 0068 0DF10703 		add	r3, sp, #7
 7004 006c 0122     		movs	r2, #1
 7005 006e 2321     		movs	r1, #35
 7006 0070 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7007 0072 FFF7FEFF 		bl	i2cwrite
 7008              	.LVL474:
2468:Drivers/MPU6050/inv_mpu.c ****         mpu_reset_fifo();
 7009              		.loc 1 2468 9 is_stmt 1 view .LVU2079
2468:Drivers/MPU6050/inv_mpu.c ****         mpu_reset_fifo();
 7010              		.loc 1 2468 28 is_stmt 0 view .LVU2080
 7011 0076 0024     		movs	r4, #0
 7012 0078 85F82440 		strb	r4, [r5, #36]
2469:Drivers/MPU6050/inv_mpu.c ****     }
 7013              		.loc 1 2469 9 is_stmt 1 view .LVU2081
 7014 007c FFF7FEFF 		bl	mpu_reset_fifo
 7015              	.LVL475:
2471:Drivers/MPU6050/inv_mpu.c **** }
 7016              		.loc 1 2471 12 is_stmt 0 view .LVU2082
 7017 0080 2046     		mov	r0, r4
 7018 0082 E7E7     		b	.L575
 7019              	.LVL476:
 7020              	.L578:
 7021              	.LCFI140:
 7022              		.cfi_def_cfa_offset 0
 7023              		.cfi_restore 4
 7024              		.cfi_restore 5
 7025              		.cfi_restore 14
2444:Drivers/MPU6050/inv_mpu.c **** 
 7026              		.loc 1 2444 16 view .LVU2083
 7027 0084 0020     		movs	r0, #0
 7028              	.LVL477:
 7029              		.loc 1 2472 1 view .LVU2084
 7030 0086 7047     		bx	lr
 7031              	.LVL478:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 196


 7032              	.L579:
 7033              	.LCFI141:
 7034              		.cfi_def_cfa_offset 24
 7035              		.cfi_offset 4, -12
 7036              		.cfi_offset 5, -8
 7037              		.cfi_offset 14, -4
2448:Drivers/MPU6050/inv_mpu.c ****         /* Disable data ready interrupt. */
 7038              		.loc 1 2448 20 view .LVU2085
 7039 0088 4FF0FF30 		mov	r0, #-1
 7040              	.LVL479:
2448:Drivers/MPU6050/inv_mpu.c ****         /* Disable data ready interrupt. */
 7041              		.loc 1 2448 20 view .LVU2086
 7042 008c E2E7     		b	.L575
 7043              	.L585:
 7044 008e 00BF     		.align	2
 7045              	.L584:
 7046 0090 00000000 		.word	.LANCHOR0
 7047              		.cfi_endproc
 7048              	.LFE602:
 7050              		.section	.text.mpu_run_self_test,"ax",%progbits
 7051              		.align	1
 7052              		.global	mpu_run_self_test
 7053              		.syntax unified
 7054              		.thumb
 7055              		.thumb_func
 7057              	mpu_run_self_test:
 7058              	.LVL480:
 7059              	.LFB598:
2231:Drivers/MPU6050/inv_mpu.c **** #ifdef MPU6050
 7060              		.loc 1 2231 1 is_stmt 1 view -0
 7061              		.cfi_startproc
 7062              		@ args = 0, pretend = 0, frame = 32
 7063              		@ frame_needed = 0, uses_anonymous_args = 0
2231:Drivers/MPU6050/inv_mpu.c **** #ifdef MPU6050
 7064              		.loc 1 2231 1 is_stmt 0 view .LVU2088
 7065 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 7066              	.LCFI142:
 7067              		.cfi_def_cfa_offset 24
 7068              		.cfi_offset 4, -24
 7069              		.cfi_offset 5, -20
 7070              		.cfi_offset 6, -16
 7071              		.cfi_offset 7, -12
 7072              		.cfi_offset 8, -8
 7073              		.cfi_offset 14, -4
 7074 0004 88B0     		sub	sp, sp, #32
 7075              	.LCFI143:
 7076              		.cfi_def_cfa_offset 56
 7077 0006 0546     		mov	r5, r0
 7078 0008 0E46     		mov	r6, r1
2233:Drivers/MPU6050/inv_mpu.c ****     long gyro_st[3], accel_st[3];
 7079              		.loc 1 2233 5 is_stmt 1 view .LVU2089
 7080              	.LVL481:
2234:Drivers/MPU6050/inv_mpu.c ****     unsigned char accel_result, gyro_result;
 7081              		.loc 1 2234 5 view .LVU2090
2235:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 7082              		.loc 1 2235 5 view .LVU2091
2239:Drivers/MPU6050/inv_mpu.c **** #endif
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 197


 7083              		.loc 1 2239 5 view .LVU2092
2241:Drivers/MPU6050/inv_mpu.c ****     unsigned char accel_fsr, fifo_sensors, sensors_on;
 7084              		.loc 1 2241 5 view .LVU2093
2242:Drivers/MPU6050/inv_mpu.c ****     unsigned short gyro_fsr, sample_rate, lpf;
 7085              		.loc 1 2242 5 view .LVU2094
2243:Drivers/MPU6050/inv_mpu.c ****     unsigned char dmp_was_on;
 7086              		.loc 1 2243 5 view .LVU2095
2244:Drivers/MPU6050/inv_mpu.c **** 
 7087              		.loc 1 2244 5 view .LVU2096
2246:Drivers/MPU6050/inv_mpu.c ****         mpu_set_dmp_state(0);
 7088              		.loc 1 2246 5 view .LVU2097
2246:Drivers/MPU6050/inv_mpu.c ****         mpu_set_dmp_state(0);
 7089              		.loc 1 2246 20 is_stmt 0 view .LVU2098
 7090 000a 3E4B     		ldr	r3, .L604
 7091 000c 93F82470 		ldrb	r7, [r3, #36]	@ zero_extendqisi2
2246:Drivers/MPU6050/inv_mpu.c ****         mpu_set_dmp_state(0);
 7092              		.loc 1 2246 8 view .LVU2099
 7093 0010 FFB9     		cbnz	r7, .L602
 7094              	.LVL482:
 7095              	.L587:
2253:Drivers/MPU6050/inv_mpu.c ****     mpu_get_accel_fsr(&accel_fsr);
 7096              		.loc 1 2253 5 is_stmt 1 view .LVU2100
 7097 0012 01A8     		add	r0, sp, #4
 7098 0014 FFF7FEFF 		bl	mpu_get_gyro_fsr
 7099              	.LVL483:
2254:Drivers/MPU6050/inv_mpu.c ****     mpu_get_lpf(&lpf);
 7100              		.loc 1 2254 5 view .LVU2101
 7101 0018 0DF10700 		add	r0, sp, #7
 7102 001c FFF7FEFF 		bl	mpu_get_accel_fsr
 7103              	.LVL484:
2255:Drivers/MPU6050/inv_mpu.c ****     mpu_get_sample_rate(&sample_rate);
 7104              		.loc 1 2255 5 view .LVU2102
 7105 0020 6846     		mov	r0, sp
 7106 0022 FFF7FEFF 		bl	mpu_get_lpf
 7107              	.LVL485:
2256:Drivers/MPU6050/inv_mpu.c ****     sensors_on = st.chip_cfg.sensors;
 7108              		.loc 1 2256 5 view .LVU2103
 7109 0026 0DF10200 		add	r0, sp, #2
 7110 002a FFF7FEFF 		bl	mpu_get_sample_rate
 7111              	.LVL486:
2257:Drivers/MPU6050/inv_mpu.c ****     mpu_get_fifo_config(&fifo_sensors);
 7112              		.loc 1 2257 5 view .LVU2104
2257:Drivers/MPU6050/inv_mpu.c ****     mpu_get_fifo_config(&fifo_sensors);
 7113              		.loc 1 2257 16 is_stmt 0 view .LVU2105
 7114 002e 354B     		ldr	r3, .L604
 7115 0030 93F80A80 		ldrb	r8, [r3, #10]	@ zero_extendqisi2
 7116              	.LVL487:
2258:Drivers/MPU6050/inv_mpu.c **** 
 7117              		.loc 1 2258 5 is_stmt 1 view .LVU2106
 7118 0034 0DF10600 		add	r0, sp, #6
 7119 0038 FFF7FEFF 		bl	mpu_get_fifo_config
 7120              	.LVL488:
2262:Drivers/MPU6050/inv_mpu.c ****         if (!get_st_biases(gyro, accel, 0))
 7121              		.loc 1 2262 5 view .LVU2107
2262:Drivers/MPU6050/inv_mpu.c ****         if (!get_st_biases(gyro, accel, 0))
 7122              		.loc 1 2262 13 is_stmt 0 view .LVU2108
 7123 003c 0024     		movs	r4, #0
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 198


 7124              	.LVL489:
 7125              	.L588:
2262:Drivers/MPU6050/inv_mpu.c ****         if (!get_st_biases(gyro, accel, 0))
 7126              		.loc 1 2262 18 is_stmt 1 discriminator 1 view .LVU2109
2262:Drivers/MPU6050/inv_mpu.c ****         if (!get_st_biases(gyro, accel, 0))
 7127              		.loc 1 2262 5 is_stmt 0 discriminator 1 view .LVU2110
 7128 003e 012C     		cmp	r4, #1
 7129 0040 0CDC     		bgt	.L589
2263:Drivers/MPU6050/inv_mpu.c ****             break;
 7130              		.loc 1 2263 9 is_stmt 1 view .LVU2111
2263:Drivers/MPU6050/inv_mpu.c ****             break;
 7131              		.loc 1 2263 14 is_stmt 0 view .LVU2112
 7132 0042 0022     		movs	r2, #0
 7133 0044 3146     		mov	r1, r6
 7134 0046 2846     		mov	r0, r5
 7135 0048 FFF7FEFF 		bl	get_st_biases
 7136              	.LVL490:
2263:Drivers/MPU6050/inv_mpu.c ****             break;
 7137              		.loc 1 2263 12 view .LVU2113
 7138 004c 30B1     		cbz	r0, .L589
2262:Drivers/MPU6050/inv_mpu.c ****         if (!get_st_biases(gyro, accel, 0))
 7139              		.loc 1 2262 30 is_stmt 1 discriminator 2 view .LVU2114
2262:Drivers/MPU6050/inv_mpu.c ****         if (!get_st_biases(gyro, accel, 0))
 7140              		.loc 1 2262 32 is_stmt 0 discriminator 2 view .LVU2115
 7141 004e 0134     		adds	r4, r4, #1
 7142              	.LVL491:
2262:Drivers/MPU6050/inv_mpu.c ****         if (!get_st_biases(gyro, accel, 0))
 7143              		.loc 1 2262 32 discriminator 2 view .LVU2116
 7144 0050 F5E7     		b	.L588
 7145              	.LVL492:
 7146              	.L602:
2247:Drivers/MPU6050/inv_mpu.c ****         dmp_was_on = 1;
 7147              		.loc 1 2247 9 is_stmt 1 view .LVU2117
 7148 0052 0020     		movs	r0, #0
 7149              	.LVL493:
2247:Drivers/MPU6050/inv_mpu.c ****         dmp_was_on = 1;
 7150              		.loc 1 2247 9 is_stmt 0 view .LVU2118
 7151 0054 FFF7FEFF 		bl	mpu_set_dmp_state
 7152              	.LVL494:
2248:Drivers/MPU6050/inv_mpu.c ****     } else
 7153              		.loc 1 2248 9 is_stmt 1 view .LVU2119
2248:Drivers/MPU6050/inv_mpu.c ****     } else
 7154              		.loc 1 2248 20 is_stmt 0 view .LVU2120
 7155 0058 0127     		movs	r7, #1
 7156 005a DAE7     		b	.L587
 7157              	.LVL495:
 7158              	.L589:
2265:Drivers/MPU6050/inv_mpu.c ****         /* If we reach this point, we most likely encountered an I2C error.
 7159              		.loc 1 2265 5 is_stmt 1 view .LVU2121
2265:Drivers/MPU6050/inv_mpu.c ****         /* If we reach this point, we most likely encountered an I2C error.
 7160              		.loc 1 2265 8 is_stmt 0 view .LVU2122
 7161 005c 022C     		cmp	r4, #2
 7162 005e 48D0     		beq	.L598
2272:Drivers/MPU6050/inv_mpu.c ****         if (!get_st_biases(gyro_st, accel_st, 1))
 7163              		.loc 1 2272 13 view .LVU2123
 7164 0060 0024     		movs	r4, #0
 7165              	.LVL496:
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 199


 7166              	.L592:
2272:Drivers/MPU6050/inv_mpu.c ****         if (!get_st_biases(gyro_st, accel_st, 1))
 7167              		.loc 1 2272 18 is_stmt 1 discriminator 1 view .LVU2124
2272:Drivers/MPU6050/inv_mpu.c ****         if (!get_st_biases(gyro_st, accel_st, 1))
 7168              		.loc 1 2272 5 is_stmt 0 discriminator 1 view .LVU2125
 7169 0062 012C     		cmp	r4, #1
 7170 0064 07DC     		bgt	.L593
2273:Drivers/MPU6050/inv_mpu.c ****             break;
 7171              		.loc 1 2273 9 is_stmt 1 view .LVU2126
2273:Drivers/MPU6050/inv_mpu.c ****             break;
 7172              		.loc 1 2273 14 is_stmt 0 view .LVU2127
 7173 0066 0122     		movs	r2, #1
 7174 0068 02A9     		add	r1, sp, #8
 7175 006a 05A8     		add	r0, sp, #20
 7176 006c FFF7FEFF 		bl	get_st_biases
 7177              	.LVL497:
2273:Drivers/MPU6050/inv_mpu.c ****             break;
 7178              		.loc 1 2273 12 view .LVU2128
 7179 0070 08B1     		cbz	r0, .L593
2272:Drivers/MPU6050/inv_mpu.c ****         if (!get_st_biases(gyro_st, accel_st, 1))
 7180              		.loc 1 2272 30 is_stmt 1 discriminator 2 view .LVU2129
2272:Drivers/MPU6050/inv_mpu.c ****         if (!get_st_biases(gyro_st, accel_st, 1))
 7181              		.loc 1 2272 32 is_stmt 0 discriminator 2 view .LVU2130
 7182 0072 0134     		adds	r4, r4, #1
 7183              	.LVL498:
2272:Drivers/MPU6050/inv_mpu.c ****         if (!get_st_biases(gyro_st, accel_st, 1))
 7184              		.loc 1 2272 32 discriminator 2 view .LVU2131
 7185 0074 F5E7     		b	.L592
 7186              	.L593:
2275:Drivers/MPU6050/inv_mpu.c ****         /* Again, probably an I2C error. */
 7187              		.loc 1 2275 5 is_stmt 1 view .LVU2132
2275:Drivers/MPU6050/inv_mpu.c ****         /* Again, probably an I2C error. */
 7188              		.loc 1 2275 8 is_stmt 0 view .LVU2133
 7189 0076 022C     		cmp	r4, #2
 7190 0078 3DD0     		beq	.L599
2280:Drivers/MPU6050/inv_mpu.c ****     gyro_result = gyro_self_test(gyro, gyro_st);
 7191              		.loc 1 2280 5 is_stmt 1 view .LVU2134
2280:Drivers/MPU6050/inv_mpu.c ****     gyro_result = gyro_self_test(gyro, gyro_st);
 7192              		.loc 1 2280 20 is_stmt 0 view .LVU2135
 7193 007a 02A9     		add	r1, sp, #8
 7194 007c 3046     		mov	r0, r6
 7195 007e FFF7FEFF 		bl	accel_self_test
 7196              	.LVL499:
2280:Drivers/MPU6050/inv_mpu.c ****     gyro_result = gyro_self_test(gyro, gyro_st);
 7197              		.loc 1 2280 18 view .LVU2136
 7198 0082 C6B2     		uxtb	r6, r0
 7199              	.LVL500:
2281:Drivers/MPU6050/inv_mpu.c **** 
 7200              		.loc 1 2281 5 is_stmt 1 view .LVU2137
2281:Drivers/MPU6050/inv_mpu.c **** 
 7201              		.loc 1 2281 19 is_stmt 0 view .LVU2138
 7202 0084 05A9     		add	r1, sp, #20
 7203 0086 2846     		mov	r0, r5
 7204 0088 FFF7FEFF 		bl	gyro_self_test
 7205              	.LVL501:
2283:Drivers/MPU6050/inv_mpu.c ****     if (!gyro_result)
 7206              		.loc 1 2283 5 is_stmt 1 view .LVU2139
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 200


2284:Drivers/MPU6050/inv_mpu.c ****         result |= 0x01;
 7207              		.loc 1 2284 5 view .LVU2140
2284:Drivers/MPU6050/inv_mpu.c ****         result |= 0x01;
 7208              		.loc 1 2284 8 is_stmt 0 view .LVU2141
 7209 008c 10F0FF0F 		tst	r0, #255
 7210 0090 2DD0     		beq	.L600
2283:Drivers/MPU6050/inv_mpu.c ****     if (!gyro_result)
 7211              		.loc 1 2283 12 view .LVU2142
 7212 0092 0024     		movs	r4, #0
 7213              	.LVL502:
 7214              	.L595:
2286:Drivers/MPU6050/inv_mpu.c ****         result |= 0x02;
 7215              		.loc 1 2286 5 is_stmt 1 view .LVU2143
2286:Drivers/MPU6050/inv_mpu.c ****         result |= 0x02;
 7216              		.loc 1 2286 8 is_stmt 0 view .LVU2144
 7217 0094 0EB9     		cbnz	r6, .L596
2287:Drivers/MPU6050/inv_mpu.c **** 
 7218              		.loc 1 2287 9 is_stmt 1 view .LVU2145
2287:Drivers/MPU6050/inv_mpu.c **** 
 7219              		.loc 1 2287 16 is_stmt 0 view .LVU2146
 7220 0096 44F00204 		orr	r4, r4, #2
 7221              	.LVL503:
 7222              	.L596:
2294:Drivers/MPU6050/inv_mpu.c **** #endif
 7223              		.loc 1 2294 9 is_stmt 1 view .LVU2147
2294:Drivers/MPU6050/inv_mpu.c **** #endif
 7224              		.loc 1 2294 16 is_stmt 0 view .LVU2148
 7225 009a 44F00404 		orr	r4, r4, #4
 7226              	.LVL504:
 7227              	.L591:
2305:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.accel_fsr = 0xFF;
 7228              		.loc 1 2305 5 is_stmt 1 view .LVU2149
2305:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.accel_fsr = 0xFF;
 7229              		.loc 1 2305 26 is_stmt 0 view .LVU2150
 7230 009e 194B     		ldr	r3, .L604
 7231 00a0 FF22     		movs	r2, #255
 7232 00a2 1A72     		strb	r2, [r3, #8]
2306:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lpf = 0xFF;
 7233              		.loc 1 2306 5 is_stmt 1 view .LVU2151
2306:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lpf = 0xFF;
 7234              		.loc 1 2306 27 is_stmt 0 view .LVU2152
 7235 00a4 5A72     		strb	r2, [r3, #9]
2307:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.sample_rate = 0xFFFF;
 7236              		.loc 1 2307 5 is_stmt 1 view .LVU2153
2307:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.sample_rate = 0xFFFF;
 7237              		.loc 1 2307 21 is_stmt 0 view .LVU2154
 7238 00a6 DA72     		strb	r2, [r3, #11]
2308:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.sensors = 0xFF;
 7239              		.loc 1 2308 5 is_stmt 1 view .LVU2155
2308:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.sensors = 0xFF;
 7240              		.loc 1 2308 29 is_stmt 0 view .LVU2156
 7241 00a8 4FF6FF71 		movw	r1, #65535
 7242 00ac D981     		strh	r1, [r3, #14]	@ movhi
2309:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.fifo_enable = 0xFF;
 7243              		.loc 1 2309 5 is_stmt 1 view .LVU2157
2309:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.fifo_enable = 0xFF;
 7244              		.loc 1 2309 25 is_stmt 0 view .LVU2158
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 201


 7245 00ae 9A72     		strb	r2, [r3, #10]
2310:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.clk_src = INV_CLK_PLL;
 7246              		.loc 1 2310 5 is_stmt 1 view .LVU2159
2310:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.clk_src = INV_CLK_PLL;
 7247              		.loc 1 2310 29 is_stmt 0 view .LVU2160
 7248 00b0 1A74     		strb	r2, [r3, #16]
2311:Drivers/MPU6050/inv_mpu.c ****     mpu_set_gyro_fsr(gyro_fsr);
 7249              		.loc 1 2311 5 is_stmt 1 view .LVU2161
2311:Drivers/MPU6050/inv_mpu.c ****     mpu_set_gyro_fsr(gyro_fsr);
 7250              		.loc 1 2311 25 is_stmt 0 view .LVU2162
 7251 00b2 0122     		movs	r2, #1
 7252 00b4 1A73     		strb	r2, [r3, #12]
2312:Drivers/MPU6050/inv_mpu.c ****     mpu_set_accel_fsr(accel_fsr);
 7253              		.loc 1 2312 5 is_stmt 1 view .LVU2163
 7254 00b6 BDF80400 		ldrh	r0, [sp, #4]
 7255 00ba FFF7FEFF 		bl	mpu_set_gyro_fsr
 7256              	.LVL505:
2313:Drivers/MPU6050/inv_mpu.c ****     mpu_set_lpf(lpf);
 7257              		.loc 1 2313 5 view .LVU2164
 7258 00be 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 7259 00c2 FFF7FEFF 		bl	mpu_set_accel_fsr
 7260              	.LVL506:
2314:Drivers/MPU6050/inv_mpu.c ****     mpu_set_sample_rate(sample_rate);
 7261              		.loc 1 2314 5 view .LVU2165
 7262 00c6 BDF80000 		ldrh	r0, [sp]
 7263 00ca FFF7FEFF 		bl	mpu_set_lpf
 7264              	.LVL507:
2315:Drivers/MPU6050/inv_mpu.c ****     mpu_set_sensors(sensors_on);
 7265              		.loc 1 2315 5 view .LVU2166
 7266 00ce BDF80200 		ldrh	r0, [sp, #2]
 7267 00d2 FFF7FEFF 		bl	mpu_set_sample_rate
 7268              	.LVL508:
2316:Drivers/MPU6050/inv_mpu.c ****     mpu_configure_fifo(fifo_sensors);
 7269              		.loc 1 2316 5 view .LVU2167
 7270 00d6 4046     		mov	r0, r8
 7271 00d8 FFF7FEFF 		bl	mpu_set_sensors
 7272              	.LVL509:
2317:Drivers/MPU6050/inv_mpu.c **** 
 7273              		.loc 1 2317 5 view .LVU2168
 7274 00dc 9DF80600 		ldrb	r0, [sp, #6]	@ zero_extendqisi2
 7275 00e0 FFF7FEFF 		bl	mpu_configure_fifo
 7276              	.LVL510:
2319:Drivers/MPU6050/inv_mpu.c ****         mpu_set_dmp_state(1);
 7277              		.loc 1 2319 5 view .LVU2169
2319:Drivers/MPU6050/inv_mpu.c ****         mpu_set_dmp_state(1);
 7278              		.loc 1 2319 8 is_stmt 0 view .LVU2170
 7279 00e4 4FB9     		cbnz	r7, .L603
 7280              	.L586:
2323:Drivers/MPU6050/inv_mpu.c **** 
 7281              		.loc 1 2323 1 view .LVU2171
 7282 00e6 2046     		mov	r0, r4
 7283 00e8 08B0     		add	sp, sp, #32
 7284              	.LCFI144:
 7285              		.cfi_remember_state
 7286              		.cfi_def_cfa_offset 24
 7287              		@ sp needed
 7288 00ea BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 202


 7289              	.LVL511:
 7290              	.L600:
 7291              	.LCFI145:
 7292              		.cfi_restore_state
2285:Drivers/MPU6050/inv_mpu.c ****     if (!accel_result)
 7293              		.loc 1 2285 16 view .LVU2172
 7294 00ee 0124     		movs	r4, #1
 7295              	.LVL512:
2285:Drivers/MPU6050/inv_mpu.c ****     if (!accel_result)
 7296              		.loc 1 2285 16 view .LVU2173
 7297 00f0 D0E7     		b	.L595
 7298              	.LVL513:
 7299              	.L598:
2269:Drivers/MPU6050/inv_mpu.c ****         goto restore;
 7300              		.loc 1 2269 16 view .LVU2174
 7301 00f2 0024     		movs	r4, #0
 7302              	.LVL514:
2269:Drivers/MPU6050/inv_mpu.c ****         goto restore;
 7303              		.loc 1 2269 16 view .LVU2175
 7304 00f4 D3E7     		b	.L591
 7305              	.LVL515:
 7306              	.L599:
2277:Drivers/MPU6050/inv_mpu.c ****         goto restore;
 7307              		.loc 1 2277 16 view .LVU2176
 7308 00f6 0024     		movs	r4, #0
 7309              	.LVL516:
2277:Drivers/MPU6050/inv_mpu.c ****         goto restore;
 7310              		.loc 1 2277 16 view .LVU2177
 7311 00f8 D1E7     		b	.L591
 7312              	.LVL517:
 7313              	.L603:
2320:Drivers/MPU6050/inv_mpu.c **** 
 7314              		.loc 1 2320 9 is_stmt 1 view .LVU2178
 7315 00fa 0120     		movs	r0, #1
 7316 00fc FFF7FEFF 		bl	mpu_set_dmp_state
 7317              	.LVL518:
2322:Drivers/MPU6050/inv_mpu.c **** }
 7318              		.loc 1 2322 5 view .LVU2179
2322:Drivers/MPU6050/inv_mpu.c **** }
 7319              		.loc 1 2322 12 is_stmt 0 view .LVU2180
 7320 0100 F1E7     		b	.L586
 7321              	.L605:
 7322 0102 00BF     		.align	2
 7323              	.L604:
 7324 0104 00000000 		.word	.LANCHOR0
 7325              		.cfi_endproc
 7326              	.LFE598:
 7328              		.section	.text.mpu_get_dmp_state,"ax",%progbits
 7329              		.align	1
 7330              		.global	mpu_get_dmp_state
 7331              		.syntax unified
 7332              		.thumb
 7333              		.thumb_func
 7335              	mpu_get_dmp_state:
 7336              	.LVL519:
 7337              	.LFB603:
2473:Drivers/MPU6050/inv_mpu.c **** 
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 203


2474:Drivers/MPU6050/inv_mpu.c **** /**
2475:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Get DMP state.
2476:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] enabled 1 if enabled.
2477:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
2478:Drivers/MPU6050/inv_mpu.c ****  */
2479:Drivers/MPU6050/inv_mpu.c **** int mpu_get_dmp_state(unsigned char *enabled)
2480:Drivers/MPU6050/inv_mpu.c **** {
 7338              		.loc 1 2480 1 is_stmt 1 view -0
 7339              		.cfi_startproc
 7340              		@ args = 0, pretend = 0, frame = 0
 7341              		@ frame_needed = 0, uses_anonymous_args = 0
 7342              		@ link register save eliminated.
2481:Drivers/MPU6050/inv_mpu.c ****     enabled[0] = st.chip_cfg.dmp_on;
 7343              		.loc 1 2481 5 view .LVU2182
 7344              		.loc 1 2481 29 is_stmt 0 view .LVU2183
 7345 0000 024B     		ldr	r3, .L607
 7346 0002 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
 7347              		.loc 1 2481 16 view .LVU2184
 7348 0006 0370     		strb	r3, [r0]
2482:Drivers/MPU6050/inv_mpu.c ****     return 0;
 7349              		.loc 1 2482 5 is_stmt 1 view .LVU2185
2483:Drivers/MPU6050/inv_mpu.c **** }
 7350              		.loc 1 2483 1 is_stmt 0 view .LVU2186
 7351 0008 0020     		movs	r0, #0
 7352              	.LVL520:
 7353              		.loc 1 2483 1 view .LVU2187
 7354 000a 7047     		bx	lr
 7355              	.L608:
 7356              		.align	2
 7357              	.L607:
 7358 000c 00000000 		.word	.LANCHOR0
 7359              		.cfi_endproc
 7360              	.LFE603:
 7362              		.section	.text.mpu_get_compass_reg,"ax",%progbits
 7363              		.align	1
 7364              		.global	mpu_get_compass_reg
 7365              		.syntax unified
 7366              		.thumb
 7367              		.thumb_func
 7369              	mpu_get_compass_reg:
 7370              	.LVL521:
 7371              	.LFB604:
2484:Drivers/MPU6050/inv_mpu.c **** 
2485:Drivers/MPU6050/inv_mpu.c **** 
2486:Drivers/MPU6050/inv_mpu.c **** /* This initialization is similar to the one in ak8975.c. */
2487:Drivers/MPU6050/inv_mpu.c **** //static int setup_compass(void)
2488:Drivers/MPU6050/inv_mpu.c **** //{
2489:Drivers/MPU6050/inv_mpu.c **** //#ifdef AK89xx_SECONDARY
2490:Drivers/MPU6050/inv_mpu.c **** //    unsigned char data[4], akm_addr;
2491:Drivers/MPU6050/inv_mpu.c **** //
2492:Drivers/MPU6050/inv_mpu.c **** //    mpu_set_bypass(1);
2493:Drivers/MPU6050/inv_mpu.c **** //
2494:Drivers/MPU6050/inv_mpu.c **** //    /* Find compass. Possible addresses range from 0x0C to 0x0F. */
2495:Drivers/MPU6050/inv_mpu.c **** //    for (akm_addr = 0x0C; akm_addr <= 0x0F; akm_addr++) {
2496:Drivers/MPU6050/inv_mpu.c **** //        int result;
2497:Drivers/MPU6050/inv_mpu.c **** //        result = i2c_read(akm_addr, AKM_REG_WHOAMI, 1, data);
2498:Drivers/MPU6050/inv_mpu.c **** //        if (!result && (data[0] == AKM_WHOAMI))
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 204


2499:Drivers/MPU6050/inv_mpu.c **** //            break;
2500:Drivers/MPU6050/inv_mpu.c **** //    }
2501:Drivers/MPU6050/inv_mpu.c **** //
2502:Drivers/MPU6050/inv_mpu.c **** //    if (akm_addr > 0x0F) {
2503:Drivers/MPU6050/inv_mpu.c **** //        /* TODO: Handle this case in all compass-related functions. */
2504:Drivers/MPU6050/inv_mpu.c **** //        log_e("Compass not found.\n");
2505:Drivers/MPU6050/inv_mpu.c **** //        return -1;
2506:Drivers/MPU6050/inv_mpu.c **** //    }
2507:Drivers/MPU6050/inv_mpu.c **** //
2508:Drivers/MPU6050/inv_mpu.c **** //    st.chip_cfg.compass_addr = akm_addr;
2509:Drivers/MPU6050/inv_mpu.c **** //
2510:Drivers/MPU6050/inv_mpu.c **** //    data[0] = AKM_POWER_DOWN;
2511:Drivers/MPU6050/inv_mpu.c **** //    if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, data))
2512:Drivers/MPU6050/inv_mpu.c **** //        return -1;
2513:Drivers/MPU6050/inv_mpu.c **** //    delay_ms(1);
2514:Drivers/MPU6050/inv_mpu.c **** //
2515:Drivers/MPU6050/inv_mpu.c **** //    data[0] = AKM_FUSE_ROM_ACCESS;
2516:Drivers/MPU6050/inv_mpu.c **** //    if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, data))
2517:Drivers/MPU6050/inv_mpu.c **** //        return -1;
2518:Drivers/MPU6050/inv_mpu.c **** //    delay_ms(1);
2519:Drivers/MPU6050/inv_mpu.c **** //
2520:Drivers/MPU6050/inv_mpu.c **** //    /* Get sensitivity adjustment data from fuse ROM. */
2521:Drivers/MPU6050/inv_mpu.c **** //    if (i2c_read(st.chip_cfg.compass_addr, AKM_REG_ASAX, 3, data))
2522:Drivers/MPU6050/inv_mpu.c **** //        return -1;
2523:Drivers/MPU6050/inv_mpu.c **** //    st.chip_cfg.mag_sens_adj[0] = (long)data[0] + 128;
2524:Drivers/MPU6050/inv_mpu.c **** //    st.chip_cfg.mag_sens_adj[1] = (long)data[1] + 128;
2525:Drivers/MPU6050/inv_mpu.c **** //    st.chip_cfg.mag_sens_adj[2] = (long)data[2] + 128;
2526:Drivers/MPU6050/inv_mpu.c **** //
2527:Drivers/MPU6050/inv_mpu.c **** //    data[0] = AKM_POWER_DOWN;
2528:Drivers/MPU6050/inv_mpu.c **** //    if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, data))
2529:Drivers/MPU6050/inv_mpu.c **** //        return -1;
2530:Drivers/MPU6050/inv_mpu.c **** //    delay_ms(1);
2531:Drivers/MPU6050/inv_mpu.c **** //
2532:Drivers/MPU6050/inv_mpu.c **** //    mpu_set_bypass(0);
2533:Drivers/MPU6050/inv_mpu.c **** //
2534:Drivers/MPU6050/inv_mpu.c **** //    /* Set up master mode, master clock, and ES bit. */
2535:Drivers/MPU6050/inv_mpu.c **** //    data[0] = 0x40;
2536:Drivers/MPU6050/inv_mpu.c **** //    if (i2c_write(st.hw->addr, st.reg->i2c_mst, 1, data))
2537:Drivers/MPU6050/inv_mpu.c **** //        return -1;
2538:Drivers/MPU6050/inv_mpu.c **** //
2539:Drivers/MPU6050/inv_mpu.c **** //    /* Slave 0 reads from AKM data registers. */
2540:Drivers/MPU6050/inv_mpu.c **** //    data[0] = BIT_I2C_READ | st.chip_cfg.compass_addr;
2541:Drivers/MPU6050/inv_mpu.c **** //    if (i2c_write(st.hw->addr, st.reg->s0_addr, 1, data))
2542:Drivers/MPU6050/inv_mpu.c **** //        return -1;
2543:Drivers/MPU6050/inv_mpu.c **** //
2544:Drivers/MPU6050/inv_mpu.c **** //    /* Compass reads start at this register. */
2545:Drivers/MPU6050/inv_mpu.c **** //    data[0] = AKM_REG_ST1;
2546:Drivers/MPU6050/inv_mpu.c **** //    if (i2c_write(st.hw->addr, st.reg->s0_reg, 1, data))
2547:Drivers/MPU6050/inv_mpu.c **** //        return -1;
2548:Drivers/MPU6050/inv_mpu.c **** //
2549:Drivers/MPU6050/inv_mpu.c **** //    /* Enable slave 0, 8-byte reads. */
2550:Drivers/MPU6050/inv_mpu.c **** //    data[0] = BIT_SLAVE_EN | 8;
2551:Drivers/MPU6050/inv_mpu.c **** //    if (i2c_write(st.hw->addr, st.reg->s0_ctrl, 1, data))
2552:Drivers/MPU6050/inv_mpu.c **** //        return -1;
2553:Drivers/MPU6050/inv_mpu.c **** //
2554:Drivers/MPU6050/inv_mpu.c **** //    /* Slave 1 changes AKM measurement mode. */
2555:Drivers/MPU6050/inv_mpu.c **** //    data[0] = st.chip_cfg.compass_addr;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 205


2556:Drivers/MPU6050/inv_mpu.c **** //    if (i2c_write(st.hw->addr, st.reg->s1_addr, 1, data))
2557:Drivers/MPU6050/inv_mpu.c **** //        return -1;
2558:Drivers/MPU6050/inv_mpu.c **** //
2559:Drivers/MPU6050/inv_mpu.c **** //    /* AKM measurement mode register. */
2560:Drivers/MPU6050/inv_mpu.c **** //    data[0] = AKM_REG_CNTL;
2561:Drivers/MPU6050/inv_mpu.c **** //    if (i2c_write(st.hw->addr, st.reg->s1_reg, 1, data))
2562:Drivers/MPU6050/inv_mpu.c **** //        return -1;
2563:Drivers/MPU6050/inv_mpu.c **** //
2564:Drivers/MPU6050/inv_mpu.c **** //    /* Enable slave 1, 1-byte writes. */
2565:Drivers/MPU6050/inv_mpu.c **** //    data[0] = BIT_SLAVE_EN | 1;
2566:Drivers/MPU6050/inv_mpu.c **** //    if (i2c_write(st.hw->addr, st.reg->s1_ctrl, 1, data))
2567:Drivers/MPU6050/inv_mpu.c **** //        return -1;
2568:Drivers/MPU6050/inv_mpu.c **** //
2569:Drivers/MPU6050/inv_mpu.c **** //    /* Set slave 1 data. */
2570:Drivers/MPU6050/inv_mpu.c **** //    data[0] = AKM_SINGLE_MEASUREMENT;
2571:Drivers/MPU6050/inv_mpu.c **** //    if (i2c_write(st.hw->addr, st.reg->s1_do, 1, data))
2572:Drivers/MPU6050/inv_mpu.c **** //        return -1;
2573:Drivers/MPU6050/inv_mpu.c **** //
2574:Drivers/MPU6050/inv_mpu.c **** //    /* Trigger slave 0 and slave 1 actions at each sample. */
2575:Drivers/MPU6050/inv_mpu.c **** //    data[0] = 0x03;
2576:Drivers/MPU6050/inv_mpu.c **** //    if (i2c_write(st.hw->addr, st.reg->i2c_delay_ctrl, 1, data))
2577:Drivers/MPU6050/inv_mpu.c **** //        return -1;
2578:Drivers/MPU6050/inv_mpu.c **** //
2579:Drivers/MPU6050/inv_mpu.c **** //#ifdef MPU9150
2580:Drivers/MPU6050/inv_mpu.c **** //    /* For the MPU9150, the auxiliary I2C bus needs to be set to VDD. */
2581:Drivers/MPU6050/inv_mpu.c **** //    data[0] = BIT_I2C_MST_VDDIO;
2582:Drivers/MPU6050/inv_mpu.c **** //    if (i2c_write(st.hw->addr, st.reg->yg_offs_tc, 1, data))
2583:Drivers/MPU6050/inv_mpu.c **** //        return -1;
2584:Drivers/MPU6050/inv_mpu.c **** //#endif
2585:Drivers/MPU6050/inv_mpu.c **** //
2586:Drivers/MPU6050/inv_mpu.c **** //    return 0;
2587:Drivers/MPU6050/inv_mpu.c **** //#else
2588:Drivers/MPU6050/inv_mpu.c **** //    return -1;
2589:Drivers/MPU6050/inv_mpu.c **** //#endif
2590:Drivers/MPU6050/inv_mpu.c **** //}
2591:Drivers/MPU6050/inv_mpu.c **** 
2592:Drivers/MPU6050/inv_mpu.c **** /**
2593:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Read raw compass data.
2594:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] data        Raw data in hardware units.
2595:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] timestamp   Timestamp in milliseconds. Null if not needed.
2596:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
2597:Drivers/MPU6050/inv_mpu.c ****  */
2598:Drivers/MPU6050/inv_mpu.c **** int mpu_get_compass_reg(short *data, unsigned long *timestamp)
2599:Drivers/MPU6050/inv_mpu.c **** {
 7372              		.loc 1 2599 1 is_stmt 1 view -0
 7373              		.cfi_startproc
 7374              		@ args = 0, pretend = 0, frame = 0
 7375              		@ frame_needed = 0, uses_anonymous_args = 0
 7376              		@ link register save eliminated.
2600:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
2601:Drivers/MPU6050/inv_mpu.c ****     unsigned char tmp[9];
2602:Drivers/MPU6050/inv_mpu.c **** 
2603:Drivers/MPU6050/inv_mpu.c ****     if (!(st.chip_cfg.sensors & INV_XYZ_COMPASS))
2604:Drivers/MPU6050/inv_mpu.c ****         return -1;
2605:Drivers/MPU6050/inv_mpu.c **** 
2606:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_BYPASS
2607:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.chip_cfg.compass_addr, AKM_REG_ST1, 8, tmp))
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 206


2608:Drivers/MPU6050/inv_mpu.c ****         return -1;
2609:Drivers/MPU6050/inv_mpu.c ****     tmp[8] = AKM_SINGLE_MEASUREMENT;
2610:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp+8))
2611:Drivers/MPU6050/inv_mpu.c ****         return -1;
2612:Drivers/MPU6050/inv_mpu.c **** #else
2613:Drivers/MPU6050/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->raw_compass, 8, tmp))
2614:Drivers/MPU6050/inv_mpu.c ****         return -1;
2615:Drivers/MPU6050/inv_mpu.c **** #endif
2616:Drivers/MPU6050/inv_mpu.c **** 
2617:Drivers/MPU6050/inv_mpu.c **** #if defined AK8975_SECONDARY
2618:Drivers/MPU6050/inv_mpu.c ****     /* AK8975 doesn't have the overrun error bit. */
2619:Drivers/MPU6050/inv_mpu.c ****     if (!(tmp[0] & AKM_DATA_READY))
2620:Drivers/MPU6050/inv_mpu.c ****         return -2;
2621:Drivers/MPU6050/inv_mpu.c ****     if ((tmp[7] & AKM_OVERFLOW) || (tmp[7] & AKM_DATA_ERROR))
2622:Drivers/MPU6050/inv_mpu.c ****         return -3;
2623:Drivers/MPU6050/inv_mpu.c **** #elif defined AK8963_SECONDARY
2624:Drivers/MPU6050/inv_mpu.c ****     /* AK8963 doesn't have the data read error bit. */
2625:Drivers/MPU6050/inv_mpu.c ****     if (!(tmp[0] & AKM_DATA_READY) || (tmp[0] & AKM_DATA_OVERRUN))
2626:Drivers/MPU6050/inv_mpu.c ****         return -2;
2627:Drivers/MPU6050/inv_mpu.c ****     if (tmp[7] & AKM_OVERFLOW)
2628:Drivers/MPU6050/inv_mpu.c ****         return -3;
2629:Drivers/MPU6050/inv_mpu.c **** #endif
2630:Drivers/MPU6050/inv_mpu.c ****     data[0] = (tmp[2] << 8) | tmp[1];
2631:Drivers/MPU6050/inv_mpu.c ****     data[1] = (tmp[4] << 8) | tmp[3];
2632:Drivers/MPU6050/inv_mpu.c ****     data[2] = (tmp[6] << 8) | tmp[5];
2633:Drivers/MPU6050/inv_mpu.c **** 
2634:Drivers/MPU6050/inv_mpu.c ****     data[0] = ((long)data[0] * st.chip_cfg.mag_sens_adj[0]) >> 8;
2635:Drivers/MPU6050/inv_mpu.c ****     data[1] = ((long)data[1] * st.chip_cfg.mag_sens_adj[1]) >> 8;
2636:Drivers/MPU6050/inv_mpu.c ****     data[2] = ((long)data[2] * st.chip_cfg.mag_sens_adj[2]) >> 8;
2637:Drivers/MPU6050/inv_mpu.c **** 
2638:Drivers/MPU6050/inv_mpu.c ****     if (timestamp)
2639:Drivers/MPU6050/inv_mpu.c ****         get_ms(timestamp);
2640:Drivers/MPU6050/inv_mpu.c ****     return 0;
2641:Drivers/MPU6050/inv_mpu.c **** #else
2642:Drivers/MPU6050/inv_mpu.c ****     return -1;
 7377              		.loc 1 2642 5 view .LVU2189
2643:Drivers/MPU6050/inv_mpu.c **** #endif
2644:Drivers/MPU6050/inv_mpu.c **** }
 7378              		.loc 1 2644 1 is_stmt 0 view .LVU2190
 7379 0000 4FF0FF30 		mov	r0, #-1
 7380              	.LVL522:
 7381              		.loc 1 2644 1 view .LVU2191
 7382 0004 7047     		bx	lr
 7383              		.cfi_endproc
 7384              	.LFE604:
 7386              		.section	.text.mpu_get_compass_fsr,"ax",%progbits
 7387              		.align	1
 7388              		.global	mpu_get_compass_fsr
 7389              		.syntax unified
 7390              		.thumb
 7391              		.thumb_func
 7393              	mpu_get_compass_fsr:
 7394              	.LVL523:
 7395              	.LFB605:
2645:Drivers/MPU6050/inv_mpu.c **** 
2646:Drivers/MPU6050/inv_mpu.c **** /**
2647:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Get the compass full-scale range.
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 207


2648:Drivers/MPU6050/inv_mpu.c ****  *  @param[out] fsr Current full-scale range.
2649:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
2650:Drivers/MPU6050/inv_mpu.c ****  */
2651:Drivers/MPU6050/inv_mpu.c **** int mpu_get_compass_fsr(unsigned short *fsr)
2652:Drivers/MPU6050/inv_mpu.c **** {
 7396              		.loc 1 2652 1 is_stmt 1 view -0
 7397              		.cfi_startproc
 7398              		@ args = 0, pretend = 0, frame = 0
 7399              		@ frame_needed = 0, uses_anonymous_args = 0
 7400              		@ link register save eliminated.
2653:Drivers/MPU6050/inv_mpu.c **** #ifdef AK89xx_SECONDARY
2654:Drivers/MPU6050/inv_mpu.c ****     fsr[0] = st.hw->compass_fsr;
2655:Drivers/MPU6050/inv_mpu.c ****     return 0;
2656:Drivers/MPU6050/inv_mpu.c **** #else
2657:Drivers/MPU6050/inv_mpu.c ****     return -1;
 7401              		.loc 1 2657 5 view .LVU2193
2658:Drivers/MPU6050/inv_mpu.c **** #endif
2659:Drivers/MPU6050/inv_mpu.c **** }
 7402              		.loc 1 2659 1 is_stmt 0 view .LVU2194
 7403 0000 4FF0FF30 		mov	r0, #-1
 7404              	.LVL524:
 7405              		.loc 1 2659 1 view .LVU2195
 7406 0004 7047     		bx	lr
 7407              		.cfi_endproc
 7408              	.LFE605:
 7410              		.section	.text.mpu_lp_motion_interrupt,"ax",%progbits
 7411              		.align	1
 7412              		.global	mpu_lp_motion_interrupt
 7413              		.syntax unified
 7414              		.thumb
 7415              		.thumb_func
 7417              	mpu_lp_motion_interrupt:
 7418              	.LVL525:
 7419              	.LFB606:
2660:Drivers/MPU6050/inv_mpu.c **** 
2661:Drivers/MPU6050/inv_mpu.c **** /**
2662:Drivers/MPU6050/inv_mpu.c ****  *  @brief      Enters LP accel motion interrupt mode.
2663:Drivers/MPU6050/inv_mpu.c ****  *  The behavior of this feature is very different between the MPU6050 and the
2664:Drivers/MPU6050/inv_mpu.c ****  *  MPU6500. Each chip's version of this feature is explained below.
2665:Drivers/MPU6050/inv_mpu.c ****  *
2666:Drivers/MPU6050/inv_mpu.c ****  *  \n MPU6050:
2667:Drivers/MPU6050/inv_mpu.c ****  *  \n When this mode is first enabled, the hardware captures a single accel
2668:Drivers/MPU6050/inv_mpu.c ****  *  sample, and subsequent samples are compared with this one to determine if
2669:Drivers/MPU6050/inv_mpu.c ****  *  the device is in motion. Therefore, whenever this "locked" sample needs to
2670:Drivers/MPU6050/inv_mpu.c ****  *  be changed, this function must be called again.
2671:Drivers/MPU6050/inv_mpu.c ****  *
2672:Drivers/MPU6050/inv_mpu.c ****  *  \n The hardware motion threshold can be between 32mg and 8160mg in 32mg
2673:Drivers/MPU6050/inv_mpu.c ****  *  increments.
2674:Drivers/MPU6050/inv_mpu.c ****  *
2675:Drivers/MPU6050/inv_mpu.c ****  *  \n Low-power accel mode supports the following frequencies:
2676:Drivers/MPU6050/inv_mpu.c ****  *  \n 1.25Hz, 5Hz, 20Hz, 40Hz
2677:Drivers/MPU6050/inv_mpu.c ****  *
2678:Drivers/MPU6050/inv_mpu.c ****  *  \n MPU6500:
2679:Drivers/MPU6050/inv_mpu.c ****  *  \n Unlike the MPU6050 version, the hardware does not "lock in" a reference
2680:Drivers/MPU6050/inv_mpu.c ****  *  sample. The hardware monitors the accel data and detects any large change
2681:Drivers/MPU6050/inv_mpu.c ****  *  over a short period of time.
2682:Drivers/MPU6050/inv_mpu.c ****  *
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 208


2683:Drivers/MPU6050/inv_mpu.c ****  *  \n The hardware motion threshold can be between 4mg and 1020mg in 4mg
2684:Drivers/MPU6050/inv_mpu.c ****  *  increments.
2685:Drivers/MPU6050/inv_mpu.c ****  *
2686:Drivers/MPU6050/inv_mpu.c ****  *  \n MPU6500 Low-power accel mode supports the following frequencies:
2687:Drivers/MPU6050/inv_mpu.c ****  *  \n 1.25Hz, 2.5Hz, 5Hz, 10Hz, 20Hz, 40Hz, 80Hz, 160Hz, 320Hz, 640Hz
2688:Drivers/MPU6050/inv_mpu.c ****  *
2689:Drivers/MPU6050/inv_mpu.c ****  *  \n\n NOTES:
2690:Drivers/MPU6050/inv_mpu.c ****  *  \n The driver will round down @e thresh to the nearest supported value if
2691:Drivers/MPU6050/inv_mpu.c ****  *  an unsupported threshold is selected.
2692:Drivers/MPU6050/inv_mpu.c ****  *  \n To select a fractional wake-up frequency, round down the value passed to
2693:Drivers/MPU6050/inv_mpu.c ****  *  @e lpa_freq.
2694:Drivers/MPU6050/inv_mpu.c ****  *  \n The MPU6500 does not support a delay parameter. If this function is used
2695:Drivers/MPU6050/inv_mpu.c ****  *  for the MPU6500, the value passed to @e time will be ignored.
2696:Drivers/MPU6050/inv_mpu.c ****  *  \n To disable this mode, set @e lpa_freq to zero. The driver will restore
2697:Drivers/MPU6050/inv_mpu.c ****  *  the previous configuration.
2698:Drivers/MPU6050/inv_mpu.c ****  *
2699:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  thresh      Motion threshold in mg.
2700:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  time        Duration in milliseconds that the accel data must
2701:Drivers/MPU6050/inv_mpu.c ****  *                          exceed @e thresh before motion is reported.
2702:Drivers/MPU6050/inv_mpu.c ****  *  @param[in]  lpa_freq    Minimum sampling rate, or zero to disable.
2703:Drivers/MPU6050/inv_mpu.c ****  *  @return     0 if successful.
2704:Drivers/MPU6050/inv_mpu.c ****  */
2705:Drivers/MPU6050/inv_mpu.c **** int mpu_lp_motion_interrupt(unsigned short thresh, unsigned char time,
2706:Drivers/MPU6050/inv_mpu.c ****     unsigned char lpa_freq)
2707:Drivers/MPU6050/inv_mpu.c **** {
 7420              		.loc 1 2707 1 is_stmt 1 view -0
 7421              		.cfi_startproc
 7422              		@ args = 0, pretend = 0, frame = 8
 7423              		@ frame_needed = 0, uses_anonymous_args = 0
 7424              		.loc 1 2707 1 is_stmt 0 view .LVU2197
 7425 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 7426              	.LCFI146:
 7427              		.cfi_def_cfa_offset 20
 7428              		.cfi_offset 4, -20
 7429              		.cfi_offset 5, -16
 7430              		.cfi_offset 6, -12
 7431              		.cfi_offset 7, -8
 7432              		.cfi_offset 14, -4
 7433 0002 83B0     		sub	sp, sp, #12
 7434              	.LCFI147:
 7435              		.cfi_def_cfa_offset 32
2708:Drivers/MPU6050/inv_mpu.c ****     unsigned char data[3];
 7436              		.loc 1 2708 5 is_stmt 1 view .LVU2198
2709:Drivers/MPU6050/inv_mpu.c **** 
2710:Drivers/MPU6050/inv_mpu.c ****     if (lpa_freq) {
 7437              		.loc 1 2710 5 view .LVU2199
 7438              		.loc 1 2710 8 is_stmt 0 view .LVU2200
 7439 0004 002A     		cmp	r2, #0
 7440 0006 00F0D780 		beq	.L626
 7441 000a 0D46     		mov	r5, r1
 7442 000c 1746     		mov	r7, r2
 7443              	.LBB4:
2711:Drivers/MPU6050/inv_mpu.c ****         unsigned char thresh_hw;
 7444              		.loc 1 2711 9 is_stmt 1 view .LVU2201
2712:Drivers/MPU6050/inv_mpu.c **** 
2713:Drivers/MPU6050/inv_mpu.c **** #if defined MPU6050
2714:Drivers/MPU6050/inv_mpu.c ****         /* TODO: Make these const/#defines. */
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 209


2715:Drivers/MPU6050/inv_mpu.c ****         /* 1LSb = 32mg. */
2716:Drivers/MPU6050/inv_mpu.c ****         if (thresh > 8160)
 7445              		.loc 1 2716 9 view .LVU2202
 7446              		.loc 1 2716 12 is_stmt 0 view .LVU2203
 7447 000e B0F5FF5F 		cmp	r0, #8160
 7448 0012 04D8     		bhi	.L627
2717:Drivers/MPU6050/inv_mpu.c ****             thresh_hw = 255;
2718:Drivers/MPU6050/inv_mpu.c ****         else if (thresh < 32)
 7449              		.loc 1 2718 14 is_stmt 1 view .LVU2204
 7450              		.loc 1 2718 17 is_stmt 0 view .LVU2205
 7451 0014 1F28     		cmp	r0, #31
 7452 0016 74D9     		bls	.L628
2719:Drivers/MPU6050/inv_mpu.c ****             thresh_hw = 1;
2720:Drivers/MPU6050/inv_mpu.c ****         else
2721:Drivers/MPU6050/inv_mpu.c ****             thresh_hw = thresh >> 5;
 7453              		.loc 1 2721 13 is_stmt 1 view .LVU2206
 7454              		.loc 1 2721 23 is_stmt 0 view .LVU2207
 7455 0018 C0F34714 		ubfx	r4, r0, #5, #8
 7456              	.LVL526:
 7457              		.loc 1 2721 23 view .LVU2208
 7458 001c 00E0     		b	.L613
 7459              	.LVL527:
 7460              	.L627:
2717:Drivers/MPU6050/inv_mpu.c ****             thresh_hw = 255;
 7461              		.loc 1 2717 23 view .LVU2209
 7462 001e FF24     		movs	r4, #255
 7463              	.L613:
 7464              	.LVL528:
2722:Drivers/MPU6050/inv_mpu.c **** #elif defined MPU6500
2723:Drivers/MPU6050/inv_mpu.c ****         /* 1LSb = 4mg. */
2724:Drivers/MPU6050/inv_mpu.c ****         if (thresh > 1020)
2725:Drivers/MPU6050/inv_mpu.c ****             thresh_hw = 255;
2726:Drivers/MPU6050/inv_mpu.c ****         else if (thresh < 4)
2727:Drivers/MPU6050/inv_mpu.c ****             thresh_hw = 1;
2728:Drivers/MPU6050/inv_mpu.c ****         else
2729:Drivers/MPU6050/inv_mpu.c ****             thresh_hw = thresh >> 2;
2730:Drivers/MPU6050/inv_mpu.c **** #endif
2731:Drivers/MPU6050/inv_mpu.c **** 
2732:Drivers/MPU6050/inv_mpu.c ****         if (!time)
 7465              		.loc 1 2732 9 is_stmt 1 view .LVU2210
 7466              		.loc 1 2732 12 is_stmt 0 view .LVU2211
 7467 0020 05B9     		cbnz	r5, .L614
2733:Drivers/MPU6050/inv_mpu.c ****             /* Minimum duration must be 1ms. */
2734:Drivers/MPU6050/inv_mpu.c ****             time = 1;
 7468              		.loc 1 2734 18 view .LVU2212
 7469 0022 0125     		movs	r5, #1
 7470              	.L614:
 7471              	.LVL529:
2735:Drivers/MPU6050/inv_mpu.c **** 
2736:Drivers/MPU6050/inv_mpu.c **** #if defined MPU6050
2737:Drivers/MPU6050/inv_mpu.c ****         if (lpa_freq > 40)
 7472              		.loc 1 2737 9 is_stmt 1 view .LVU2213
 7473              		.loc 1 2737 12 is_stmt 0 view .LVU2214
 7474 0024 282F     		cmp	r7, #40
 7475 0026 00F2D980 		bhi	.L630
2738:Drivers/MPU6050/inv_mpu.c **** #elif defined MPU6500
2739:Drivers/MPU6050/inv_mpu.c ****         if (lpa_freq > 640)
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 210


2740:Drivers/MPU6050/inv_mpu.c **** #endif
2741:Drivers/MPU6050/inv_mpu.c ****             /* At this point, the chip has not been re-configured, so the
2742:Drivers/MPU6050/inv_mpu.c ****              * function can safely exit.
2743:Drivers/MPU6050/inv_mpu.c ****              */
2744:Drivers/MPU6050/inv_mpu.c ****             return -1;
2745:Drivers/MPU6050/inv_mpu.c **** 
2746:Drivers/MPU6050/inv_mpu.c ****         if (!st.chip_cfg.int_motion_only) {
 7476              		.loc 1 2746 9 is_stmt 1 view .LVU2215
 7477              		.loc 1 2746 25 is_stmt 0 view .LVU2216
 7478 002a 6F4B     		ldr	r3, .L638
 7479 002c 5B7D     		ldrb	r3, [r3, #21]	@ zero_extendqisi2
 7480              		.loc 1 2746 12 view .LVU2217
 7481 002e FBB9     		cbnz	r3, .L616
2747:Drivers/MPU6050/inv_mpu.c ****             /* Store current settings for later. */
2748:Drivers/MPU6050/inv_mpu.c ****             if (st.chip_cfg.dmp_on) {
 7482              		.loc 1 2748 13 is_stmt 1 view .LVU2218
 7483              		.loc 1 2748 28 is_stmt 0 view .LVU2219
 7484 0030 6D4B     		ldr	r3, .L638
 7485 0032 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
 7486              		.loc 1 2748 16 view .LVU2220
 7487 0036 002B     		cmp	r3, #0
 7488 0038 65D1     		bne	.L633
2749:Drivers/MPU6050/inv_mpu.c ****                 mpu_set_dmp_state(0);
2750:Drivers/MPU6050/inv_mpu.c ****                 st.chip_cfg.cache.dmp_on = 1;
2751:Drivers/MPU6050/inv_mpu.c ****             } else
2752:Drivers/MPU6050/inv_mpu.c ****                 st.chip_cfg.cache.dmp_on = 0;
 7489              		.loc 1 2752 17 is_stmt 1 view .LVU2221
 7490              		.loc 1 2752 42 is_stmt 0 view .LVU2222
 7491 003a 6B4B     		ldr	r3, .L638
 7492 003c 0022     		movs	r2, #0
 7493              	.LVL530:
 7494              		.loc 1 2752 42 view .LVU2223
 7495 003e 83F82020 		strb	r2, [r3, #32]
 7496              	.LVL531:
 7497              	.L618:
2753:Drivers/MPU6050/inv_mpu.c ****             mpu_get_gyro_fsr(&st.chip_cfg.cache.gyro_fsr);
 7498              		.loc 1 2753 13 is_stmt 1 view .LVU2224
 7499 0042 694E     		ldr	r6, .L638
 7500 0044 06F11600 		add	r0, r6, #22
 7501 0048 FFF7FEFF 		bl	mpu_get_gyro_fsr
 7502              	.LVL532:
2754:Drivers/MPU6050/inv_mpu.c ****             mpu_get_accel_fsr(&st.chip_cfg.cache.accel_fsr);
 7503              		.loc 1 2754 13 view .LVU2225
 7504 004c 06F11800 		add	r0, r6, #24
 7505 0050 FFF7FEFF 		bl	mpu_get_accel_fsr
 7506              	.LVL533:
2755:Drivers/MPU6050/inv_mpu.c ****             mpu_get_lpf(&st.chip_cfg.cache.lpf);
 7507              		.loc 1 2755 13 view .LVU2226
 7508 0054 06F11A00 		add	r0, r6, #26
 7509 0058 FFF7FEFF 		bl	mpu_get_lpf
 7510              	.LVL534:
2756:Drivers/MPU6050/inv_mpu.c ****             mpu_get_sample_rate(&st.chip_cfg.cache.sample_rate);
 7511              		.loc 1 2756 13 view .LVU2227
 7512 005c 06F11C00 		add	r0, r6, #28
 7513 0060 FFF7FEFF 		bl	mpu_get_sample_rate
 7514              	.LVL535:
2757:Drivers/MPU6050/inv_mpu.c ****             st.chip_cfg.cache.sensors_on = st.chip_cfg.sensors;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 211


 7515              		.loc 1 2757 13 view .LVU2228
 7516              		.loc 1 2757 55 is_stmt 0 view .LVU2229
 7517 0064 B37A     		ldrb	r3, [r6, #10]	@ zero_extendqisi2
 7518              		.loc 1 2757 42 view .LVU2230
 7519 0066 B377     		strb	r3, [r6, #30]
2758:Drivers/MPU6050/inv_mpu.c ****             mpu_get_fifo_config(&st.chip_cfg.cache.fifo_sensors);
 7520              		.loc 1 2758 13 is_stmt 1 view .LVU2231
 7521 0068 06F11F00 		add	r0, r6, #31
 7522 006c FFF7FEFF 		bl	mpu_get_fifo_config
 7523              	.LVL536:
 7524              	.L616:
2759:Drivers/MPU6050/inv_mpu.c ****         }
2760:Drivers/MPU6050/inv_mpu.c **** 
2761:Drivers/MPU6050/inv_mpu.c **** #ifdef MPU6050
2762:Drivers/MPU6050/inv_mpu.c ****         /* Disable hardware interrupts for now. */
2763:Drivers/MPU6050/inv_mpu.c ****         set_int_enable(0);
 7525              		.loc 1 2763 9 view .LVU2232
 7526 0070 0020     		movs	r0, #0
 7527 0072 FFF7FEFF 		bl	set_int_enable
 7528              	.LVL537:
2764:Drivers/MPU6050/inv_mpu.c **** 
2765:Drivers/MPU6050/inv_mpu.c ****         /* Enter full-power accel-only mode. */
2766:Drivers/MPU6050/inv_mpu.c ****         mpu_lp_accel_mode(0);
 7529              		.loc 1 2766 9 view .LVU2233
 7530 0076 0020     		movs	r0, #0
 7531 0078 FFF7FEFF 		bl	mpu_lp_accel_mode
 7532              	.LVL538:
2767:Drivers/MPU6050/inv_mpu.c **** 
2768:Drivers/MPU6050/inv_mpu.c ****         /* Override current LPF (and HPF) settings to obtain a valid accel
2769:Drivers/MPU6050/inv_mpu.c ****          * reading.
2770:Drivers/MPU6050/inv_mpu.c ****          */
2771:Drivers/MPU6050/inv_mpu.c ****         data[0] = INV_FILTER_256HZ_NOLPF2;
 7533              		.loc 1 2771 9 view .LVU2234
 7534              		.loc 1 2771 17 is_stmt 0 view .LVU2235
 7535 007c 0023     		movs	r3, #0
 7536 007e 8DF80430 		strb	r3, [sp, #4]
2772:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->lpf, 1, data))
 7537              		.loc 1 2772 9 is_stmt 1 view .LVU2236
 7538              		.loc 1 2772 25 is_stmt 0 view .LVU2237
 7539 0082 594B     		ldr	r3, .L638
 7540 0084 5868     		ldr	r0, [r3, #4]
 7541              		.loc 1 2772 38 view .LVU2238
 7542 0086 1968     		ldr	r1, [r3]
 7543              		.loc 1 2772 13 view .LVU2239
 7544 0088 01AB     		add	r3, sp, #4
 7545 008a 0122     		movs	r2, #1
 7546 008c 8978     		ldrb	r1, [r1, #2]	@ zero_extendqisi2
 7547 008e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7548 0090 FFF7FEFF 		bl	i2cwrite
 7549              	.LVL539:
 7550              		.loc 1 2772 12 view .LVU2240
 7551 0094 0028     		cmp	r0, #0
 7552 0096 40F0A480 		bne	.L631
2773:Drivers/MPU6050/inv_mpu.c ****             return -1;
2774:Drivers/MPU6050/inv_mpu.c **** 
2775:Drivers/MPU6050/inv_mpu.c ****         /* NOTE: Digital high pass filter should be configured here. Since this
2776:Drivers/MPU6050/inv_mpu.c ****          * driver doesn't modify those bits anywhere, they should already be
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 212


2777:Drivers/MPU6050/inv_mpu.c ****          * cleared by default.
2778:Drivers/MPU6050/inv_mpu.c ****          */
2779:Drivers/MPU6050/inv_mpu.c **** 
2780:Drivers/MPU6050/inv_mpu.c ****         /* Configure the device to send motion interrupts. */
2781:Drivers/MPU6050/inv_mpu.c ****         /* Enable motion interrupt. */
2782:Drivers/MPU6050/inv_mpu.c ****         data[0] = BIT_MOT_INT_EN;
 7553              		.loc 1 2782 9 is_stmt 1 view .LVU2241
 7554              		.loc 1 2782 17 is_stmt 0 view .LVU2242
 7555 009a 4023     		movs	r3, #64
 7556 009c 8DF80430 		strb	r3, [sp, #4]
2783:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, data))
 7557              		.loc 1 2783 9 is_stmt 1 view .LVU2243
 7558              		.loc 1 2783 25 is_stmt 0 view .LVU2244
 7559 00a0 514B     		ldr	r3, .L638
 7560 00a2 5868     		ldr	r0, [r3, #4]
 7561              		.loc 1 2783 38 view .LVU2245
 7562 00a4 1968     		ldr	r1, [r3]
 7563              		.loc 1 2783 13 view .LVU2246
 7564 00a6 01AB     		add	r3, sp, #4
 7565 00a8 0122     		movs	r2, #1
 7566 00aa C97B     		ldrb	r1, [r1, #15]	@ zero_extendqisi2
 7567 00ac 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7568 00ae FFF7FEFF 		bl	i2cwrite
 7569              	.LVL540:
 7570              		.loc 1 2783 12 view .LVU2247
 7571 00b2 80B3     		cbz	r0, .L634
 7572              	.LVL541:
 7573              	.L619:
 7574              		.loc 1 2783 12 view .LVU2248
 7575              	.LBE4:
2784:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
2785:Drivers/MPU6050/inv_mpu.c **** 
2786:Drivers/MPU6050/inv_mpu.c ****         /* Set motion interrupt parameters. */
2787:Drivers/MPU6050/inv_mpu.c ****         data[0] = thresh_hw;
2788:Drivers/MPU6050/inv_mpu.c ****         data[1] = time;
2789:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->motion_thr, 2, data))
2790:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
2791:Drivers/MPU6050/inv_mpu.c **** 
2792:Drivers/MPU6050/inv_mpu.c ****         /* Force hardware to "lock" current accel sample. */
2793:Drivers/MPU6050/inv_mpu.c ****         delay_ms(5);
2794:Drivers/MPU6050/inv_mpu.c ****         data[0] = (st.chip_cfg.accel_fsr << 3) | BITS_HPF;
2795:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
2796:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
2797:Drivers/MPU6050/inv_mpu.c **** 
2798:Drivers/MPU6050/inv_mpu.c ****         /* Set up LP accel mode. */
2799:Drivers/MPU6050/inv_mpu.c ****         data[0] = BIT_LPA_CYCLE;
2800:Drivers/MPU6050/inv_mpu.c ****         if (lpa_freq == 1)
2801:Drivers/MPU6050/inv_mpu.c ****             data[1] = INV_LPA_1_25HZ;
2802:Drivers/MPU6050/inv_mpu.c ****         else if (lpa_freq <= 5)
2803:Drivers/MPU6050/inv_mpu.c ****             data[1] = INV_LPA_5HZ;
2804:Drivers/MPU6050/inv_mpu.c ****         else if (lpa_freq <= 20)
2805:Drivers/MPU6050/inv_mpu.c ****             data[1] = INV_LPA_20HZ;
2806:Drivers/MPU6050/inv_mpu.c ****         else
2807:Drivers/MPU6050/inv_mpu.c ****             data[1] = INV_LPA_40HZ;
2808:Drivers/MPU6050/inv_mpu.c ****         data[1] = (data[1] << 6) | BIT_STBY_XYZG;
2809:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, data))
2810:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 213


2811:Drivers/MPU6050/inv_mpu.c **** 
2812:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.int_motion_only = 1;
2813:Drivers/MPU6050/inv_mpu.c ****         return 0;
2814:Drivers/MPU6050/inv_mpu.c **** #elif defined MPU6500
2815:Drivers/MPU6050/inv_mpu.c ****         /* Disable hardware interrupts. */
2816:Drivers/MPU6050/inv_mpu.c ****         set_int_enable(0);
2817:Drivers/MPU6050/inv_mpu.c **** 
2818:Drivers/MPU6050/inv_mpu.c ****         /* Enter full-power accel-only mode, no FIFO/DMP. */
2819:Drivers/MPU6050/inv_mpu.c ****         data[0] = 0;
2820:Drivers/MPU6050/inv_mpu.c ****         data[1] = 0;
2821:Drivers/MPU6050/inv_mpu.c ****         data[2] = BIT_STBY_XYZG;
2822:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->user_ctrl, 3, data))
2823:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
2824:Drivers/MPU6050/inv_mpu.c **** 
2825:Drivers/MPU6050/inv_mpu.c ****         /* Set motion threshold. */
2826:Drivers/MPU6050/inv_mpu.c ****         data[0] = thresh_hw;
2827:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->motion_thr, 1, data))
2828:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
2829:Drivers/MPU6050/inv_mpu.c **** 
2830:Drivers/MPU6050/inv_mpu.c ****         /* Set wake frequency. */
2831:Drivers/MPU6050/inv_mpu.c ****         if (lpa_freq == 1)
2832:Drivers/MPU6050/inv_mpu.c ****             data[0] = INV_LPA_1_25HZ;
2833:Drivers/MPU6050/inv_mpu.c ****         else if (lpa_freq == 2)
2834:Drivers/MPU6050/inv_mpu.c ****             data[0] = INV_LPA_2_5HZ;
2835:Drivers/MPU6050/inv_mpu.c ****         else if (lpa_freq <= 5)
2836:Drivers/MPU6050/inv_mpu.c ****             data[0] = INV_LPA_5HZ;
2837:Drivers/MPU6050/inv_mpu.c ****         else if (lpa_freq <= 10)
2838:Drivers/MPU6050/inv_mpu.c ****             data[0] = INV_LPA_10HZ;
2839:Drivers/MPU6050/inv_mpu.c ****         else if (lpa_freq <= 20)
2840:Drivers/MPU6050/inv_mpu.c ****             data[0] = INV_LPA_20HZ;
2841:Drivers/MPU6050/inv_mpu.c ****         else if (lpa_freq <= 40)
2842:Drivers/MPU6050/inv_mpu.c ****             data[0] = INV_LPA_40HZ;
2843:Drivers/MPU6050/inv_mpu.c ****         else if (lpa_freq <= 80)
2844:Drivers/MPU6050/inv_mpu.c ****             data[0] = INV_LPA_80HZ;
2845:Drivers/MPU6050/inv_mpu.c ****         else if (lpa_freq <= 160)
2846:Drivers/MPU6050/inv_mpu.c ****             data[0] = INV_LPA_160HZ;
2847:Drivers/MPU6050/inv_mpu.c ****         else if (lpa_freq <= 320)
2848:Drivers/MPU6050/inv_mpu.c ****             data[0] = INV_LPA_320HZ;
2849:Drivers/MPU6050/inv_mpu.c ****         else
2850:Drivers/MPU6050/inv_mpu.c ****             data[0] = INV_LPA_640HZ;
2851:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->lp_accel_odr, 1, data))
2852:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
2853:Drivers/MPU6050/inv_mpu.c **** 
2854:Drivers/MPU6050/inv_mpu.c ****         /* Enable motion interrupt (MPU6500 version). */
2855:Drivers/MPU6050/inv_mpu.c ****         data[0] = BITS_WOM_EN;
2856:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->accel_intel, 1, data))
2857:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
2858:Drivers/MPU6050/inv_mpu.c **** 
2859:Drivers/MPU6050/inv_mpu.c ****         /* Enable cycle mode. */
2860:Drivers/MPU6050/inv_mpu.c ****         data[0] = BIT_LPA_CYCLE;
2861:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
2862:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
2863:Drivers/MPU6050/inv_mpu.c **** 
2864:Drivers/MPU6050/inv_mpu.c ****         /* Enable interrupt. */
2865:Drivers/MPU6050/inv_mpu.c ****         data[0] = BIT_MOT_INT_EN;
2866:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->int_enable, 1, data))
2867:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 214


2868:Drivers/MPU6050/inv_mpu.c **** 
2869:Drivers/MPU6050/inv_mpu.c ****         st.chip_cfg.int_motion_only = 1;
2870:Drivers/MPU6050/inv_mpu.c ****         return 0;
2871:Drivers/MPU6050/inv_mpu.c **** #endif
2872:Drivers/MPU6050/inv_mpu.c ****     } else {
2873:Drivers/MPU6050/inv_mpu.c ****         /* Don't "restore" the previous state if no state has been saved. */
2874:Drivers/MPU6050/inv_mpu.c ****         int ii;
2875:Drivers/MPU6050/inv_mpu.c ****         char *cache_ptr = (char*)&st.chip_cfg.cache;
2876:Drivers/MPU6050/inv_mpu.c ****         for (ii = 0; ii < sizeof(st.chip_cfg.cache); ii++) {
2877:Drivers/MPU6050/inv_mpu.c ****             if (cache_ptr[ii] != 0)
2878:Drivers/MPU6050/inv_mpu.c ****                 goto lp_int_restore;
2879:Drivers/MPU6050/inv_mpu.c ****         }
2880:Drivers/MPU6050/inv_mpu.c ****         /* If we reach this point, motion interrupt mode hasn't been used yet. */
2881:Drivers/MPU6050/inv_mpu.c ****         return -1;
2882:Drivers/MPU6050/inv_mpu.c ****     }
2883:Drivers/MPU6050/inv_mpu.c **** lp_int_restore:
2884:Drivers/MPU6050/inv_mpu.c ****     /* Set to invalid values to ensure no I2C writes are skipped. */
2885:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.gyro_fsr = 0xFF;
 7576              		.loc 1 2885 5 is_stmt 1 view .LVU2249
 7577              		.loc 1 2885 26 is_stmt 0 view .LVU2250
 7578 00b4 4C4C     		ldr	r4, .L638
 7579 00b6 FF23     		movs	r3, #255
 7580 00b8 2372     		strb	r3, [r4, #8]
2886:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.accel_fsr = 0xFF;
 7581              		.loc 1 2886 5 is_stmt 1 view .LVU2251
 7582              		.loc 1 2886 27 is_stmt 0 view .LVU2252
 7583 00ba 6372     		strb	r3, [r4, #9]
2887:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.lpf = 0xFF;
 7584              		.loc 1 2887 5 is_stmt 1 view .LVU2253
 7585              		.loc 1 2887 21 is_stmt 0 view .LVU2254
 7586 00bc E372     		strb	r3, [r4, #11]
2888:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.sample_rate = 0xFFFF;
 7587              		.loc 1 2888 5 is_stmt 1 view .LVU2255
 7588              		.loc 1 2888 29 is_stmt 0 view .LVU2256
 7589 00be 4FF6FF72 		movw	r2, #65535
 7590 00c2 E281     		strh	r2, [r4, #14]	@ movhi
2889:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.sensors = 0xFF;
 7591              		.loc 1 2889 5 is_stmt 1 view .LVU2257
 7592              		.loc 1 2889 25 is_stmt 0 view .LVU2258
 7593 00c4 A372     		strb	r3, [r4, #10]
2890:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.fifo_enable = 0xFF;
 7594              		.loc 1 2890 5 is_stmt 1 view .LVU2259
 7595              		.loc 1 2890 29 is_stmt 0 view .LVU2260
 7596 00c6 2374     		strb	r3, [r4, #16]
2891:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.clk_src = INV_CLK_PLL;
 7597              		.loc 1 2891 5 is_stmt 1 view .LVU2261
 7598              		.loc 1 2891 25 is_stmt 0 view .LVU2262
 7599 00c8 0123     		movs	r3, #1
 7600 00ca 2373     		strb	r3, [r4, #12]
2892:Drivers/MPU6050/inv_mpu.c ****     mpu_set_sensors(st.chip_cfg.cache.sensors_on);
 7601              		.loc 1 2892 5 is_stmt 1 view .LVU2263
 7602 00cc A07F     		ldrb	r0, [r4, #30]	@ zero_extendqisi2
 7603 00ce FFF7FEFF 		bl	mpu_set_sensors
 7604              	.LVL542:
2893:Drivers/MPU6050/inv_mpu.c ****     mpu_set_gyro_fsr(st.chip_cfg.cache.gyro_fsr);
 7605              		.loc 1 2893 5 view .LVU2264
 7606 00d2 E08A     		ldrh	r0, [r4, #22]
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 215


 7607 00d4 FFF7FEFF 		bl	mpu_set_gyro_fsr
 7608              	.LVL543:
2894:Drivers/MPU6050/inv_mpu.c ****     mpu_set_accel_fsr(st.chip_cfg.cache.accel_fsr);
 7609              		.loc 1 2894 5 view .LVU2265
 7610 00d8 207E     		ldrb	r0, [r4, #24]	@ zero_extendqisi2
 7611 00da FFF7FEFF 		bl	mpu_set_accel_fsr
 7612              	.LVL544:
2895:Drivers/MPU6050/inv_mpu.c ****     mpu_set_lpf(st.chip_cfg.cache.lpf);
 7613              		.loc 1 2895 5 view .LVU2266
 7614 00de 608B     		ldrh	r0, [r4, #26]
 7615 00e0 FFF7FEFF 		bl	mpu_set_lpf
 7616              	.LVL545:
2896:Drivers/MPU6050/inv_mpu.c ****     mpu_set_sample_rate(st.chip_cfg.cache.sample_rate);
 7617              		.loc 1 2896 5 view .LVU2267
 7618 00e4 A08B     		ldrh	r0, [r4, #28]
 7619 00e6 FFF7FEFF 		bl	mpu_set_sample_rate
 7620              	.LVL546:
2897:Drivers/MPU6050/inv_mpu.c ****     mpu_configure_fifo(st.chip_cfg.cache.fifo_sensors);
 7621              		.loc 1 2897 5 view .LVU2268
 7622 00ea E07F     		ldrb	r0, [r4, #31]	@ zero_extendqisi2
 7623 00ec FFF7FEFF 		bl	mpu_configure_fifo
 7624              	.LVL547:
2898:Drivers/MPU6050/inv_mpu.c **** 
2899:Drivers/MPU6050/inv_mpu.c ****     if (st.chip_cfg.cache.dmp_on)
 7625              		.loc 1 2899 5 view .LVU2269
 7626              		.loc 1 2899 26 is_stmt 0 view .LVU2270
 7627 00f0 94F82030 		ldrb	r3, [r4, #32]	@ zero_extendqisi2
 7628              		.loc 1 2899 8 view .LVU2271
 7629 00f4 002B     		cmp	r3, #0
 7630 00f6 6DD1     		bne	.L635
 7631              	.L625:
2900:Drivers/MPU6050/inv_mpu.c ****         mpu_set_dmp_state(1);
2901:Drivers/MPU6050/inv_mpu.c **** 
2902:Drivers/MPU6050/inv_mpu.c **** #ifdef MPU6500
2903:Drivers/MPU6050/inv_mpu.c ****     /* Disable motion interrupt (MPU6500 version). */
2904:Drivers/MPU6050/inv_mpu.c ****     data[0] = 0;
2905:Drivers/MPU6050/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_intel, 1, data))
2906:Drivers/MPU6050/inv_mpu.c ****         goto lp_int_restore;
2907:Drivers/MPU6050/inv_mpu.c **** #endif
2908:Drivers/MPU6050/inv_mpu.c **** 
2909:Drivers/MPU6050/inv_mpu.c ****     st.chip_cfg.int_motion_only = 0;
 7632              		.loc 1 2909 5 is_stmt 1 view .LVU2272
 7633              		.loc 1 2909 33 is_stmt 0 view .LVU2273
 7634 00f8 0020     		movs	r0, #0
 7635 00fa 3B4B     		ldr	r3, .L638
 7636 00fc 5875     		strb	r0, [r3, #21]
2910:Drivers/MPU6050/inv_mpu.c ****     return 0;
 7637              		.loc 1 2910 5 is_stmt 1 view .LVU2274
 7638              	.L611:
2911:Drivers/MPU6050/inv_mpu.c **** }
 7639              		.loc 1 2911 1 is_stmt 0 view .LVU2275
 7640 00fe 03B0     		add	sp, sp, #12
 7641              	.LCFI148:
 7642              		.cfi_remember_state
 7643              		.cfi_def_cfa_offset 20
 7644              		@ sp needed
 7645 0100 F0BD     		pop	{r4, r5, r6, r7, pc}
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 216


 7646              	.LVL548:
 7647              	.L628:
 7648              	.LCFI149:
 7649              		.cfi_restore_state
 7650              	.LBB5:
2719:Drivers/MPU6050/inv_mpu.c ****         else
 7651              		.loc 1 2719 23 view .LVU2276
 7652 0102 0124     		movs	r4, #1
 7653 0104 8CE7     		b	.L613
 7654              	.LVL549:
 7655              	.L633:
2749:Drivers/MPU6050/inv_mpu.c ****                 st.chip_cfg.cache.dmp_on = 1;
 7656              		.loc 1 2749 17 is_stmt 1 view .LVU2277
 7657 0106 0020     		movs	r0, #0
 7658              	.LVL550:
2749:Drivers/MPU6050/inv_mpu.c ****                 st.chip_cfg.cache.dmp_on = 1;
 7659              		.loc 1 2749 17 is_stmt 0 view .LVU2278
 7660 0108 FFF7FEFF 		bl	mpu_set_dmp_state
 7661              	.LVL551:
2750:Drivers/MPU6050/inv_mpu.c ****             } else
 7662              		.loc 1 2750 17 is_stmt 1 view .LVU2279
2750:Drivers/MPU6050/inv_mpu.c ****             } else
 7663              		.loc 1 2750 42 is_stmt 0 view .LVU2280
 7664 010c 364B     		ldr	r3, .L638
 7665 010e 0122     		movs	r2, #1
 7666 0110 83F82020 		strb	r2, [r3, #32]
 7667 0114 95E7     		b	.L618
 7668              	.L634:
2787:Drivers/MPU6050/inv_mpu.c ****         data[1] = time;
 7669              		.loc 1 2787 9 is_stmt 1 view .LVU2281
2787:Drivers/MPU6050/inv_mpu.c ****         data[1] = time;
 7670              		.loc 1 2787 17 is_stmt 0 view .LVU2282
 7671 0116 8DF80440 		strb	r4, [sp, #4]
2788:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->motion_thr, 2, data))
 7672              		.loc 1 2788 9 is_stmt 1 view .LVU2283
2788:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->motion_thr, 2, data))
 7673              		.loc 1 2788 17 is_stmt 0 view .LVU2284
 7674 011a 8DF80550 		strb	r5, [sp, #5]
2789:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
 7675              		.loc 1 2789 9 is_stmt 1 view .LVU2285
2789:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
 7676              		.loc 1 2789 25 is_stmt 0 view .LVU2286
 7677 011e 324B     		ldr	r3, .L638
 7678 0120 5868     		ldr	r0, [r3, #4]
2789:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
 7679              		.loc 1 2789 38 view .LVU2287
 7680 0122 1968     		ldr	r1, [r3]
2789:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
 7681              		.loc 1 2789 13 view .LVU2288
 7682 0124 01AB     		add	r3, sp, #4
 7683 0126 0222     		movs	r2, #2
 7684 0128 097A     		ldrb	r1, [r1, #8]	@ zero_extendqisi2
 7685 012a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7686 012c FFF7FEFF 		bl	i2cwrite
 7687              	.LVL552:
2789:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
 7688              		.loc 1 2789 12 view .LVU2289
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 217


 7689 0130 0028     		cmp	r0, #0
 7690 0132 BFD1     		bne	.L619
2793:Drivers/MPU6050/inv_mpu.c ****         data[0] = (st.chip_cfg.accel_fsr << 3) | BITS_HPF;
 7691              		.loc 1 2793 9 is_stmt 1 view .LVU2290
 7692 0134 0520     		movs	r0, #5
 7693 0136 FFF7FEFF 		bl	delay_ms
 7694              	.LVL553:
2794:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 7695              		.loc 1 2794 9 view .LVU2291
2794:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 7696              		.loc 1 2794 31 is_stmt 0 view .LVU2292
 7697 013a 2B4A     		ldr	r2, .L638
 7698 013c 537A     		ldrb	r3, [r2, #9]	@ zero_extendqisi2
2794:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 7699              		.loc 1 2794 42 view .LVU2293
 7700 013e DB00     		lsls	r3, r3, #3
2794:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 7701              		.loc 1 2794 48 view .LVU2294
 7702 0140 43F00703 		orr	r3, r3, #7
2794:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 7703              		.loc 1 2794 17 view .LVU2295
 7704 0144 8DF80430 		strb	r3, [sp, #4]
2795:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
 7705              		.loc 1 2795 9 is_stmt 1 view .LVU2296
2795:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
 7706              		.loc 1 2795 25 is_stmt 0 view .LVU2297
 7707 0148 5068     		ldr	r0, [r2, #4]
2795:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
 7708              		.loc 1 2795 38 view .LVU2298
 7709 014a 1168     		ldr	r1, [r2]
2795:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
 7710              		.loc 1 2795 13 view .LVU2299
 7711 014c 01AB     		add	r3, sp, #4
 7712 014e 0122     		movs	r2, #1
 7713 0150 C979     		ldrb	r1, [r1, #7]	@ zero_extendqisi2
 7714 0152 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7715 0154 FFF7FEFF 		bl	i2cwrite
 7716              	.LVL554:
2795:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
 7717              		.loc 1 2795 12 view .LVU2300
 7718 0158 0028     		cmp	r0, #0
 7719 015a ABD1     		bne	.L619
2799:Drivers/MPU6050/inv_mpu.c ****         if (lpa_freq == 1)
 7720              		.loc 1 2799 9 is_stmt 1 view .LVU2301
2799:Drivers/MPU6050/inv_mpu.c ****         if (lpa_freq == 1)
 7721              		.loc 1 2799 17 is_stmt 0 view .LVU2302
 7722 015c 2023     		movs	r3, #32
 7723 015e 8DF80430 		strb	r3, [sp, #4]
2800:Drivers/MPU6050/inv_mpu.c ****             data[1] = INV_LPA_1_25HZ;
 7724              		.loc 1 2800 9 is_stmt 1 view .LVU2303
2800:Drivers/MPU6050/inv_mpu.c ****             data[1] = INV_LPA_1_25HZ;
 7725              		.loc 1 2800 12 is_stmt 0 view .LVU2304
 7726 0162 012F     		cmp	r7, #1
 7727 0164 05D0     		beq	.L636
2802:Drivers/MPU6050/inv_mpu.c ****             data[1] = INV_LPA_5HZ;
 7728              		.loc 1 2802 14 is_stmt 1 view .LVU2305
2802:Drivers/MPU6050/inv_mpu.c ****             data[1] = INV_LPA_5HZ;
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 218


 7729              		.loc 1 2802 17 is_stmt 0 view .LVU2306
 7730 0166 052F     		cmp	r7, #5
 7731 0168 1CD8     		bhi	.L622
2803:Drivers/MPU6050/inv_mpu.c ****         else if (lpa_freq <= 20)
 7732              		.loc 1 2803 13 is_stmt 1 view .LVU2307
2803:Drivers/MPU6050/inv_mpu.c ****         else if (lpa_freq <= 20)
 7733              		.loc 1 2803 21 is_stmt 0 view .LVU2308
 7734 016a 0123     		movs	r3, #1
 7735 016c 8DF80530 		strb	r3, [sp, #5]
 7736 0170 02E0     		b	.L621
 7737              	.L636:
2801:Drivers/MPU6050/inv_mpu.c ****         else if (lpa_freq <= 5)
 7738              		.loc 1 2801 13 is_stmt 1 view .LVU2309
2801:Drivers/MPU6050/inv_mpu.c ****         else if (lpa_freq <= 5)
 7739              		.loc 1 2801 21 is_stmt 0 view .LVU2310
 7740 0172 0023     		movs	r3, #0
 7741 0174 8DF80530 		strb	r3, [sp, #5]
 7742              	.L621:
2808:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, data))
 7743              		.loc 1 2808 9 is_stmt 1 view .LVU2311
2808:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, data))
 7744              		.loc 1 2808 24 is_stmt 0 view .LVU2312
 7745 0178 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
2808:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, data))
 7746              		.loc 1 2808 28 view .LVU2313
 7747 017c 9B01     		lsls	r3, r3, #6
2808:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, data))
 7748              		.loc 1 2808 34 view .LVU2314
 7749 017e 43F00703 		orr	r3, r3, #7
2808:Drivers/MPU6050/inv_mpu.c ****         if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, data))
 7750              		.loc 1 2808 17 view .LVU2315
 7751 0182 8DF80530 		strb	r3, [sp, #5]
2809:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
 7752              		.loc 1 2809 9 is_stmt 1 view .LVU2316
2809:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
 7753              		.loc 1 2809 25 is_stmt 0 view .LVU2317
 7754 0186 184B     		ldr	r3, .L638
 7755 0188 5868     		ldr	r0, [r3, #4]
2809:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
 7756              		.loc 1 2809 38 view .LVU2318
 7757 018a 1968     		ldr	r1, [r3]
2809:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
 7758              		.loc 1 2809 13 view .LVU2319
 7759 018c 01AB     		add	r3, sp, #4
 7760 018e 0222     		movs	r2, #2
 7761 0190 897C     		ldrb	r1, [r1, #18]	@ zero_extendqisi2
 7762 0192 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7763 0194 FFF7FEFF 		bl	i2cwrite
 7764              	.LVL555:
2809:Drivers/MPU6050/inv_mpu.c ****             goto lp_int_restore;
 7765              		.loc 1 2809 12 view .LVU2320
 7766 0198 0028     		cmp	r0, #0
 7767 019a 8BD1     		bne	.L619
2812:Drivers/MPU6050/inv_mpu.c ****         return 0;
 7768              		.loc 1 2812 9 is_stmt 1 view .LVU2321
2812:Drivers/MPU6050/inv_mpu.c ****         return 0;
 7769              		.loc 1 2812 37 is_stmt 0 view .LVU2322
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 219


 7770 019c 124B     		ldr	r3, .L638
 7771 019e 0122     		movs	r2, #1
 7772 01a0 5A75     		strb	r2, [r3, #21]
2813:Drivers/MPU6050/inv_mpu.c **** #elif defined MPU6500
 7773              		.loc 1 2813 9 is_stmt 1 view .LVU2323
2813:Drivers/MPU6050/inv_mpu.c **** #elif defined MPU6500
 7774              		.loc 1 2813 16 is_stmt 0 view .LVU2324
 7775 01a2 ACE7     		b	.L611
 7776              	.L622:
2804:Drivers/MPU6050/inv_mpu.c ****             data[1] = INV_LPA_20HZ;
 7777              		.loc 1 2804 14 is_stmt 1 view .LVU2325
2804:Drivers/MPU6050/inv_mpu.c ****             data[1] = INV_LPA_20HZ;
 7778              		.loc 1 2804 17 is_stmt 0 view .LVU2326
 7779 01a4 142F     		cmp	r7, #20
 7780 01a6 03D8     		bhi	.L623
2805:Drivers/MPU6050/inv_mpu.c ****         else
 7781              		.loc 1 2805 13 is_stmt 1 view .LVU2327
2805:Drivers/MPU6050/inv_mpu.c ****         else
 7782              		.loc 1 2805 21 is_stmt 0 view .LVU2328
 7783 01a8 0223     		movs	r3, #2
 7784 01aa 8DF80530 		strb	r3, [sp, #5]
 7785 01ae E3E7     		b	.L621
 7786              	.L623:
2807:Drivers/MPU6050/inv_mpu.c ****         data[1] = (data[1] << 6) | BIT_STBY_XYZG;
 7787              		.loc 1 2807 13 is_stmt 1 view .LVU2329
2807:Drivers/MPU6050/inv_mpu.c ****         data[1] = (data[1] << 6) | BIT_STBY_XYZG;
 7788              		.loc 1 2807 21 is_stmt 0 view .LVU2330
 7789 01b0 0323     		movs	r3, #3
 7790 01b2 8DF80530 		strb	r3, [sp, #5]
 7791 01b6 DFE7     		b	.L621
 7792              	.LVL556:
 7793              	.L626:
2807:Drivers/MPU6050/inv_mpu.c ****         data[1] = (data[1] << 6) | BIT_STBY_XYZG;
 7794              		.loc 1 2807 21 view .LVU2331
 7795              	.LBE5:
 7796              	.LBB6:
2876:Drivers/MPU6050/inv_mpu.c ****             if (cache_ptr[ii] != 0)
 7797              		.loc 1 2876 17 view .LVU2332
 7798 01b8 0023     		movs	r3, #0
 7799              	.LVL557:
 7800              	.L612:
2876:Drivers/MPU6050/inv_mpu.c ****             if (cache_ptr[ii] != 0)
 7801              		.loc 1 2876 22 is_stmt 1 discriminator 1 view .LVU2333
2876:Drivers/MPU6050/inv_mpu.c ****             if (cache_ptr[ii] != 0)
 7802              		.loc 1 2876 9 is_stmt 0 discriminator 1 view .LVU2334
 7803 01ba 0B2B     		cmp	r3, #11
 7804 01bc 07D8     		bhi	.L637
2877:Drivers/MPU6050/inv_mpu.c ****                 goto lp_int_restore;
 7805              		.loc 1 2877 13 is_stmt 1 view .LVU2335
2877:Drivers/MPU6050/inv_mpu.c ****                 goto lp_int_restore;
 7806              		.loc 1 2877 26 is_stmt 0 view .LVU2336
 7807 01be 0A4A     		ldr	r2, .L638
 7808 01c0 1A44     		add	r2, r2, r3
 7809 01c2 927D     		ldrb	r2, [r2, #22]	@ zero_extendqisi2
2877:Drivers/MPU6050/inv_mpu.c ****                 goto lp_int_restore;
 7810              		.loc 1 2877 16 view .LVU2337
 7811 01c4 002A     		cmp	r2, #0
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 220


 7812 01c6 7FF475AF 		bne	.L619
2876:Drivers/MPU6050/inv_mpu.c ****             if (cache_ptr[ii] != 0)
 7813              		.loc 1 2876 54 is_stmt 1 discriminator 2 view .LVU2338
2876:Drivers/MPU6050/inv_mpu.c ****             if (cache_ptr[ii] != 0)
 7814              		.loc 1 2876 56 is_stmt 0 discriminator 2 view .LVU2339
 7815 01ca 0133     		adds	r3, r3, #1
 7816              	.LVL558:
2876:Drivers/MPU6050/inv_mpu.c ****             if (cache_ptr[ii] != 0)
 7817              		.loc 1 2876 56 discriminator 2 view .LVU2340
 7818 01cc F5E7     		b	.L612
 7819              	.L637:
2881:Drivers/MPU6050/inv_mpu.c ****     }
 7820              		.loc 1 2881 16 view .LVU2341
 7821 01ce 4FF0FF30 		mov	r0, #-1
 7822              	.LVL559:
2881:Drivers/MPU6050/inv_mpu.c ****     }
 7823              		.loc 1 2881 16 view .LVU2342
 7824 01d2 94E7     		b	.L611
 7825              	.LVL560:
 7826              	.L635:
2881:Drivers/MPU6050/inv_mpu.c ****     }
 7827              		.loc 1 2881 16 view .LVU2343
 7828              	.LBE6:
2900:Drivers/MPU6050/inv_mpu.c **** 
 7829              		.loc 1 2900 9 is_stmt 1 view .LVU2344
 7830 01d4 0120     		movs	r0, #1
 7831 01d6 FFF7FEFF 		bl	mpu_set_dmp_state
 7832              	.LVL561:
 7833 01da 8DE7     		b	.L625
 7834              	.LVL562:
 7835              	.L630:
 7836              	.LBB7:
2744:Drivers/MPU6050/inv_mpu.c **** 
 7837              		.loc 1 2744 20 is_stmt 0 view .LVU2345
 7838 01dc 4FF0FF30 		mov	r0, #-1
 7839              	.LVL563:
2744:Drivers/MPU6050/inv_mpu.c **** 
 7840              		.loc 1 2744 20 view .LVU2346
 7841 01e0 8DE7     		b	.L611
 7842              	.LVL564:
 7843              	.L631:
2773:Drivers/MPU6050/inv_mpu.c **** 
 7844              		.loc 1 2773 20 view .LVU2347
 7845 01e2 4FF0FF30 		mov	r0, #-1
 7846 01e6 8AE7     		b	.L611
 7847              	.L639:
 7848              		.align	2
 7849              	.L638:
 7850 01e8 00000000 		.word	.LANCHOR0
 7851              	.LBE7:
 7852              		.cfi_endproc
 7853              	.LFE606:
 7855              		.global	test
 7856              		.global	reg
 7857              		.global	hw
 7858              		.section	.data.st,"aw"
 7859              		.align	2
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 221


 7860              		.set	.LANCHOR0,. + 0
 7863              	st:
 7864 0000 00000000 		.word	reg
 7865 0004 00000000 		.word	hw
 7866 0008 00       		.byte	0
 7867 0009 00000000 		.space	31
 7867      00000000 
 7867      00000000 
 7867      00000000 
 7867      00000000 
 7868 0028 00000000 		.word	test
 7869              		.section	.rodata.hw,"a"
 7870              		.align	2
 7873              	hw:
 7874 0000 68       		.byte	104
 7875 0001 00       		.space	1
 7876 0002 0004     		.short	1024
 7877 0004 76       		.byte	118
 7878 0005 00       		.space	1
 7879 0006 5401     		.short	340
 7880 0008 F7FD     		.short	-521
 7881 000a 0001     		.short	256
 7882              		.section	.rodata.reg,"a"
 7883              		.align	2
 7886              	reg:
 7887 0000 75       		.byte	117
 7888 0001 19       		.byte	25
 7889 0002 1A       		.byte	26
 7890 0003 0C       		.byte	12
 7891 0004 6A       		.byte	106
 7892 0005 23       		.byte	35
 7893 0006 1B       		.byte	27
 7894 0007 1C       		.byte	28
 7895 0008 1F       		.byte	31
 7896 0009 20       		.byte	32
 7897 000a 72       		.byte	114
 7898 000b 74       		.byte	116
 7899 000c 43       		.byte	67
 7900 000d 3B       		.byte	59
 7901 000e 41       		.byte	65
 7902 000f 38       		.byte	56
 7903 0010 39       		.byte	57
 7904 0011 3A       		.byte	58
 7905 0012 6B       		.byte	107
 7906 0013 6C       		.byte	108
 7907 0014 37       		.byte	55
 7908 0015 6F       		.byte	111
 7909 0016 06       		.byte	6
 7910 0017 24       		.byte	36
 7911 0018 6D       		.byte	109
 7912 0019 6E       		.byte	110
 7913 001a 70       		.byte	112
 7914              		.section	.rodata.test,"a"
 7915              		.align	2
 7918              	test:
 7919 0000 83000000 		.word	131
 7920 0004 00080000 		.word	2048
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 222


 7921 0008 00       		.byte	0
 7922 0009 01       		.byte	1
 7923 000a 00       		.byte	0
 7924 000b 18       		.byte	24
 7925 000c 3200     		.short	50
 7926 000e 05       		.byte	5
 7927 000f 00       		.space	1
 7928 0010 00002041 		.word	1092616192
 7929 0014 0000D242 		.word	1121058816
 7930 0018 295C0F3E 		.word	1041194025
 7931 001c 9A99993E 		.word	1050253722
 7932 0020 3333733F 		.word	1064514355
 7933 0024 295C0F3E 		.word	1041194025
 7934              		.text
 7935              	.Letext0:
 7936              		.file 2 "f:\\stm32\\win-dev-tools\\gcc-arm-none-eabi\\arm-none-eabi\\include\\machine\\_default_ty
 7937              		.file 3 "f:\\stm32\\win-dev-tools\\gcc-arm-none-eabi\\arm-none-eabi\\include\\sys\\_stdint.h"
 7938              		.file 4 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_dma.h"
 7939              		.file 5 "Drivers/MPU6050/STM32_I2C.h"
 7940              		.file 6 "f:\\stm32\\win-dev-tools\\gcc-arm-none-eabi\\arm-none-eabi\\include\\string.h"
 7941              		.file 7 "f:\\stm32\\win-dev-tools\\gcc-arm-none-eabi\\arm-none-eabi\\include\\stdio.h"
 7942              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 7943              		.file 9 "<built-in>"
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 223


DEFINED SYMBOLS
                            *ABS*:00000000 inv_mpu.c
F:\msys64\tmp\ccV3aPRD.s:20     .text.get_accel_prod_shift:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:25     .text.get_accel_prod_shift:00000000 get_accel_prod_shift
F:\msys64\tmp\ccV3aPRD.s:186    .text.get_accel_prod_shift:000000c0 $d
F:\msys64\tmp\ccV3aPRD.s:193    .text.accel_self_test:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:198    .text.accel_self_test:00000000 accel_self_test
F:\msys64\tmp\ccV3aPRD.s:334    .text.accel_self_test:0000009c $d
F:\msys64\tmp\ccV3aPRD.s:342    .text.gyro_self_test:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:347    .text.gyro_self_test:00000000 gyro_self_test
F:\msys64\tmp\ccV3aPRD.s:535    .text.gyro_self_test:000000f0 $d
F:\msys64\tmp\ccV3aPRD.s:544    .text.set_int_enable:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:549    .text.set_int_enable:00000000 set_int_enable
F:\msys64\tmp\ccV3aPRD.s:696    .text.set_int_enable:00000094 $d
F:\msys64\tmp\ccV3aPRD.s:701    .text.get_ms:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:707    .text.get_ms:00000000 get_ms
F:\msys64\tmp\ccV3aPRD.s:734    .text.delay_us:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:740    .text.delay_us:00000000 delay_us
F:\msys64\tmp\ccV3aPRD.s:786    .text.delay_ms:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:792    .text.delay_ms:00000000 delay_ms
F:\msys64\tmp\ccV3aPRD.s:815    .text.get_st_biases:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:820    .text.get_st_biases:00000000 get_st_biases
F:\msys64\tmp\ccV3aPRD.s:1238   .text.get_st_biases:00000228 $d
F:\msys64\tmp\ccV3aPRD.s:1245   .text.get_st_biases:00000230 $t
F:\msys64\tmp\ccV3aPRD.s:1600   .text.get_st_biases:00000420 $d
F:\msys64\tmp\ccV3aPRD.s:1605   .text.mpu_reg_dump:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:1611   .text.mpu_reg_dump:00000000 mpu_reg_dump
F:\msys64\tmp\ccV3aPRD.s:1695   .text.mpu_reg_dump:00000044 $d
F:\msys64\tmp\ccV3aPRD.s:1700   .text.mpu_read_reg:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:1706   .text.mpu_read_reg:00000000 mpu_read_reg
F:\msys64\tmp\ccV3aPRD.s:1789   .text.mpu_read_reg:0000003c $d
F:\msys64\tmp\ccV3aPRD.s:1794   .text.mpu_get_gyro_reg:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:1800   .text.mpu_get_gyro_reg:00000000 mpu_get_gyro_reg
F:\msys64\tmp\ccV3aPRD.s:1916   .text.mpu_get_gyro_reg:00000070 $d
F:\msys64\tmp\ccV3aPRD.s:1921   .text.mpu_get_accel_reg:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:1927   .text.mpu_get_accel_reg:00000000 mpu_get_accel_reg
F:\msys64\tmp\ccV3aPRD.s:2043   .text.mpu_get_accel_reg:00000070 $d
F:\msys64\tmp\ccV3aPRD.s:2048   .text.mpu_get_temperature:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:2054   .text.mpu_get_temperature:00000000 mpu_get_temperature
F:\msys64\tmp\ccV3aPRD.s:2184   .text.mpu_get_temperature:00000088 $d
F:\msys64\tmp\ccV3aPRD.s:2190   .text.mpu_get_temp_reg:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:2196   .text.mpu_get_temp_reg:00000000 mpu_get_temp_reg
F:\msys64\tmp\ccV3aPRD.s:2302   .text.mpu_get_temp_reg:0000004c $d
F:\msys64\tmp\ccV3aPRD.s:2307   .text.mpu_set_accel_bias:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:2313   .text.mpu_set_accel_bias:00000000 mpu_set_accel_bias
F:\msys64\tmp\ccV3aPRD.s:2576   .text.mpu_set_accel_bias:00000148 $d
F:\msys64\tmp\ccV3aPRD.s:2581   .text.mpu_reset_fifo:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:2587   .text.mpu_reset_fifo:00000000 mpu_reset_fifo
F:\msys64\tmp\ccV3aPRD.s:2956   .text.mpu_reset_fifo:000001f4 $d
F:\msys64\tmp\ccV3aPRD.s:2961   .text.mpu_get_gyro_fsr:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:2967   .text.mpu_get_gyro_fsr:00000000 mpu_get_gyro_fsr
F:\msys64\tmp\ccV3aPRD.s:2984   .text.mpu_get_gyro_fsr:0000000c $d
F:\msys64\tmp\ccV3aPRD.s:2988   .text.mpu_get_gyro_fsr:00000010 $t
F:\msys64\tmp\ccV3aPRD.s:3034   .text.mpu_get_gyro_fsr:00000038 $d
F:\msys64\tmp\ccV3aPRD.s:3039   .text.mpu_set_gyro_fsr:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:3045   .text.mpu_set_gyro_fsr:00000000 mpu_set_gyro_fsr
F:\msys64\tmp\ccV3aPRD.s:3189   .text.mpu_set_gyro_fsr:00000094 $d
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 224


F:\msys64\tmp\ccV3aPRD.s:3194   .text.mpu_get_accel_fsr:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:3200   .text.mpu_get_accel_fsr:00000000 mpu_get_accel_fsr
F:\msys64\tmp\ccV3aPRD.s:3217   .text.mpu_get_accel_fsr:0000000c $d
F:\msys64\tmp\ccV3aPRD.s:3221   .text.mpu_get_accel_fsr:00000010 $t
F:\msys64\tmp\ccV3aPRD.s:3283   .text.mpu_get_accel_fsr:00000040 $d
F:\msys64\tmp\ccV3aPRD.s:3288   .text.mpu_set_accel_fsr:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:3294   .text.mpu_set_accel_fsr:00000000 mpu_set_accel_fsr
F:\msys64\tmp\ccV3aPRD.s:3325   .text.mpu_set_accel_fsr:00000016 $d
F:\msys64\tmp\ccV3aPRD.s:3439   .text.mpu_set_accel_fsr:00000090 $d
F:\msys64\tmp\ccV3aPRD.s:3444   .text.mpu_get_lpf:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:3450   .text.mpu_get_lpf:00000000 mpu_get_lpf
F:\msys64\tmp\ccV3aPRD.s:3468   .text.mpu_get_lpf:0000000e $d
F:\msys64\tmp\ccV3aPRD.s:3474   .text.mpu_get_lpf:00000014 $t
F:\msys64\tmp\ccV3aPRD.s:3534   .text.mpu_get_lpf:00000040 $d
F:\msys64\tmp\ccV3aPRD.s:3539   .text.mpu_set_lpf:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:3545   .text.mpu_set_lpf:00000000 mpu_set_lpf
F:\msys64\tmp\ccV3aPRD.s:3691   .text.mpu_set_lpf:00000090 $d
F:\msys64\tmp\ccV3aPRD.s:3696   .text.mpu_get_sample_rate:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:3702   .text.mpu_get_sample_rate:00000000 mpu_get_sample_rate
F:\msys64\tmp\ccV3aPRD.s:3738   .text.mpu_get_sample_rate:00000018 $d
F:\msys64\tmp\ccV3aPRD.s:3743   .text.mpu_get_compass_sample_rate:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:3749   .text.mpu_get_compass_sample_rate:00000000 mpu_get_compass_sample_rate
F:\msys64\tmp\ccV3aPRD.s:3771   .text.mpu_set_compass_sample_rate:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:3777   .text.mpu_set_compass_sample_rate:00000000 mpu_set_compass_sample_rate
F:\msys64\tmp\ccV3aPRD.s:3795   .text.mpu_get_gyro_sens:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:3801   .text.mpu_get_gyro_sens:00000000 mpu_get_gyro_sens
F:\msys64\tmp\ccV3aPRD.s:3818   .text.mpu_get_gyro_sens:0000000c $d
F:\msys64\tmp\ccV3aPRD.s:3822   .text.mpu_get_gyro_sens:00000010 $t
F:\msys64\tmp\ccV3aPRD.s:3880   .text.mpu_get_gyro_sens:00000038 $d
F:\msys64\tmp\ccV3aPRD.s:3889   .text.mpu_get_accel_sens:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:3895   .text.mpu_get_accel_sens:00000000 mpu_get_accel_sens
F:\msys64\tmp\ccV3aPRD.s:3912   .text.mpu_get_accel_sens:0000000c $d
F:\msys64\tmp\ccV3aPRD.s:3916   .text.mpu_get_accel_sens:00000010 $t
F:\msys64\tmp\ccV3aPRD.s:3978   .text.mpu_get_accel_sens:00000048 $d
F:\msys64\tmp\ccV3aPRD.s:3983   .text.mpu_get_fifo_config:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:3989   .text.mpu_get_fifo_config:00000000 mpu_get_fifo_config
F:\msys64\tmp\ccV3aPRD.s:4012   .text.mpu_get_fifo_config:0000000c $d
F:\msys64\tmp\ccV3aPRD.s:4017   .text.mpu_configure_fifo:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:4023   .text.mpu_configure_fifo:00000000 mpu_configure_fifo
F:\msys64\tmp\ccV3aPRD.s:4140   .text.mpu_configure_fifo:00000060 $d
F:\msys64\tmp\ccV3aPRD.s:4145   .text.mpu_get_power_state:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:4151   .text.mpu_get_power_state:00000000 mpu_get_power_state
F:\msys64\tmp\ccV3aPRD.s:4186   .text.mpu_get_power_state:00000014 $d
F:\msys64\tmp\ccV3aPRD.s:4191   .text.mpu_get_int_status:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:4197   .text.mpu_get_int_status:00000000 mpu_get_int_status
F:\msys64\tmp\ccV3aPRD.s:4277   .text.mpu_get_int_status:00000040 $d
F:\msys64\tmp\ccV3aPRD.s:4282   .text.mpu_read_fifo:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:4288   .text.mpu_read_fifo:00000000 mpu_read_fifo
F:\msys64\tmp\ccV3aPRD.s:4716   .text.mpu_read_fifo:00000210 $d
F:\msys64\tmp\ccV3aPRD.s:4721   .text.mpu_read_fifo_stream:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:4727   .text.mpu_read_fifo_stream:00000000 mpu_read_fifo_stream
F:\msys64\tmp\ccV3aPRD.s:4923   .text.mpu_read_fifo_stream:000000bc $d
F:\msys64\tmp\ccV3aPRD.s:4928   .text.mpu_set_bypass:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:4934   .text.mpu_set_bypass:00000000 mpu_set_bypass
F:\msys64\tmp\ccV3aPRD.s:5210   .text.mpu_set_bypass:00000164 $d
F:\msys64\tmp\ccV3aPRD.s:5215   .text.mpu_set_int_level:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:5221   .text.mpu_set_int_level:00000000 mpu_set_int_level
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 225


F:\msys64\tmp\ccV3aPRD.s:5242   .text.mpu_set_int_level:0000000c $d
F:\msys64\tmp\ccV3aPRD.s:5247   .text.mpu_set_int_latched:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:5253   .text.mpu_set_int_latched:00000000 mpu_set_int_latched
F:\msys64\tmp\ccV3aPRD.s:5369   .text.mpu_set_int_latched:00000070 $d
F:\msys64\tmp\ccV3aPRD.s:5374   .text.mpu_lp_accel_mode:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:5380   .text.mpu_lp_accel_mode:00000000 mpu_lp_accel_mode
F:\msys64\tmp\ccV3aPRD.s:5584   .text.mpu_lp_accel_mode:000000d8 $d
F:\msys64\tmp\ccV3aPRD.s:5589   .text.mpu_set_sample_rate:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:5595   .text.mpu_set_sample_rate:00000000 mpu_set_sample_rate
F:\msys64\tmp\ccV3aPRD.s:5752   .text.mpu_set_sample_rate:0000009c $d
F:\msys64\tmp\ccV3aPRD.s:5757   .text.mpu_set_sensors:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:5763   .text.mpu_set_sensors:00000000 mpu_set_sensors
F:\msys64\tmp\ccV3aPRD.s:5950   .text.mpu_set_sensors:000000e0 $d
F:\msys64\tmp\ccV3aPRD.s:5955   .rodata.mpu_init.str1.4:00000000 $d
F:\msys64\tmp\ccV3aPRD.s:5993   .text.mpu_init:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:5999   .text.mpu_init:00000000 mpu_init
F:\msys64\tmp\ccV3aPRD.s:6402   .text.mpu_init:000001e4 $d
F:\msys64\tmp\ccV3aPRD.s:6419   .text.mpu_write_mem:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:6425   .text.mpu_write_mem:00000000 mpu_write_mem
F:\msys64\tmp\ccV3aPRD.s:6557   .text.mpu_write_mem:00000070 $d
F:\msys64\tmp\ccV3aPRD.s:6562   .text.mpu_read_mem:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:6568   .text.mpu_read_mem:00000000 mpu_read_mem
F:\msys64\tmp\ccV3aPRD.s:6700   .text.mpu_read_mem:00000070 $d
F:\msys64\tmp\ccV3aPRD.s:6705   .text.mpu_load_firmware:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:6711   .text.mpu_load_firmware:00000000 mpu_load_firmware
F:\msys64\tmp\ccV3aPRD.s:6888   .text.mpu_load_firmware:000000b0 $d
F:\msys64\tmp\ccV3aPRD.s:6893   .text.mpu_set_dmp_state:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:6899   .text.mpu_set_dmp_state:00000000 mpu_set_dmp_state
F:\msys64\tmp\ccV3aPRD.s:7046   .text.mpu_set_dmp_state:00000090 $d
F:\msys64\tmp\ccV3aPRD.s:7051   .text.mpu_run_self_test:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:7057   .text.mpu_run_self_test:00000000 mpu_run_self_test
F:\msys64\tmp\ccV3aPRD.s:7324   .text.mpu_run_self_test:00000104 $d
F:\msys64\tmp\ccV3aPRD.s:7329   .text.mpu_get_dmp_state:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:7335   .text.mpu_get_dmp_state:00000000 mpu_get_dmp_state
F:\msys64\tmp\ccV3aPRD.s:7358   .text.mpu_get_dmp_state:0000000c $d
F:\msys64\tmp\ccV3aPRD.s:7363   .text.mpu_get_compass_reg:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:7369   .text.mpu_get_compass_reg:00000000 mpu_get_compass_reg
F:\msys64\tmp\ccV3aPRD.s:7387   .text.mpu_get_compass_fsr:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:7393   .text.mpu_get_compass_fsr:00000000 mpu_get_compass_fsr
F:\msys64\tmp\ccV3aPRD.s:7411   .text.mpu_lp_motion_interrupt:00000000 $t
F:\msys64\tmp\ccV3aPRD.s:7417   .text.mpu_lp_motion_interrupt:00000000 mpu_lp_motion_interrupt
F:\msys64\tmp\ccV3aPRD.s:7850   .text.mpu_lp_motion_interrupt:000001e8 $d
F:\msys64\tmp\ccV3aPRD.s:7918   .rodata.test:00000000 test
F:\msys64\tmp\ccV3aPRD.s:7886   .rodata.reg:00000000 reg
F:\msys64\tmp\ccV3aPRD.s:7873   .rodata.hw:00000000 hw
F:\msys64\tmp\ccV3aPRD.s:7859   .data.st:00000000 $d
F:\msys64\tmp\ccV3aPRD.s:7863   .data.st:00000000 st
F:\msys64\tmp\ccV3aPRD.s:7870   .rodata.hw:00000000 $d
F:\msys64\tmp\ccV3aPRD.s:7883   .rodata.reg:00000000 $d
F:\msys64\tmp\ccV3aPRD.s:7915   .rodata.test:00000000 $d
F:\msys64\tmp\ccV3aPRD.s:3340   .text.mpu_set_accel_fsr:00000025 $d
F:\msys64\tmp\ccV3aPRD.s:3340   .text.mpu_set_accel_fsr:00000026 $t

UNDEFINED SYMBOLS
i2cread
i2cwrite
HAL_GetTick
ARM GAS  F:\msys64\tmp\ccV3aPRD.s 			page 226


HAL_Delay
__aeabi_ldivmod
puts
printf
memcmp
